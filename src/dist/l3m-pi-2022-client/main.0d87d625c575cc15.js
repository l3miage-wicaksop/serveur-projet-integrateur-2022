(self.webpackChunkl3m_pi_2022_client=self.webpackChunkl3m_pi_2022_client||[]).push([[179],{8939:(Ct,Le,k)=>{"use strict";k.d(Le,{Dh:()=>Se,GT:()=>pe,cc:()=>ke,hO:()=>Ve,on:()=>q,pX:()=>fe,xv:()=>Ee});var l=k(9724),H=k(7841),Q=k(9954);Ct=k.hmd(Ct);const le=["ngOnDestroy"],fe=(Ie,nt,Ge,Re={})=>new Proxy(Ie,{get:(Ne,Ce)=>Ge.runOutsideAngular(()=>{var et;if(Ie[Ce])return(null===(et=null==Re?void 0:Re.spy)||void 0===et?void 0:et.get)&&Re.spy.get(Ce,Ie[Ce]),Ie[Ce];if(le.indexOf(Ce)>-1)return()=>{};const ie=nt.toPromise().then(We=>{const re=We&&We[Ce];return"function"==typeof re?re.bind(We):re&&re.then?re.then(ge=>Ge.run(()=>ge)):Ge.run(()=>re)});return new Proxy(()=>{},{get:(We,re)=>ie[re],apply:(We,re,ge)=>ie.then(ve=>{var me;const Fe=ve&&ve(...ge);return(null===(me=null==Re?void 0:Re.spy)||void 0===me?void 0:me.apply)&&Re.spy.apply(Ce,ge,Fe),Fe})})})}),pe=(Ie,nt)=>{nt.forEach(Ge=>{Object.getOwnPropertyNames(Ge.prototype||Ge).forEach(Re=>{Object.defineProperty(Ie.prototype,Re,Object.getOwnPropertyDescriptor(Ge.prototype||Ge,Re))})})};class Pe{constructor(nt){return nt}}const Se=new l.OlP("angularfire2.app.options"),Ee=new l.OlP("angularfire2.app.name");function q(Ie,nt,Ge){const Ne="object"==typeof Ge&&Ge||{};Ne.name=Ne.name||"string"==typeof Ge&&Ge||"[DEFAULT]";const et=H.Z.apps.filter(ie=>ie&&ie.name===Ne.name)[0]||nt.runOutsideAngular(()=>H.Z.initializeApp(Ie,Ne));try{JSON.stringify(Ie)!==JSON.stringify(et.options)&&W("error",`${et.name} Firebase App already initialized with different options${Ct.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ie){}return new Pe(et)}const W=(Ie,...nt)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[Ie](...nt)},ae={provide:Pe,useFactory:q,deps:[Se,l.R0b,[new l.FiY,Ee]]};let Ve=(()=>{class Ie{constructor(Ge){H.Z.registerVersion("angularfire",Q.q4.full,"core"),H.Z.registerVersion("angularfire",Q.q4.full,"app-compat"),H.Z.registerVersion("angular",l.q4F.full,Ge.toString())}static initializeApp(Ge,Re){return{ngModule:Ie,providers:[{provide:Se,useValue:Ge},{provide:Ee,useValue:Re}]}}}return Ie.\u0275fac=function(Ge){return new(Ge||Ie)(l.LFG(l.Lbi))},Ie.\u0275mod=l.oAB({type:Ie}),Ie.\u0275inj=l.cJS({providers:[ae]}),Ie})();function ke(Ie,nt,Ge,Re,Ne){const[,Ce,et]=globalThis.\u0275AngularfireInstanceCache.find(ie=>ie[0]===Ie)||[];if(Ce)return function je(Ie,nt){try{return Ie.toString()===nt.toString()}catch(Ge){return Ie===nt}}(Ne,et)||(_e("error",`${nt} was already initialized on the ${Ge} Firebase App with different settings.${Ze?" You may need to reload as Firebase is not HMR aware.":""}`),_e("warn",{is:Ne,was:et})),Ce;{const ie=Re();return globalThis.\u0275AngularfireInstanceCache.push([Ie,ie,Ne]),ie}}const Ze=!!Ct.hot,_e=(Ie,...nt)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[Ie](...nt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},9954:(Ct,Le,k)=>{"use strict";k.d(Le,{q4:()=>ld,iC:()=>hd,HU:()=>iu,vb:()=>ru,JM:()=>nu,u3:()=>fd});var l=k(9724),H=k(2329),Q=k(8239),le=k(8026),fe=k(3854),pe=k(3910),Pe=k(5422);const Se="@firebase/installations",W="w:0.5.8",ae="FIS_v2",Ie=new fe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function nt(A){return A instanceof fe.ZR&&A.code.includes("request-failed")}function Ge({projectId:A}){return`https://firebaseinstallations.googleapis.com/v1/projects/${A}/installations`}function Re(A){return{token:A.token,requestStatus:2,expiresIn:ge(A.expiresIn),creationTime:Date.now()}}function Ne(A,S){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,Q.Z)(function*(A,S){const j=(yield S.json()).error;return Ie.create("request-failed",{requestName:A,serverCode:j.code,serverMessage:j.message,serverStatus:j.status})})).apply(this,arguments)}function et({apiKey:A}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A})}function ie(A,{refreshToken:S}){const N=et(A);return N.append("Authorization",function ve(A){return`${ae} ${A}`}(S)),N}function We(A){return re.apply(this,arguments)}function re(){return(re=(0,Q.Z)(function*(A){const S=yield A();return S.status>=500&&S.status<600?A():S})).apply(this,arguments)}function ge(A){return Number(A.replace("s","000"))}function me(A,S){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,Q.Z)(function*({appConfig:A,heartbeatServiceProvider:S},{fid:N}){const j=Ge(A),te=et(A),ce=S.getImmediate({optional:!0});if(ce){const Tt=yield ce.getHeartbeatsHeader();Tt&&te.append("x-firebase-client",Tt)}const st={method:"POST",headers:te,body:JSON.stringify({fid:N,authVersion:ae,appId:A.appId,sdkVersion:W})},St=yield We(()=>fetch(j,st));if(St.ok){const Tt=yield St.json();return{fid:Tt.fid||N,registrationStatus:2,refreshToken:Tt.refreshToken,authToken:Re(Tt.authToken)}}throw yield Ne("Create Installation",St)})).apply(this,arguments)}function ee(A){return new Promise(S=>{setTimeout(S,A)})}const lt=/^[cdef][\w-]{21}$/;function ot(){try{const A=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(A),A[0]=112+A[0]%16;const N=function it(A){return function Nt(A){return btoa(String.fromCharCode(...A)).replace(/\+/g,"-").replace(/\//g,"_")}(A).substr(0,22)}(A);return lt.test(N)?N:""}catch(A){return""}}function Lt(A){return`${A.appName}!${A.appId}`}const wt=new Map;function hn(A,S){const N=Lt(A);fn(N,S),function jn(A,S){const N=function _r(){return!mr&&"BroadcastChannel"in self&&(mr=new BroadcastChannel("[Firebase] FID Change"),mr.onmessage=A=>{fn(A.data.key,A.data.fid)}),mr}();N&&N.postMessage({key:A,fid:S}),function Ir(){0===wt.size&&mr&&(mr.close(),mr=null)}()}(N,S)}function fn(A,S){const N=wt.get(A);if(N)for(const j of N)j(S)}let mr=null;const Fr="firebase-installations-store";let Vr=null;function ms(){return Vr||(Vr=(0,fe.X3)("firebase-installations-database",1,(A,S)=>{0===S&&A.createObjectStore(Fr)})),Vr}function ht(A,S){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,Q.Z)(function*(A,S){const N=Lt(A),te=(yield ms()).transaction(Fr,"readwrite"),ce=te.objectStore(Fr),Be=yield ce.get(N);return yield ce.put(S,N),yield te.complete,(!Be||Be.fid!==S.fid)&&hn(A,S.fid),S})).apply(this,arguments)}function zn(A){return qn.apply(this,arguments)}function qn(){return(qn=(0,Q.Z)(function*(A){const S=Lt(A),j=(yield ms()).transaction(Fr,"readwrite");yield j.objectStore(Fr).delete(S),yield j.complete})).apply(this,arguments)}function hr(A,S){return _s.apply(this,arguments)}function _s(){return(_s=(0,Q.Z)(function*(A,S){const N=Lt(A),te=(yield ms()).transaction(Fr,"readwrite"),ce=te.objectStore(Fr),Be=yield ce.get(N),st=S(Be);return void 0===st?yield ce.delete(N):yield ce.put(st,N),yield te.complete,st&&(!Be||Be.fid!==st.fid)&&hn(A,st.fid),st})).apply(this,arguments)}function Wn(A){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,Q.Z)(function*(A){let S;const N=yield hr(A.appConfig,j=>{const te=ui(j),ce=io(A,te);return S=ce.registrationPromise,ce.installationEntry});return""===N.fid?{installationEntry:yield S}:{installationEntry:N,registrationPromise:S}})).apply(this,arguments)}function ui(A){return Jt(A||{fid:ot(),registrationStatus:0})}function io(A,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(Ie.create("app-offline"))};const N={fid:S.fid,registrationStatus:1,registrationTime:Date.now()},j=function qt(A,S){return mt.apply(this,arguments)}(A,N);return{installationEntry:N,registrationPromise:j}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:_t(A)}:{installationEntry:S}}function mt(){return(mt=(0,Q.Z)(function*(A,S){try{const N=yield me(A,S);return ht(A.appConfig,N)}catch(N){throw nt(N)&&409===N.customData.serverCode?yield zn(A.appConfig):yield ht(A.appConfig,{fid:S.fid,registrationStatus:0}),N}})).apply(this,arguments)}function _t(A){return xi.apply(this,arguments)}function xi(){return(xi=(0,Q.Z)(function*(A){let S=yield Wi(A.appConfig);for(;1===S.registrationStatus;)yield ee(100),S=yield Wi(A.appConfig);if(0===S.registrationStatus){const{installationEntry:N,registrationPromise:j}=yield Wn(A);return j||N}return S})).apply(this,arguments)}function Wi(A){return hr(A,S=>{if(!S)throw Ie.create("installation-not-found");return Jt(S)})}function Jt(A){return function ys(A){return 1===A.registrationStatus&&A.registrationTime+1e4<Date.now()}(A)?{fid:A.fid,registrationStatus:0}:A}function yn(A,S){return tr.apply(this,arguments)}function tr(){return(tr=(0,Q.Z)(function*({appConfig:A,heartbeatServiceProvider:S},N){const j=Dt(A,N),te=ie(A,N),ce=S.getImmediate({optional:!0});if(ce){const Tt=yield ce.getHeartbeatsHeader();Tt&&te.append("x-firebase-client",Tt)}const st={method:"POST",headers:te,body:JSON.stringify({installation:{sdkVersion:W,appId:A.appId}})},St=yield We(()=>fetch(j,st));if(St.ok)return Re(yield St.json());throw yield Ne("Generate Auth Token",St)})).apply(this,arguments)}function Dt(A,{fid:S}){return`${Ge(A)}/${S}/authTokens:generate`}function yr(A){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,Q.Z)(function*(A,S=!1){let N;const j=yield hr(A.appConfig,ce=>{if(!Vt(ce))throw Ie.create("not-registered");const Be=ce.authToken;if(!S&&K(Be))return ce;if(1===Be.requestStatus)return N=Ye(A,S),ce;{if(!navigator.onLine)throw Ie.create("app-offline");const st=J(ce);return N=vt(A,st),st}});return N?yield N:j.authToken})).apply(this,arguments)}function Ye(A,S){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,Q.Z)(function*(A,S){let N=yield rt(A.appConfig);for(;1===N.authToken.requestStatus;)yield ee(100),N=yield rt(A.appConfig);const j=N.authToken;return 0===j.requestStatus?yr(A,S):j})).apply(this,arguments)}function rt(A){return hr(A,S=>{if(!Vt(S))throw Ie.create("not-registered");return function he(A){return 1===A.requestStatus&&A.requestTime+1e4<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function vt(A,S){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,Q.Z)(function*(A,S){try{const N=yield yn(A,S),j=Object.assign(Object.assign({},S),{authToken:N});return yield ht(A.appConfig,j),N}catch(N){if(!nt(N)||401!==N.customData.serverCode&&404!==N.customData.serverCode){const j=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield ht(A.appConfig,j)}else yield zn(A.appConfig);throw N}})).apply(this,arguments)}function Vt(A){return void 0!==A&&2===A.registrationStatus}function K(A){return 2===A.requestStatus&&!function Z(A){const S=Date.now();return S<A.creationTime||A.creationTime+A.expiresIn<S+36e5}(A)}function J(A){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},A),{authToken:S})}function qe(){return(qe=(0,Q.Z)(function*(A){const S=A,{installationEntry:N,registrationPromise:j}=yield Wn(S);return j?j.catch(console.error):yr(S).catch(console.error),N.fid})).apply(this,arguments)}function an(){return(an=(0,Q.Z)(function*(A,S=!1){const N=A;return yield vr(N),(yield yr(N,S)).token})).apply(this,arguments)}function vr(A){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,Q.Z)(function*(A){const{registrationPromise:S}=yield Wn(A);S&&(yield S)})).apply(this,arguments)}function rr(A){return Ie.create("missing-app-config-values",{valueName:A})}const Va="installations",Ke=A=>{const S=A.getProvider("app").getImmediate(),N=function Ki(A){if(!A||!A.options)throw rr("App Configuration");if(!A.name)throw rr("App Name");const S=["projectId","apiKey","appId"];for(const N of S)if(!A.options[N])throw rr(N);return{appName:A.name,projectId:A.options.projectId,apiKey:A.options.apiKey,appId:A.options.appId}}(S);return{app:S,appConfig:N,heartbeatServiceProvider:(0,le._getProvider)(S,"heartbeat"),_delete:()=>Promise.resolve()}},Rt=A=>{const S=A.getProvider("app").getImmediate(),N=(0,le._getProvider)(S,Va).getImmediate();return{getId:()=>function ue(A){return qe.apply(this,arguments)}(N),getToken:te=>function Et(A){return an.apply(this,arguments)}(N,te)}};(function Tn(){(0,le._registerComponent)(new pe.wA(Va,Ke,"PUBLIC")),(0,le._registerComponent)(new pe.wA("installations-internal",Rt,"PRIVATE"))})(),(0,le.registerVersion)(Se,"0.5.8"),(0,le.registerVersion)(Se,"0.5.8","esm2017");const Pr="@firebase/remote-config",On=new fe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ao{constructor(S,N,j,te){this.client=S,this.storage=N,this.storageCache=j,this.logger=te}isCachedDataFresh(S,N){if(!N)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const j=Date.now()-N,te=j<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${j}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${te}.`),te}fetch(S){var N=this;return(0,Q.Z)(function*(){const[j,te]=yield Promise.all([N.storage.getLastSuccessfulFetchTimestampMillis(),N.storage.getLastSuccessfulFetchResponse()]);if(te&&N.isCachedDataFresh(S.cacheMaxAgeMillis,j))return te;S.eTag=te&&te.eTag;const ce=yield N.client.fetch(S),Be=[N.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ce.status&&Be.push(N.storage.setLastSuccessfulFetchResponse(ce)),yield Promise.all(Be),ce})()}}function Fo(A=navigator){return A.languages&&A.languages[0]||A.language}class Qi{constructor(S,N,j,te,ce,Be){this.firebaseInstallations=S,this.sdkVersion=N,this.namespace=j,this.projectId=te,this.apiKey=ce,this.appId=Be}fetch(S){var N=this;return(0,Q.Z)(function*(){const[j,te]=yield Promise.all([N.firebaseInstallations.getId(),N.firebaseInstallations.getToken()]),Be=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${N.projectId}/namespaces/${N.namespace}:fetch?key=${N.apiKey}`,st={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},St={sdk_version:N.sdkVersion,app_instance_id:j,app_instance_id_token:te,app_id:N.appId,language_code:Fo()},Tt={method:"POST",headers:st,body:JSON.stringify(St)},en=fetch(Be,Tt),xt=new Promise((qs,Ws)=>{S.signal.addEventListener(()=>{const Ks=new Error("The operation was aborted.");Ks.name="AbortError",Ws(Ks)})});let ls;try{yield Promise.race([en,xt]),ls=yield en}catch(qs){let Ws="fetch-client-network";throw"AbortError"===qs.name&&(Ws="fetch-timeout"),On.create(Ws,{originalErrorMessage:qs.message})}let ur=ls.status;const To=ls.headers.get("ETag")||void 0;let na,wa;if(200===ls.status){let qs;try{qs=yield ls.json()}catch(Ws){throw On.create("fetch-client-parse",{originalErrorMessage:Ws.message})}na=qs.entries,wa=qs.state}if("INSTANCE_STATE_UNSPECIFIED"===wa?ur=500:"NO_CHANGE"===wa?ur=304:("NO_TEMPLATE"===wa||"EMPTY_CONFIG"===wa)&&(na={}),304!==ur&&200!==ur)throw On.create("fetch-status",{httpStatus:ur});return{status:ur,eTag:To,config:na}})()}}class Oi{constructor(S,N){this.client=S,this.storage=N}fetch(S){var N=this;return(0,Q.Z)(function*(){const j=(yield N.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return N.attemptFetch(S,j)})()}attemptFetch(S,{throttleEndTimeMillis:N,backoffCount:j}){var te=this;return(0,Q.Z)(function*(){yield function Sr(A,S){return new Promise((N,j)=>{const te=Math.max(S-Date.now(),0),ce=setTimeout(N,te);A.addEventListener(()=>{clearTimeout(ce),j(On.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,N);try{const ce=yield te.client.fetch(S);return yield te.storage.deleteThrottleMetadata(),ce}catch(ce){if(!function el(A){if(!(A instanceof fe.ZR&&A.customData))return!1;const S=Number(A.customData.httpStatus);return 429===S||500===S||503===S||504===S}(ce))throw ce;const Be={throttleEndTimeMillis:Date.now()+(0,fe.$s)(j),backoffCount:j+1};return yield te.storage.setThrottleMetadata(Be),te.attemptFetch(S,Be)}})()}}class tl{constructor(S,N,j,te,ce){this.app=S,this._client=N,this._storageCache=j,this._storage=te,this._logger=ce,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function la(A,S){const N=A.target.error||void 0;return On.create(S,{originalErrorMessage:N&&N.message})}const Ut="app_namespace_store";class Ua{constructor(S,N,j,te=function Gl(){return new Promise((A,S)=>{try{const N=indexedDB.open("firebase_remote_config",1);N.onerror=j=>{S(la(j,"storage-open"))},N.onsuccess=j=>{A(j.target.result)},N.onupgradeneeded=j=>{0===j.oldVersion&&j.target.result.createObjectStore(Ut,{keyPath:"compositeKey"})}}catch(N){S(On.create("storage-open",{originalErrorMessage:N}))}})}()){this.appId=S,this.appName=N,this.namespace=j,this.openDbPromise=te}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var N=this;return(0,Q.Z)(function*(){const j=yield N.openDbPromise;return new Promise((te,ce)=>{const st=j.transaction([Ut],"readonly").objectStore(Ut),St=N.createCompositeKey(S);try{const Tt=st.get(St);Tt.onerror=en=>{ce(la(en,"storage-get"))},Tt.onsuccess=en=>{const xt=en.target.result;te(xt?xt.value:void 0)}}catch(Tt){ce(On.create("storage-get",{originalErrorMessage:Tt&&Tt.message}))}})})()}set(S,N){var j=this;return(0,Q.Z)(function*(){const te=yield j.openDbPromise;return new Promise((ce,Be)=>{const St=te.transaction([Ut],"readwrite").objectStore(Ut),Tt=j.createCompositeKey(S);try{const en=St.put({compositeKey:Tt,value:N});en.onerror=xt=>{Be(la(xt,"storage-set"))},en.onsuccess=()=>{ce()}}catch(en){Be(On.create("storage-set",{originalErrorMessage:en&&en.message}))}})})()}delete(S){var N=this;return(0,Q.Z)(function*(){const j=yield N.openDbPromise;return new Promise((te,ce)=>{const st=j.transaction([Ut],"readwrite").objectStore(Ut),St=N.createCompositeKey(S);try{const Tt=st.delete(St);Tt.onerror=en=>{ce(la(en,"storage-delete"))},Tt.onsuccess=()=>{te()}}catch(Tt){ce(On.create("storage-delete",{originalErrorMessage:Tt&&Tt.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class ws{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,Q.Z)(function*(){const N=S.storage.getLastFetchStatus(),j=S.storage.getLastSuccessfulFetchTimestampMillis(),te=S.storage.getActiveConfig(),ce=yield N;ce&&(S.lastFetchStatus=ce);const Be=yield j;Be&&(S.lastSuccessfulFetchTimestampMillis=Be);const st=yield te;st&&(S.activeConfig=st)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function Vo(){return Or.apply(this,arguments)}function Or(){return(Or=(0,Q.Z)(function*(){if(!(0,fe.hl)())return!1;try{return yield(0,fe.eu)()}catch(A){return!1}})).apply(this,arguments)}!function nl(){(0,le._registerComponent)(new pe.wA("remote-config",function A(S,{instanceIdentifier:N}){const j=S.getProvider("app").getImmediate(),te=S.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw On.create("registration-window");if(!(0,fe.hl)())throw On.create("indexed-db-unavailable");const{projectId:ce,apiKey:Be,appId:st}=j.options;if(!ce)throw On.create("registration-project-id");if(!Be)throw On.create("registration-api-key");if(!st)throw On.create("registration-app-id");const St=new Ua(st,j.name,N=N||"firebase"),Tt=new ws(St),en=new Pe.Yd(Pr);en.logLevel=Pe.in.ERROR;const xt=new Qi(te,le.SDK_VERSION,N,ce,Be,st),ls=new Oi(xt,St),ur=new ao(ls,St,Tt,en),To=new tl(j,ur,Tt,St,en);return function Hn(A){const S=(0,fe.m9)(A);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(To),To},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(Pr,"0.3.7"),(0,le.registerVersion)(Pr,"0.3.7","esm2017")}();const wr="/firebase-messaging-sw.js",Uo="/firebase-cloud-messaging-push-scope",hi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ks="google.c.a.c_id",Bo="google.c.a.c_l",Du="google.c.a.ts",Ls="google.c.a.e";var fi=(()=>{return(A=fi||(fi={})).PUSH_RECEIVED="push-received",A.NOTIFICATION_CLICKED="notification-clicked",fi;var A})();function zt(A){const S=new Uint8Array(A);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ba(A){const N=(A+"=".repeat((4-A.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),j=atob(N),te=new Uint8Array(j.length);for(let ce=0;ce<j.length;++ce)te[ce]=j.charCodeAt(ce);return te}const Nr="fcm_token_details_db",jo="fcm_token_object_Store";function nd(A){return Fs.apply(this,arguments)}function Fs(){return Fs=(0,Q.Z)(function*(A){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ce=>ce.name).includes(Nr))return null;let S=null;return(yield(0,fe.X3)(Nr,5,function(){var j=(0,Q.Z)(function*(te,ce,Be,st){var St;if(ce<2||!te.objectStoreNames.contains(jo))return;const Tt=st.objectStore(jo),en=yield Tt.index("fcmSenderId").get(A);if(yield Tt.clear(),en)if(2===ce){const xt=en;if(!xt.auth||!xt.p256dh||!xt.endpoint)return;S={token:xt.fcmToken,createTime:null!==(St=xt.createTime)&&void 0!==St?St:Date.now(),subscriptionOptions:{auth:xt.auth,p256dh:xt.p256dh,endpoint:xt.endpoint,swScope:xt.swScope,vapidKey:"string"==typeof xt.vapidKey?xt.vapidKey:zt(xt.vapidKey)}}}else if(3===ce){const xt=en;S={token:xt.fcmToken,createTime:xt.createTime,subscriptionOptions:{auth:zt(xt.auth),p256dh:zt(xt.p256dh),endpoint:xt.endpoint,swScope:xt.swScope,vapidKey:zt(xt.vapidKey)}}}else if(4===ce){const xt=en;S={token:xt.fcmToken,createTime:xt.createTime,subscriptionOptions:{auth:zt(xt.auth),p256dh:zt(xt.p256dh),endpoint:xt.endpoint,swScope:xt.swScope,vapidKey:zt(xt.vapidKey)}}}});return function(te,ce,Be,st){return j.apply(this,arguments)}}())).close(),yield(0,fe.Lj)(Nr),yield(0,fe.Lj)("fcm_vapid_details_db"),yield(0,fe.Lj)("undefined"),Iu(S)?S:null}),Fs.apply(this,arguments)}function Iu(A){if(!A||!A.subscriptionOptions)return!1;const{subscriptionOptions:S}=A;return"number"==typeof A.createTime&&A.createTime>0&&"string"==typeof A.token&&A.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}const es="firebase-messaging-store";let uo=null;function pi(){return uo||(uo=(0,fe.X3)("firebase-messaging-database",1,(A,S)=>{0===S&&A.createObjectStore(es)})),uo}function Sn(A){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,Q.Z)(function*(A){const S=bs(A),j=yield(yield pi()).transaction(es).objectStore(es).get(S);if(j)return j;{const te=yield nd(A.appConfig.senderId);if(te)return yield Us(A,te),te}})).apply(this,arguments)}function Us(A,S){return En.apply(this,arguments)}function En(){return(En=(0,Q.Z)(function*(A,S){const N=bs(A),te=(yield pi()).transaction(es,"readwrite");return yield te.objectStore(es).put(S,N),yield te.complete,S})).apply(this,arguments)}function Es(A){return lo.apply(this,arguments)}function lo(){return(lo=(0,Q.Z)(function*(A){const S=bs(A),j=(yield pi()).transaction(es,"readwrite");yield j.objectStore(es).delete(S),yield j.complete})).apply(this,arguments)}function bs({appConfig:A}){return A.appId}const ir=new fe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function zo(A,S){return gi.apply(this,arguments)}function gi(){return(gi=(0,Q.Z)(function*(A,S){const N=yield jr(A),j=bt(S),te={method:"POST",headers:N,body:JSON.stringify(j)};let ce;try{ce=yield(yield fetch(Ni(A.appConfig),te)).json()}catch(Be){throw ir.create("token-subscribe-failed",{errorInfo:Be})}if(ce.error)throw ir.create("token-subscribe-failed",{errorInfo:ce.error.message});if(!ce.token)throw ir.create("token-subscribe-no-token");return ce.token})).apply(this,arguments)}function Rr(A,S){return ts.apply(this,arguments)}function ts(){return(ts=(0,Q.Z)(function*(A,S){const N=yield jr(A),j=bt(S.subscriptionOptions),te={method:"PATCH",headers:N,body:JSON.stringify(j)};let ce;try{ce=yield(yield fetch(`${Ni(A.appConfig)}/${S.token}`,te)).json()}catch(Be){throw ir.create("token-update-failed",{errorInfo:Be})}if(ce.error)throw ir.create("token-update-failed",{errorInfo:ce.error.message});if(!ce.token)throw ir.create("token-update-no-token");return ce.token})).apply(this,arguments)}function ns(A,S){return mi.apply(this,arguments)}function mi(){return(mi=(0,Q.Z)(function*(A,S){const j={method:"DELETE",headers:yield jr(A)};try{const ce=yield(yield fetch(`${Ni(A.appConfig)}/${S}`,j)).json();if(ce.error)throw ir.create("token-unsubscribe-failed",{errorInfo:ce.error.message})}catch(te){throw ir.create("token-unsubscribe-failed",{errorInfo:te})}})).apply(this,arguments)}function Ni({projectId:A}){return`https://fcmregistrations.googleapis.com/v1/projects/${A}/registrations`}function jr(A){return Er.apply(this,arguments)}function Er(){return(Er=(0,Q.Z)(function*({appConfig:A,installations:S}){const N=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A.apiKey,"x-goog-firebase-installations-auth":`FIS ${N}`})})).apply(this,arguments)}function bt({p256dh:A,auth:S,endpoint:N,vapidKey:j}){const te={web:{endpoint:N,auth:S,p256dh:A}};return j!==hi&&(te.web.applicationPubKey=j),te}const da=6048e5;function Su(A){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,Q.Z)(function*(A){const S=yield Ri(A.swRegistration,A.vapidKey),N={vapidKey:A.vapidKey,swScope:A.swRegistration.scope,endpoint:S.endpoint,auth:zt(S.getKey("auth")),p256dh:zt(S.getKey("p256dh"))},j=yield Sn(A.firebaseDependencies);if(j){if(Ha(j.subscriptionOptions,N))return Date.now()>=j.createTime+da?Wl(A,{token:j.token,createTime:Date.now(),subscriptionOptions:N}):j.token;try{yield ns(A.firebaseDependencies,j.token)}catch(te){console.warn(te)}return xe(A.firebaseDependencies,N)}return xe(A.firebaseDependencies,N)})).apply(this,arguments)}function za(A){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,Q.Z)(function*(A){const S=yield Sn(A.firebaseDependencies);S&&(yield ns(A.firebaseDependencies,S.token),yield Es(A.firebaseDependencies));const N=yield A.swRegistration.pushManager.getSubscription();return!N||N.unsubscribe()})).apply(this,arguments)}function Wl(A,S){return ha.apply(this,arguments)}function ha(){return(ha=(0,Q.Z)(function*(A,S){try{const N=yield Rr(A.firebaseDependencies,S),j=Object.assign(Object.assign({},S),{token:N,createTime:Date.now()});return yield Us(A.firebaseDependencies,j),N}catch(N){throw yield za(A),N}})).apply(this,arguments)}function xe(A,S){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,Q.Z)(function*(A,S){const j={token:yield zo(A,S),createTime:Date.now(),subscriptionOptions:S};return yield Us(A,j),j.token})).apply(this,arguments)}function Ri(A,S){return mn.apply(this,arguments)}function mn(){return(mn=(0,Q.Z)(function*(A,S){return(yield A.pushManager.getSubscription())||A.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ba(S)})})).apply(this,arguments)}function Ha(A,S){return S.vapidKey===A.vapidKey&&S.endpoint===A.endpoint&&S.auth===A.auth&&S.p256dh===A.p256dh}function Qr(A){const S={from:A.from,collapseKey:A.collapse_key,messageId:A.fcmMessageId};return function ki(A,S){if(!S.notification)return;A.notification={};const N=S.notification.title;N&&(A.notification.title=N);const j=S.notification.body;j&&(A.notification.body=j);const te=S.notification.image;te&&(A.notification.image=te)}(S,A),function js(A,S){!S.data||(A.data=S.data)}(S,A),function fa(A,S){if(!S.fcmOptions)return;A.fcmOptions={};const N=S.fcmOptions.link;N&&(A.fcmOptions.link=N);const j=S.fcmOptions.analytics_label;j&&(A.fcmOptions.analyticsLabel=j)}(S,A),S}function Za(A){return"object"==typeof A&&!!A&&ks in A}function $a(A,S){const N=[];for(let j=0;j<A.length;j++)N.push(A.charAt(j)),j<S.length&&N.push(S.charAt(j));return N.join("")}function Zo(A){return ir.create("missing-app-config-values",{valueName:A})}$a("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),$a("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Nn{constructor(S,N,j){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const te=function Cs(A){if(!A||!A.options)throw Zo("App Configuration Object");if(!A.name)throw Zo("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:N}=A;for(const j of S)if(!N[j])throw Zo(j);return{appName:A.name,projectId:N.projectId,apiKey:N.apiKey,appId:N.appId,senderId:N.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:te,installations:N,analyticsProvider:j}}_delete(){return Promise.resolve()}}function Xr(A){return $o.apply(this,arguments)}function $o(){return($o=(0,Q.Z)(function*(A){try{A.swRegistration=yield navigator.serviceWorker.register(wr,{scope:Uo}),A.swRegistration.update().catch(()=>{})}catch(S){throw ir.create("failed-service-worker-registration",{browserErrorMessage:S.message})}})).apply(this,arguments)}function zs(A,S){return ei.apply(this,arguments)}function ei(){return(ei=(0,Q.Z)(function*(A,S){if(!S&&!A.swRegistration&&(yield Xr(A)),S||!A.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw ir.create("invalid-sw-registration");A.swRegistration=S}})).apply(this,arguments)}function Ts(A,S){return Go.apply(this,arguments)}function Go(){return(Go=(0,Q.Z)(function*(A,S){S?A.vapidKey=S:A.vapidKey||(A.vapidKey=hi)})).apply(this,arguments)}function pa(){return(pa=(0,Q.Z)(function*(A,S){if(!navigator)throw ir.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ir.create("permission-blocked");return yield Ts(A,null==S?void 0:S.vapidKey),yield zs(A,null==S?void 0:S.serviceWorkerRegistration),Su(A)})).apply(this,arguments)}function Li(A,S,N){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,Q.Z)(function*(A,S,N){const j=il(S);(yield A.firebaseDependencies.analyticsProvider.get()).logEvent(j,{message_id:N[ks],message_name:N[Bo],message_time:N[Du],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function il(A){switch(A){case fi.NOTIFICATION_CLICKED:return"notification_open";case fi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function qo(){return(qo=(0,Q.Z)(function*(A,S){const N=S.data;if(!N.isFirebaseMessaging)return;A.onMessageHandler&&N.messageType===fi.PUSH_RECEIVED&&("function"==typeof A.onMessageHandler?A.onMessageHandler(Qr(N)):A.onMessageHandler.next(Qr(N)));const j=N.data;Za(j)&&"1"===j[Ls]&&(yield Li(A,N.messageType,j))})).apply(this,arguments)}const Wo="@firebase/messaging",_i=A=>{const S=new Nn(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),A.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",N=>function ga(A,S){return qo.apply(this,arguments)}(S,N)),S},Ko=A=>{const S=A.getProvider("messaging").getImmediate();return{getToken:j=>function co(A,S){return pa.apply(this,arguments)}(S,j)}};function Mu(){return ho.apply(this,arguments)}function ho(){return(ho=(0,Q.Z)(function*(){try{yield(0,fe.eu)()}catch(A){return!1}return"undefined"!=typeof window&&(0,fe.hl)()&&(0,fe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function xu(){(0,le._registerComponent)(new pe.wA("messaging",_i,"PUBLIC")),(0,le._registerComponent)(new pe.wA("messaging-internal",Ko,"PRIVATE")),(0,le.registerVersion)(Wo,"0.9.12"),(0,le.registerVersion)(Wo,"0.9.12","esm2017")}();const Nu="analytics",fo="firebase_id",Ru="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",$s="https://www.googletagmanager.com/gtag/js",sr=new Pe.Yd("@firebase/analytics");function go(A){return Promise.all(A.map(S=>S.catch(N=>N)))}function ku(A,S){const N=document.createElement("script");N.src=`${$s}?l=${A}&id=${S}`,N.async=!0,document.head.appendChild(N)}function Ga(A,S,N,j,te,ce){return zr.apply(this,arguments)}function zr(){return(zr=(0,Q.Z)(function*(A,S,N,j,te,ce){const Be=j[te];try{if(Be)yield S[Be];else{const St=(yield go(N)).find(Tt=>Tt.measurementId===te);St&&(yield S[St.appId])}}catch(st){sr.error(st)}A("config",te,ce)})).apply(this,arguments)}function sl(A,S,N,j,te){return mo.apply(this,arguments)}function mo(){return(mo=(0,Q.Z)(function*(A,S,N,j,te){try{let ce=[];if(te&&te.send_to){let Be=te.send_to;Array.isArray(Be)||(Be=[Be]);const st=yield go(N);for(const St of Be){const Tt=st.find(xt=>xt.measurementId===St),en=Tt&&S[Tt.appId];if(!en){ce=[];break}ce.push(en)}}0===ce.length&&(ce=Object.values(S)),yield Promise.all(ce),A("event",j,te||{})}catch(ce){sr.error(ce)}})).apply(this,arguments)}function ol(){const A=window.document.getElementsByTagName("script");for(const S of Object.values(A))if(S.src&&S.src.includes($s))return S;return null}const Qn=new fe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),is=new class qa{constructor(S={},N=1e3){this.throttleMetadata=S,this.intervalMillis=N}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,N){this.throttleMetadata[S]=N}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function Wa(A){return new Headers({Accept:"application/json","x-goog-api-key":A})}function Zn(A){return yi.apply(this,arguments)}function yi(){return(yi=(0,Q.Z)(function*(A){var S;const{appId:N,apiKey:j}=A,te={method:"GET",headers:Wa(j)},ce=Ru.replace("{app-id}",N),Be=yield fetch(ce,te);if(200!==Be.status&&304!==Be.status){let st="";try{const St=yield Be.json();(null===(S=St.error)||void 0===S?void 0:S.message)&&(st=St.error.message)}catch(St){}throw Qn.create("config-fetch-failed",{httpStatus:Be.status,responseMessage:st})}return Be.json()})).apply(this,arguments)}function Is(A){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,Q.Z)(function*(A,S=is,N){const{appId:j,apiKey:te,measurementId:ce}=A.options;if(!j)throw Qn.create("no-app-id");if(!te){if(ce)return{measurementId:ce,appId:j};throw Qn.create("no-api-key")}const Be=S.getThrottleMetadata(j)||{backoffCount:0,throttleEndTimeMillis:Date.now()},st=new T;return setTimeout((0,Q.Z)(function*(){st.abort()}),void 0!==N?N:6e4),Xt({appId:j,apiKey:te,measurementId:ce},Be,st,S)})).apply(this,arguments)}function Xt(A,S,N){return u.apply(this,arguments)}function u(){return(u=(0,Q.Z)(function*(A,{throttleEndTimeMillis:S,backoffCount:N},j,te=is){const{appId:ce,measurementId:Be}=A;try{yield f(j,S)}catch(st){if(Be)return sr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Be} provided in the "measurementId" field in the local Firebase config. [${st.message}]`),{appId:ce,measurementId:Be};throw st}try{const st=yield Zn(A);return te.deleteThrottleMetadata(ce),st}catch(st){if(!v(st)){if(te.deleteThrottleMetadata(ce),Be)return sr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Be} provided in the "measurementId" field in the local Firebase config. [${st.message}]`),{appId:ce,measurementId:Be};throw st}const St=503===Number(st.customData.httpStatus)?(0,fe.$s)(N,te.intervalMillis,30):(0,fe.$s)(N,te.intervalMillis),Tt={throttleEndTimeMillis:Date.now()+St,backoffCount:N+1};return te.setThrottleMetadata(ce,Tt),sr.debug(`Calling attemptFetch again in ${St} millis`),Xt(A,Tt,j,te)}})).apply(this,arguments)}function f(A,S){return new Promise((N,j)=>{const te=Math.max(S-Date.now(),0),ce=setTimeout(N,te);A.addEventListener(()=>{clearTimeout(ce),j(Qn.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}function v(A){if(!(A instanceof fe.ZR&&A.customData))return!1;const S=Number(A.customData.httpStatus);return 429===S||500===S||503===S||504===S}class T{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}function M(){return F.apply(this,arguments)}function F(){return(F=(0,Q.Z)(function*(){if(!(0,fe.hl)())return sr.warn(Qn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,fe.eu)()}catch(A){return sr.warn(Qn.create("indexeddb-unavailable",{errorInfo:A}).message),!1}return!0})).apply(this,arguments)}function ne(){return(ne=(0,Q.Z)(function*(A,S,N,j,te,ce,Be){var st;const St=Is(A);St.then(ur=>{N[ur.measurementId]=ur.appId,A.options.measurementId&&ur.measurementId!==A.options.measurementId&&sr.warn(`The measurement ID in the local Firebase config (${A.options.measurementId}) does not match the measurement ID fetched from the server (${ur.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ur=>sr.error(ur)),S.push(St);const Tt=M().then(ur=>{if(ur)return j.getId()}),[en,xt]=yield Promise.all([St,Tt]);ol()||ku(ce,en.measurementId),te("js",new Date);const ls=null!==(st=null==Be?void 0:Be.config)&&void 0!==st?st:{};return ls.origin="firebase",ls.update=!0,null!=xt&&(ls[fo]=xt),te("config",en.measurementId,ls),en.measurementId})).apply(this,arguments)}class ye{constructor(S){this.app=S}_delete(){return delete Te[this.app.options.appId],Promise.resolve()}}let Te={},Je=[];const pt={};let br,ss,rn="dataLayer",Rn=!1;function Ka(A,S,N){!function ma(){const A=[];if((0,fe.ru)()&&A.push("This is a browser extension environment."),(0,fe.zI)()||A.push("Cookies are not available."),A.length>0){const S=A.map((j,te)=>`(${te+1}) ${j}`).join(" "),N=Qn.create("invalid-analytics-context",{errorInfo:S});sr.warn(N.message)}}();const j=A.options.appId;if(!j)throw Qn.create("no-app-id");if(!A.options.apiKey){if(!A.options.measurementId)throw Qn.create("no-api-key");sr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${A.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Te[j])throw Qn.create("already-exists",{id:j});if(!Rn){!function rs(A){let S=[];Array.isArray(window[A])?S=window[A]:window[A]=S}(rn);const{wrappedGtag:ce,gtagCore:Be}=function Yl(A,S,N,j,te){let ce=function(...Be){window[j].push(arguments)};return window[te]&&"function"==typeof window[te]&&(ce=window[te]),window[te]=function Qo(A,S,N,j){function ce(){return(ce=(0,Q.Z)(function*(Be,st,St){try{"event"===Be?yield sl(A,S,N,st,St):"config"===Be?yield Ga(A,S,N,j,st,St):A("set",st)}catch(Tt){sr.error(Tt)}})).apply(this,arguments)}return function te(Be,st,St){return ce.apply(this,arguments)}}(ce,A,S,N),{gtagCore:ce,wrappedGtag:window[te]}}(Te,Je,pt,rn,"gtag");ss=ce,br=Be,Rn=!0}return Te[j]=function $(A,S,N,j,te,ce,Be){return ne.apply(this,arguments)}(A,Je,pt,S,br,rn,N),new ye(A)}function Xo(){return(Xo=(0,Q.Z)(function*(A,S,N,j,te){if(te&&te.global)A("event",N,j);else{const ce=yield S;A("event",N,Object.assign(Object.assign({},j),{send_to:ce}))}})).apply(this,arguments)}function yo(){return rd.apply(this,arguments)}function rd(){return(rd=(0,Q.Z)(function*(){if((0,fe.ru)()||!(0,fe.zI)()||!(0,fe.hl)())return!1;try{return yield(0,fe.eu)()}catch(A){return!1}})).apply(this,arguments)}const sd="@firebase/analytics";!function ph(){(0,le._registerComponent)(new pe.wA(Nu,(S,{options:N})=>Ka(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),N),"PUBLIC")),(0,le._registerComponent)(new pe.wA("analytics-internal",function A(S){try{const N=S.getProvider(Nu).getImmediate();return{logEvent:(j,te,ce)=>function Jl(A,S,N,j){A=(0,fe.m9)(A),function ul(A,S,N,j,te){return Xo.apply(this,arguments)}(ss,Te[A.app.options.appId],S,N,j).catch(te=>sr.error(te))}(N,j,te,ce)}}catch(N){throw Qn.create("interop-component-reg-failed",{reason:N})}},"PRIVATE")),(0,le.registerVersion)(sd,"0.7.8"),(0,le.registerVersion)(sd,"0.7.8","esm2017")}();var ll=k(4813);class ea extends ll.w0{constructor(S,N){super()}schedule(S,N=0){return this}}const Qa={setInterval(A,S,...N){const{delegate:j}=Qa;return(null==j?void 0:j.setInterval)?j.setInterval(A,S,...N):setInterval(A,S,...N)},clearInterval(A){const{delegate:S}=Qa;return((null==S?void 0:S.clearInterval)||clearInterval)(A)},delegate:void 0};var fr=k(8308);class ya extends ea{constructor(S,N){super(S,N),this.scheduler=S,this.work=N,this.pending=!1}schedule(S,N=0){if(this.closed)return this;this.state=S;const j=this.id,te=this.scheduler;return null!=j&&(this.id=this.recycleAsyncId(te,j,N)),this.pending=!0,this.delay=N,this.id=this.id||this.requestAsyncId(te,this.id,N),this}requestAsyncId(S,N,j=0){return Qa.setInterval(S.flush.bind(S,this),j)}recycleAsyncId(S,N,j=0){if(null!=j&&this.delay===j&&!1===this.pending)return N;Qa.clearInterval(N)}execute(S,N){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const j=this._execute(S,N);if(j)return j;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(S,N){let te,j=!1;try{this.work(S)}catch(ce){j=!0,te=ce||new Error("Scheduled action threw falsy error")}if(j)return this.unsubscribe(),te}unsubscribe(){if(!this.closed){const{id:S,scheduler:N}=this,{actions:j}=N;this.work=this.state=this.scheduler=null,this.pending=!1,(0,fr.P)(j,this),null!=S&&(this.id=this.recycleAsyncId(N,S,null)),this.delay=null,super.unsubscribe()}}}var Hr=k(2069);class vo{constructor(S,N=vo.now){this.schedulerActionCtor=S,this.now=N}schedule(S,N=0,j){return new this.schedulerActionCtor(this,S).schedule(j,N)}}vo.now=Hr.l.now;class wi extends vo{constructor(S,N=vo.now){super(S,N),this.actions=[],this._active=!1,this._scheduled=void 0}flush(S){const{actions:N}=this;if(this._active)return void N.push(S);let j;this._active=!0;do{if(j=S.execute(S.state,S.delay))break}while(S=N.shift());if(this._active=!1,j){for(;S=N.shift();)S.unsubscribe();throw j}}}const Eo=new class wo extends wi{}(class us extends ya{constructor(S,N){super(S,N),this.scheduler=S,this.work=N}schedule(S,N=0){return N>0?super.schedule(S,N):(this.delay=N,this.state=S,this.scheduler.flush(this),this)}execute(S,N){return N>0||this.closed?super.execute(S,N):this._execute(S,N)}requestAsyncId(S,N,j=0){return null!=j&&j>0||null==j&&this.delay>0?super.requestAsyncId(S,N,j):S.flush(this)}}),Ui=new wi(ya);var ad=k(818),Ql=k(8168),gh=k(4119),ud=k(7513);const ld=new l.GfV("7.3.0"),Ei="__angularfire_symbol__analyticsIsSupportedValue",cl="__angularfire_symbol__analyticsIsSupported",bo="__angularfire_symbol__remoteConfigIsSupportedValue",mh="__angularfire_symbol__remoteConfigIsSupported",eu="__angularfire_symbol__messagingIsSupportedValue",dl="__angularfire_symbol__messagingIsSupported";function nu(A,S,N){if(S){if(1===S.length)return S[0];const ce=S.filter(Be=>Be.app===N);if(1===ce.length)return ce[0]}return N.container.getProvider(A).getImmediate({optional:!0})}globalThis[cl]||(globalThis[cl]=yo().then(A=>globalThis[Ei]=A).catch(()=>globalThis[Ei]=!1)),globalThis[dl]||(globalThis[dl]=Mu().then(A=>globalThis[eu]=A).catch(()=>globalThis[eu]=!1)),globalThis[mh]||(globalThis[mh]=Vo().then(A=>globalThis[bo]=A).catch(()=>globalThis[bo]=!1));const ru=(A,S)=>{const N=S?[S]:(0,H.C6)(),j=[];return N.forEach(te=>{te.container.getProvider(A).instances.forEach(Be=>{j.includes(Be)||j.push(Be)})}),j};function bi(){}class Xl{constructor(S,N=Eo){this.zone=S,this.delegate=N}now(){return this.delegate.now()}schedule(S,N,j){const te=this.zone;return this.delegate.schedule(function(Be){te.runGuarded(()=>{S.apply(this,[Be])})},N,j)}}class Co{constructor(S){this.zone=S,this.task=null}call(S,N){const j=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",bi,{},bi,bi)),N.pipe((0,Ql.b)({next:j,complete:j,error:j})).subscribe(S).add(j)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let iu=(()=>{class A{constructor(N){this.ngZone=N,this.outsideAngular=N.runOutsideAngular(()=>new Xl(Zone.current)),this.insideAngular=N.run(()=>new Xl(Zone.current,Ui)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return A.\u0275fac=function(N){return new(N||A)(l.LFG(l.R0b))},A.\u0275prov=l.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();function Ss(){const A=globalThis.\u0275AngularFireScheduler;if(!A)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return A}function dd(A){return Ss().ngZone.runOutsideAngular(()=>A())}function ta(A){return Ss().ngZone.run(()=>A())}function hd(A){return Ss(),function fl(A){return function(N){return(N=N.lift(new Co(A.ngZone))).pipe((0,gh.R)(A.outsideAngular),(0,ud.Q)(A.insideAngular))}}(Ss())(A)}const pl=(A,S)=>function(){const j=arguments;return S&&setTimeout(()=>{"scheduled"===S.state&&S.invoke()},10),ta(()=>A.apply(void 0,j))},fd=(A,S)=>function(){let N;const j=arguments;for(let ce=0;ce<arguments.length;ce++)"function"==typeof j[ce]&&(S&&(N||(N=ta(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",bi,{},bi,bi)))),j[ce]=pl(j[ce],N));const te=dd(()=>A.apply(this,j));if(!S){if(te instanceof ad.y){const ce=Ss();return te.pipe((0,gh.R)(ce.outsideAngular),(0,ud.Q)(ce.insideAngular))}return ta(()=>te)}return te instanceof ad.y?te.pipe(hd):te instanceof Promise?ta(()=>new Promise((ce,Be)=>te.then(st=>ta(()=>ce(st)),st=>ta(()=>Be(st))))):"function"==typeof te&&N?function(){return setTimeout(()=>{N&&"scheduled"===N.state&&N.invoke()},10),te.apply(this,arguments)}:ta(()=>te)}},3399:(Ct,Le,k)=>{"use strict";k.d(Le,{$:()=>Su,A:()=>W,E:()=>Rt,G:()=>Ar,I:()=>Oi,K:()=>Z,L:()=>Or,M:()=>rl,N:()=>ks,P:()=>va,Q:()=>Bo,R:()=>od,T:()=>hi,U:()=>fi,V:()=>zt,W:()=>nd,X:()=>xr,Y:()=>zo,Z:()=>Rr,_:()=>Ni,a:()=>_o,a0:()=>za,a1:()=>Wl,a2:()=>xe,a3:()=>Ri,a4:()=>Ha,a5:()=>ki,a6:()=>js,a7:()=>Za,a8:()=>$a,a9:()=>Xr,aA:()=>te,aB:()=>iu,aC:()=>pn,aG:()=>is,aJ:()=>Ls,aa:()=>zs,ab:()=>Ts,ae:()=>Li,af:()=>il,ag:()=>ga,aj:()=>es,ak:()=>Pu,am:()=>Ru,an:()=>Ga,ao:()=>li,ap:()=>re,aq:()=>vn,ar:()=>Ht,as:()=>Ge,at:()=>tc,au:()=>ur,av:()=>Re,aw:()=>ie,ax:()=>ve,ay:()=>J,az:()=>Tt,b:()=>Bn,c:()=>cl,d:()=>dl,e:()=>mh,f:()=>ta,g:()=>fd,h:()=>hd,i:()=>ma,j:()=>N,k:()=>yl,l:()=>fr,m:()=>Om,n:()=>km,o:()=>Se,r:()=>us,s:()=>ea,u:()=>wo,z:()=>ke});var l=k(8239),H=k(3854),Q=k(8026),le=k(4762),fe=k(5422),pe=k(3910);const Se={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},W={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ke=function ae(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},je=function Ve(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ze=new H.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ie=new fe.Yd("@firebase/auth");function nt(E,...m){Ie.logLevel<=fe.in.ERROR&&Ie.error(`Auth (${Q.SDK_VERSION}): ${E}`,...m)}function Ge(E,...m){throw et(E,...m)}function Re(E,...m){return et(E,...m)}function Ne(E,m,y){const D=Object.assign(Object.assign({},je()),{[m]:y});return new H.LL("auth","Firebase",D).create(m,{appName:E.name})}function Ce(E,m,y){if(!(m instanceof y))throw y.name!==m.constructor.name&&Ge(E,"argument-error"),Ne(E,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function et(E,...m){if("string"!=typeof E){const y=m[0],D=[...m.slice(1)];return D[0]&&(D[0].appName=E.name),E._errorFactory.create(y,...D)}return Ze.create(E,...m)}function ie(E,m,...y){if(!E)throw et(m,...y)}function We(E){const m="INTERNAL ASSERTION FAILED: "+E;throw nt(m),new Error(m)}function re(E,m){E||We(m)}const ge=new Map;function ve(E){re(E instanceof Function,"Expected a class definition");let m=ge.get(E);return m?(re(m instanceof E,"Instance stored in cache mismatched with class"),m):(m=new E,ge.set(E,m),m)}function ee(){var E;return"undefined"!=typeof self&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function Nt(){return"http:"===lt()||"https:"===lt()}function lt(){var E;return"undefined"!=typeof self&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class it{constructor(m,y){this.shortDelay=m,this.longDelay=y,re(y>m,"Short delay should be less than long delay!"),this.isMobile=(0,H.uI)()||(0,H.b$)()}get(){return function jt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Nt()||(0,H.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Lt(E,m){re(E.emulator,"Emulator should always be set here");const{url:y}=E.emulator;return m?`${y}${m.startsWith("/")?m.slice(1):m}`:y}class wt{static initialize(m,y,D){this.fetchImpl=m,y&&(this.headersImpl=y),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void We("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void We("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void We("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const hn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},nn=new it(3e4,6e4);function on(E,m){return E.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:E.tenantId}):m}function fn(E,m,y,D){return jn.apply(this,arguments)}function jn(){return(jn=(0,l.Z)(function*(E,m,y,D,R={}){return mr(E,R,(0,l.Z)(function*(){let B={},oe={};D&&("GET"===m?oe=D:B={body:JSON.stringify(D)});const Oe=(0,H.xO)(Object.assign({key:E.config.apiKey},oe)).slice(1),ft=yield E._getAdditionalHeaders();return ft["Content-Type"]="application/json",E.languageCode&&(ft["X-Firebase-Locale"]=E.languageCode),wt.fetch()(qi(E,E.config.apiHost,y,Oe),Object.assign({method:m,headers:ft,referrerPolicy:"no-referrer"},B))}))})).apply(this,arguments)}function mr(E,m,y){return _r.apply(this,arguments)}function _r(){return(_r=(0,l.Z)(function*(E,m,y){E._canInitEmulator=!1;const D=Object.assign(Object.assign({},hn),m);try{const R=new Fr(E),B=yield Promise.race([y(),R.promise]);R.clearNetworkTimeout();const oe=yield B.json();if("needConfirmation"in oe)throw Vr(E,"account-exists-with-different-credential",oe);if(B.ok&&!("errorMessage"in oe))return oe;{const Oe=B.ok?oe.errorMessage:oe.error.message,[ft,It]=Oe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ft)throw Vr(E,"credential-already-in-use",oe);if("EMAIL_EXISTS"===ft)throw Vr(E,"email-already-in-use",oe);const tn=D[ft]||ft.toLowerCase().replace(/[_\s]+/g,"-");if(It)throw Ne(E,tn,It);Ge(E,tn)}}catch(R){if(R instanceof H.ZR)throw R;Ge(E,"network-request-failed")}})).apply(this,arguments)}function Ir(E,m,y,D){return Os.apply(this,arguments)}function Os(){return(Os=(0,l.Z)(function*(E,m,y,D,R={}){const B=yield fn(E,m,y,D,R);return"mfaPendingCredential"in B&&Ge(E,"multi-factor-auth-required",{_serverResponse:B}),B})).apply(this,arguments)}function qi(E,m,y,D){const R=`${m}${y}?${D}`;return E.config.emulator?Lt(E.config,R):`${E.config.apiScheme}://${R}`}class Fr{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((y,D)=>{this.timer=setTimeout(()=>D(Re(this.auth,"network-request-failed")),nn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Vr(E,m,y){const D={appName:E.name};y.email&&(D.email=y.email),y.phoneNumber&&(D.phoneNumber=y.phoneNumber);const R=Re(E,m,D);return R.customData._tokenResponse=y,R}function ht(){return(ht=(0,l.Z)(function*(E,m){return fn(E,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function Ur(E,m){return zn.apply(this,arguments)}function zn(){return(zn=(0,l.Z)(function*(E,m){return fn(E,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function qn(E,m){return hr.apply(this,arguments)}function hr(){return(hr=(0,l.Z)(function*(E,m){return fn(E,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function _s(E){if(E)try{const m=new Date(Number(E));if(!isNaN(m.getTime()))return m.toUTCString()}catch(m){}}function ui(){return(ui=(0,l.Z)(function*(E,m=!1){const y=(0,H.m9)(E),D=yield y.getIdToken(m),R=qt(D);ie(R&&R.exp&&R.auth_time&&R.iat,y.auth,"internal-error");const B="object"==typeof R.firebase?R.firebase:void 0,oe=null==B?void 0:B.sign_in_provider;return{claims:R,token:D,authTime:_s(io(R.auth_time)),issuedAtTime:_s(io(R.iat)),expirationTime:_s(io(R.exp)),signInProvider:oe||null,signInSecondFactor:(null==B?void 0:B.sign_in_second_factor)||null}})).apply(this,arguments)}function io(E){return 1e3*Number(E)}function qt(E){const[m,y,D]=E.split(".");if(void 0===m||void 0===y||void 0===D)return nt("JWT malformed, contained fewer than 3 sections"),null;try{const R=(0,H.tV)(y);return R?JSON.parse(R):(nt("Failed to decode base64 JWT payload"),null)}catch(R){return nt("Caught error parsing JWT payload as JSON",R),null}}function _t(E,m){return xi.apply(this,arguments)}function xi(){return(xi=(0,l.Z)(function*(E,m,y=!1){if(y)return m;try{return yield m}catch(D){throw D instanceof H.ZR&&Wi(D)&&E.auth.currentUser===E&&(yield E.auth.signOut()),D}})).apply(this,arguments)}function Wi({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}class Jt{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var y;if(m){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const R=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,R)}}schedule(m=!1){var y=this;if(!this.isRunning)return;const D=this.getInterval(m);this.timerId=setTimeout((0,l.Z)(function*(){yield y.iteration()}),D)}iteration(){var m=this;return(0,l.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y.code&&m.schedule(!0))}m.schedule()})()}}class ys{constructor(m,y){this.createdAt=m,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=_s(this.lastLoginAt),this.creationTime=_s(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function yn(E){return tr.apply(this,arguments)}function tr(){return(tr=(0,l.Z)(function*(E){var m;const y=E.auth,D=yield E.getIdToken(),R=yield _t(E,qn(y,{idToken:D}));ie(null==R?void 0:R.users.length,y,"internal-error");const B=R.users[0];E._notifyReloadListener(B);const oe=(null===(m=B.providerUserInfo)||void 0===m?void 0:m.length)?Ye(B.providerUserInfo):[],Oe=Ft(E.providerData,oe),tn=!!E.isAnonymous&&!(E.email&&B.passwordHash||(null==Oe?void 0:Oe.length)),lr={uid:B.localId,displayName:B.displayName||null,photoURL:B.photoUrl||null,email:B.email||null,emailVerified:B.emailVerified||!1,phoneNumber:B.phoneNumber||null,tenantId:B.tenantId||null,providerData:Oe,metadata:new ys(B.createdAt,B.lastLoginAt),isAnonymous:tn};Object.assign(E,lr)})).apply(this,arguments)}function yr(){return(yr=(0,l.Z)(function*(E){const m=(0,H.m9)(E);yield yn(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function Ft(E,m){return[...E.filter(D=>!m.some(R=>R.providerId===D.providerId)),...m]}function Ye(E){return E.map(m=>{var{providerId:y}=m,D=(0,le._T)(m,["providerId"]);return{providerId:y,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}function rt(){return(rt=(0,l.Z)(function*(E,m){const y=yield mr(E,{},(0,l.Z)(function*(){const D=(0,H.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:R,apiKey:B}=E.config,oe=qi(E,R,"/v1/token",`key=${B}`),Oe=yield E._getAdditionalHeaders();return Oe["Content-Type"]="application/x-www-form-urlencoded",wt.fetch()(oe,{method:"POST",headers:Oe,body:D})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class vt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){ie(m.idToken,"internal-error"),ie(void 0!==m.idToken,"internal-error"),ie(void 0!==m.refreshToken,"internal-error");const y="expiresIn"in m&&void 0!==m.expiresIn?Number(m.expiresIn):function mt(E){const m=qt(E);return ie(m,"internal-error"),ie(void 0!==m.exp,"internal-error"),ie(void 0!==m.iat,"internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,y)}getToken(m,y=!1){var D=this;return(0,l.Z)(function*(){return ie(!D.accessToken||D.refreshToken,m,"user-token-expired"),y||!D.accessToken||D.isExpired?D.refreshToken?(yield D.refresh(m,D.refreshToken),D.accessToken):null:D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,y){var D=this;return(0,l.Z)(function*(){const{accessToken:R,refreshToken:B,expiresIn:oe}=yield function Ae(E,m){return rt.apply(this,arguments)}(m,y);D.updateTokensAndExpiration(R,B,Number(oe))})()}updateTokensAndExpiration(m,y,D){this.refreshToken=y||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(m,y){const{refreshToken:D,accessToken:R,expirationTime:B}=y,oe=new vt;return D&&(ie("string"==typeof D,"internal-error",{appName:m}),oe.refreshToken=D),R&&(ie("string"==typeof R,"internal-error",{appName:m}),oe.accessToken=R),B&&(ie("number"==typeof B,"internal-error",{appName:m}),oe.expirationTime=B),oe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new vt,this.toJSON())}_performRefresh(){return We("not implemented")}}function Pt(E,m){ie("string"==typeof E||void 0===E,"internal-error",{appName:m})}class Vt{constructor(m){var{uid:y,auth:D,stsTokenManager:R}=m,B=(0,le._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Jt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=D,this.stsTokenManager=R,this.accessToken=R.accessToken,this.displayName=B.displayName||null,this.email=B.email||null,this.emailVerified=B.emailVerified||!1,this.phoneNumber=B.phoneNumber||null,this.photoURL=B.photoURL||null,this.isAnonymous=B.isAnonymous||!1,this.tenantId=B.tenantId||null,this.providerData=B.providerData?[...B.providerData]:[],this.metadata=new ys(B.createdAt||void 0,B.lastLoginAt||void 0)}getIdToken(m){var y=this;return(0,l.Z)(function*(){const D=yield _t(y,y.stsTokenManager.getToken(y.auth,m));return ie(D,y.auth,"internal-error"),y.accessToken!==D&&(y.accessToken=D,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),D})()}getIdTokenResult(m){return function Kn(E){return ui.apply(this,arguments)}(this,m)}reload(){return function Dt(E){return yr.apply(this,arguments)}(this)}_assign(m){this!==m&&(ie(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(y=>Object.assign({},y)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new Vt(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,y=!1){var D=this;return(0,l.Z)(function*(){let R=!1;m.idToken&&m.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(m),R=!0),y&&(yield yn(D)),yield D.auth._persistUserIfCurrent(D),R&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var m=this;return(0,l.Z)(function*(){const y=yield m.getIdToken();return yield _t(m,function ms(E,m){return ht.apply(this,arguments)}(m.auth,{idToken:y})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,y){var D,R,B,oe,Oe,ft,It,tn;const lr=null!==(D=y.displayName)&&void 0!==D?D:void 0,ia=null!==(R=y.email)&&void 0!==R?R:void 0,ju=null!==(B=y.phoneNumber)&&void 0!==B?B:void 0,nc=null!==(oe=y.photoURL)&&void 0!==oe?oe:void 0,vl=null!==(Oe=y.tenantId)&&void 0!==Oe?Oe:void 0,rc=null!==(ft=y._redirectEventId)&&void 0!==ft?ft:void 0,mp=null!==(It=y.createdAt)&&void 0!==It?It:void 0,Lm=null!==(tn=y.lastLoginAt)&&void 0!==tn?tn:void 0,{uid:ic,emailVerified:ou,isAnonymous:_p,providerData:gd,stsTokenManager:yp}=y;ie(ic&&yp,m,"internal-error");const Dh=vt.fromJSON(this.name,yp);ie("string"==typeof ic,m,"internal-error"),Pt(lr,m.name),Pt(ia,m.name),ie("boolean"==typeof ou,m,"internal-error"),ie("boolean"==typeof _p,m,"internal-error"),Pt(ju,m.name),Pt(nc,m.name),Pt(vl,m.name),Pt(rc,m.name),Pt(mp,m.name),Pt(Lm,m.name);const wl=new Vt({uid:ic,auth:m,email:ia,emailVerified:ou,displayName:lr,isAnonymous:_p,photoURL:nc,phoneNumber:ju,tenantId:vl,stsTokenManager:Dh,createdAt:mp,lastLoginAt:Lm});return gd&&Array.isArray(gd)&&(wl.providerData=gd.map(Fm=>Object.assign({},Fm))),rc&&(wl._redirectEventId=rc),wl}static _fromIdTokenResponse(m,y,D=!1){return(0,l.Z)(function*(){const R=new vt;R.updateFromServerResponse(y);const B=new Vt({uid:y.localId,auth:m,stsTokenManager:R,isAnonymous:D});return yield yn(B),B})()}}const Z=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(y,D){var R=this;return(0,l.Z)(function*(){R.storage[y]=D})()}_get(y){var D=this;return(0,l.Z)(function*(){const R=D.storage[y];return void 0===R?null:R})()}_remove(y){var D=this;return(0,l.Z)(function*(){delete D.storage[y]})()}_addListener(y,D){}_removeListener(y,D){}}return E.type="NONE",E})();function J(E,m,y){return`firebase:${E}:${m}:${y}`}class he{constructor(m,y,D){this.persistence=m,this.auth=y,this.userKey=D;const{config:R,name:B}=this.auth;this.fullUserKey=J(this.userKey,R.apiKey,B),this.fullPersistenceKey=J("persistence",R.apiKey,B),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,l.Z)(function*(){const y=yield m.persistence._get(m.fullUserKey);return y?Vt._fromJSON(m.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var y=this;return(0,l.Z)(function*(){if(y.persistence===m)return;const D=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=m,D?y.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,y,D="authUser"){return(0,l.Z)(function*(){if(!y.length)return new he(ve(Z),m,D);const R=(yield Promise.all(y.map(function(){var It=(0,l.Z)(function*(tn){if(yield tn._isAvailable())return tn});return function(tn){return It.apply(this,arguments)}}()))).filter(It=>It);let B=R[0]||ve(Z);const oe=J(D,m.config.apiKey,m.name);let Oe=null;for(const It of y)try{const tn=yield It._get(oe);if(tn){const lr=Vt._fromJSON(m,tn);It!==B&&(Oe=lr),B=It;break}}catch(tn){}const ft=R.filter(It=>It._shouldAllowMigration);return B._shouldAllowMigration&&ft.length?(B=ft[0],Oe&&(yield B._set(oe,Oe.toJSON())),yield Promise.all(y.map(function(){var It=(0,l.Z)(function*(tn){if(tn!==B)try{yield tn._remove(oe)}catch(lr){}});return function(tn){return It.apply(this,arguments)}}())),new he(B,m,D)):new he(B,m,D)})()}}function ue(E){const m=E.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(vr(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(qe(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(nr(m))return"Blackberry";if(Zt(m))return"Webos";if(Et(m))return"Safari";if((m.includes("chrome/")||an(m))&&!m.includes("edge/"))return"Chrome";if(Ht(m))return"Android";{const D=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==D?void 0:D.length))return D[1]}return"Other"}function qe(E=(0,H.z$)()){return/firefox\//i.test(E)}function Et(E=(0,H.z$)()){const m=E.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function an(E=(0,H.z$)()){return/crios\//i.test(E)}function vr(E=(0,H.z$)()){return/iemobile/i.test(E)}function Ht(E=(0,H.z$)()){return/android/i.test(E)}function nr(E=(0,H.z$)()){return/blackberry/i.test(E)}function Zt(E=(0,H.z$)()){return/webos/i.test(E)}function vn(E=(0,H.z$)()){return/iphone|ipad|ipod/i.test(E)}function li(E=(0,H.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(E)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(E)}function oo(E=(0,H.z$)()){return vn(E)||Ht(E)||Zt(E)||nr(E)||/windows phone/i.test(E)||vr(E)}function rr(E,m=[]){let y;switch(E){case"Browser":y=ue((0,H.z$)());break;case"Worker":y=`${ue((0,H.z$)())}-${E}`;break;default:y=E}const D=m.length?m.join(","):"FirebaseCore-web";return`${y}/JsCore/${Q.SDK_VERSION}/${D}`}class Va{constructor(m,y,D){this.app=m,this.heartbeatServiceProvider=y,this.config=D,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ke(this),this.idTokenSubscription=new Ke(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ze,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=D.sdkClientVersion}_initializeWithPersistence(m,y){var D=this;return y&&(this._popupRedirectResolver=ve(y)),this._initializationPromise=this.queue((0,l.Z)(function*(){var R,B;if(!D._deleted&&(D.persistenceManager=yield he.create(D,m),!D._deleted)){if(null===(R=D._popupRedirectResolver)||void 0===R?void 0:R._shouldInitProactively)try{yield D._popupRedirectResolver._initialize(D)}catch(oe){}yield D.initializeCurrentUser(y),D.lastNotifiedUid=(null===(B=D.currentUser)||void 0===B?void 0:B.uid)||null,!D._deleted&&(D._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,l.Z)(function*(){if(m._deleted)return;const y=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||y){if(m.currentUser&&y&&m.currentUser.uid===y.uid)return m._currentUser._assign(y),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(y)}})()}initializeCurrentUser(m){var y=this;return(0,l.Z)(function*(){var D;let R=yield y.assertedPersistence.getCurrentUser();if(m&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const B=null===(D=y.redirectUser)||void 0===D?void 0:D._redirectEventId,oe=null==R?void 0:R._redirectEventId,Oe=yield y.tryRedirectSignIn(m);(!B||B===oe)&&(null==Oe?void 0:Oe.user)&&(R=Oe.user)}return R?R._redirectEventId?(ie(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===R._redirectEventId?y.directlySetCurrentUser(R):y.reloadAndSetCurrentUserOrClear(R)):y.reloadAndSetCurrentUserOrClear(R):y.directlySetCurrentUser(null)})()}tryRedirectSignIn(m){var y=this;return(0,l.Z)(function*(){let D=null;try{D=yield y._popupRedirectResolver._completeRedirectFn(y,m,!0)}catch(R){yield y._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(m){var y=this;return(0,l.Z)(function*(){try{yield yn(m)}catch(D){if("auth/network-request-failed"!==D.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function ot(){if("undefined"==typeof navigator)return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var m=this;return(0,l.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var y=this;return(0,l.Z)(function*(){const D=m?(0,H.m9)(m):null;return D&&ie(D.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(D&&D._clone(y))})()}_updateCurrentUser(m){var y=this;return(0,l.Z)(function*(){if(!y._deleted)return m&&ie(y.tenantId===m.tenantId,y,"tenant-id-mismatch"),y.queue((0,l.Z)(function*(){yield y.directlySetCurrentUser(m),y.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,l.Z)(function*(){return(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null)})()}setPersistence(m){var y=this;return this.queue((0,l.Z)(function*(){yield y.assertedPersistence.setPersistence(ve(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new H.LL("auth","Firebase",m())}onAuthStateChanged(m,y,D){return this.registerStateListener(this.authStateSubscription,m,y,D)}onIdTokenChanged(m,y,D){return this.registerStateListener(this.idTokenSubscription,m,y,D)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,y){var D=this;return(0,l.Z)(function*(){const R=yield D.getOrInitRedirectPersistenceManager(y);return null===m?R.removeCurrentUser():R.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var y=this;return(0,l.Z)(function*(){if(!y.redirectPersistenceManager){const D=m&&ve(m)||y._popupRedirectResolver;ie(D,y,"argument-error"),y.redirectPersistenceManager=yield he.create(y,[ve(D._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(m){var y=this;return(0,l.Z)(function*(){var D,R;return y._isInitialized&&(yield y.queue((0,l.Z)(function*(){}))),(null===(D=y._currentUser)||void 0===D?void 0:D._redirectEventId)===m?y._currentUser:(null===(R=y.redirectUser)||void 0===R?void 0:R._redirectEventId)===m?y.redirectUser:null})()}_persistUserIfCurrent(m){var y=this;return(0,l.Z)(function*(){if(m===y.currentUser)return y.queue((0,l.Z)(function*(){return y.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(y=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,y,D,R){if(this._deleted)return()=>{};const B="function"==typeof y?y:y.next.bind(y),oe=this._isInitialized?Promise.resolve():this._initializationPromise;return ie(oe,this,"internal-error"),oe.then(()=>B(this.currentUser)),"function"==typeof y?m.addObserver(y,D,R):m.addObserver(y)}directlySetCurrentUser(m){var y=this;return(0,l.Z)(function*(){y.currentUser&&y.currentUser!==m&&(y._currentUser._stopProactiveRefresh(),m&&y.isProactiveRefreshEnabled&&m._startProactiveRefresh()),y.currentUser=m,m?yield y.assertedPersistence.setCurrentUser(m):yield y.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=rr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,l.Z)(function*(){var y;const D={"X-Client-Version":m.clientVersion};m.app.options.appId&&(D["X-Firebase-gmpid"]=m.app.options.appId);const R=yield null===(y=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();return R&&(D["X-Firebase-Client"]=R),D})()}}function pn(E){return(0,H.m9)(E)}class Ke{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,H.ne)(y=>this.observer=y)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Rt(E,m,y){const D=pn(E);ie(D._canInitEmulator,D,"emulator-config-failed"),ie(/^https?:\/\//.test(m),D,"invalid-emulator-scheme");const R=!!(null==y?void 0:y.disableWarnings),B=Tn(m),{host:oe,port:Oe}=function Pr(E){const m=Tn(E),y=/(\/\/)?([^?#/]+)/.exec(E.substr(m.length));if(!y)return{host:"",port:null};const D=y[2].split("@").pop()||"",R=/^(\[[^\]]+\])(:|$)/.exec(D);if(R){const B=R[1];return{host:B,port:Mi(D.substr(B.length+1))}}{const[B,oe]=D.split(":");return{host:B,port:Mi(oe)}}}(m);D.config.emulator={url:`${B}//${oe}${null===Oe?"":`:${Oe}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:oe,port:Oe,protocol:B.replace(":",""),options:Object.freeze({disableWarnings:R})}),R||function Vn(){function E(){const m=document.createElement("p"),y=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",E):E())}()}function Tn(E){const m=E.indexOf(":");return m<0?"":E.substr(0,m+1)}function Mi(E){if(!E)return null;const m=Number(E);return isNaN(m)?null:m}class Ar{constructor(m,y){this.providerId=m,this.signInMethod=y}toJSON(){return We("not implemented")}_getIdTokenResponse(m){return We("not implemented")}_linkToIdToken(m,y){return We("not implemented")}_getReauthenticationResolver(m){return We("not implemented")}}function Pn(E,m){return On.apply(this,arguments)}function On(){return(On=(0,l.Z)(function*(E,m){return fn(E,"POST","/v1/accounts:resetPassword",on(E,m))})).apply(this,arguments)}function Wt(E,m){return at.apply(this,arguments)}function at(){return(at=(0,l.Z)(function*(E,m){return fn(E,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Ns(E,m){return Br.apply(this,arguments)}function Br(){return(Br=(0,l.Z)(function*(E,m){return fn(E,"POST","/v1/accounts:update",on(E,m))})).apply(this,arguments)}function ci(){return(ci=(0,l.Z)(function*(E,m){return Ir(E,"POST","/v1/accounts:signInWithPassword",on(E,m))})).apply(this,arguments)}function ct(E,m){return wn.apply(this,arguments)}function wn(){return(wn=(0,l.Z)(function*(E,m){return fn(E,"POST","/v1/accounts:sendOobCode",on(E,m))})).apply(this,arguments)}function vs(E,m){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,l.Z)(function*(E,m){return ct(E,m)})).apply(this,arguments)}function Qt(E,m){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,l.Z)(function*(E,m){return ct(E,m)})).apply(this,arguments)}function ua(E,m){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,l.Z)(function*(E,m){return ct(E,m)})).apply(this,arguments)}function gn(E,m){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,l.Z)(function*(E,m){return ct(E,m)})).apply(this,arguments)}function Ji(){return(Ji=(0,l.Z)(function*(E,m){return Ir(E,"POST","/v1/accounts:signInWithEmailLink",on(E,m))})).apply(this,arguments)}function ao(){return(ao=(0,l.Z)(function*(E,m){return Ir(E,"POST","/v1/accounts:signInWithEmailLink",on(E,m))})).apply(this,arguments)}class Fo extends Ar{constructor(m,y,D,R=null){super("password",D),this._email=m,this._password=y,this._tenantId=R}static _fromEmailAndPassword(m,y){return new Fo(m,y,"password")}static _fromEmailAndCode(m,y,D=null){return new Fo(m,y,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m;if((null==y?void 0:y.email)&&(null==y?void 0:y.password)){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(m){var y=this;return(0,l.Z)(function*(){switch(y.signInMethod){case"password":return function Rs(E,m){return ci.apply(this,arguments)}(m,{returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function Yi(E,m){return Ji.apply(this,arguments)}(m,{email:y._email,oobCode:y._password});default:Ge(m,"internal-error")}})()}_linkToIdToken(m,y){var D=this;return(0,l.Z)(function*(){switch(D.signInMethod){case"password":return Wt(m,{idToken:y,returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function Jr(E,m){return ao.apply(this,arguments)}(m,{idToken:y,email:D._email,oobCode:D._password});default:Ge(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function Qi(E,m){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,l.Z)(function*(E,m){return Ir(E,"POST","/v1/accounts:signInWithIdp",on(E,m))})).apply(this,arguments)}class Oi extends Ar{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const y=new Oi(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(y.idToken=m.idToken),m.accessToken&&(y.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(y.nonce=m.nonce),m.pendingToken&&(y.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(y.accessToken=m.oauthToken,y.secret=m.oauthTokenSecret):Ge("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m,{providerId:D,signInMethod:R}=y,B=(0,le._T)(y,["providerId","signInMethod"]);if(!D||!R)return null;const oe=new Oi(D,R);return oe.idToken=B.idToken||void 0,oe.accessToken=B.accessToken||void 0,oe.secret=B.secret,oe.nonce=B.nonce,oe.pendingToken=B.pendingToken||null,oe}_getIdTokenResponse(m){return Qi(m,this.buildRequest())}_linkToIdToken(m,y){const D=this.buildRequest();return D.idToken=y,Qi(m,D)}_getReauthenticationResolver(m){const y=this.buildRequest();return y.autoCreate=!1,Qi(m,y)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),m.postBody=(0,H.xO)(y)}return m}}function Cu(E,m){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,l.Z)(function*(E,m){return fn(E,"POST","/v1/accounts:sendVerificationCode",on(E,m))})).apply(this,arguments)}function la(){return(la=(0,l.Z)(function*(E,m){return Ir(E,"POST","/v1/accounts:signInWithPhoneNumber",on(E,m))})).apply(this,arguments)}function di(){return(di=(0,l.Z)(function*(E,m){const y=yield Ir(E,"POST","/v1/accounts:signInWithPhoneNumber",on(E,m));if(y.temporaryProof)throw Vr(E,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const Jn={USER_NOT_FOUND:"user-not-found"};function Ua(){return(Ua=(0,l.Z)(function*(E,m){return Ir(E,"POST","/v1/accounts:signInWithPhoneNumber",on(E,Object.assign(Object.assign({},m),{operation:"REAUTH"})),Jn)})).apply(this,arguments)}class ws extends Ar{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,y){return new ws({verificationId:m,verificationCode:y})}static _fromTokenResponse(m,y){return new ws({phoneNumber:m,temporaryProof:y})}_getIdTokenResponse(m){return function tl(E,m){return la.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,y){return function Ut(E,m){return di.apply(this,arguments)}(m,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function Gl(E,m){return Ua.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:y,verificationId:D,verificationCode:R}=this.params;return m&&y?{temporaryProof:m,phoneNumber:y}:{sessionInfo:D,code:R}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:y,verificationCode:D,phoneNumber:R,temporaryProof:B}=m;return D||y||R||B?new ws({verificationId:y,verificationCode:D,phoneNumber:R,temporaryProof:B}):null}}class Xi{constructor(m){var y,D,R,B,oe,Oe;const ft=(0,H.zd)((0,H.pd)(m)),It=null!==(y=ft.apiKey)&&void 0!==y?y:null,tn=null!==(D=ft.oobCode)&&void 0!==D?D:null,lr=function nl(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(R=ft.mode)&&void 0!==R?R:null);ie(It&&tn&&lr,"argument-error"),this.apiKey=It,this.operation=lr,this.code=tn,this.continueUrl=null!==(B=ft.continueUrl)&&void 0!==B?B:null,this.languageCode=null!==(oe=ft.languageCode)&&void 0!==oe?oe:null,this.tenantId=null!==(Oe=ft.tenantId)&&void 0!==Oe?Oe:null}static parseLink(m){const y=function ca(E){const m=(0,H.zd)((0,H.pd)(E)).link,y=m?(0,H.zd)((0,H.pd)(m)).deep_link_id:null,D=(0,H.zd)((0,H.pd)(E)).deep_link_id;return(D?(0,H.zd)((0,H.pd)(D)).link:null)||D||y||m||E}(m);try{return new Xi(y)}catch(D){return null}}}let Or=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(y,D){return Fo._fromEmailAndPassword(y,D)}static credentialWithLink(y,D){const R=Xi.parseLink(D);return ie(R,"argument-error"),Fo._fromEmailAndCode(y,R.code,R.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class wr{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class Uo extends wr{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class hi extends Uo{static credentialFromJSON(m){const y="string"==typeof m?JSON.parse(m):m;return ie("providerId"in y&&"signInMethod"in y,"argument-error"),Oi._fromParams(y)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return ie(m.idToken||m.accessToken,"argument-error"),Oi._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return hi.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return hi.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:y,oauthAccessToken:D,oauthTokenSecret:R,pendingToken:B,nonce:oe,providerId:Oe}=m;if(!D&&!R&&!y&&!B||!Oe)return null;try{return new hi(Oe)._credential({idToken:y,accessToken:D,nonce:oe,pendingToken:B})}catch(ft){return null}}}let rl=(()=>{class E extends Uo{constructor(){super("facebook.com")}static credential(y){return Oi._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return E.credentialFromTaggedObject(y)}static credentialFromError(y){return E.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return E.credential(y.oauthAccessToken)}catch(D){return null}}}return E.FACEBOOK_SIGN_IN_METHOD="facebook.com",E.PROVIDER_ID="facebook.com",E})(),ks=(()=>{class E extends Uo{constructor(){super("google.com"),this.addScope("profile")}static credential(y,D){return Oi._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:D})}static credentialFromResult(y){return E.credentialFromTaggedObject(y)}static credentialFromError(y){return E.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:D,oauthAccessToken:R}=y;if(!D&&!R)return null;try{return E.credential(D,R)}catch(B){return null}}}return E.GOOGLE_SIGN_IN_METHOD="google.com",E.PROVIDER_ID="google.com",E})(),Bo=(()=>{class E extends Uo{constructor(){super("github.com")}static credential(y){return Oi._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return E.credentialFromTaggedObject(y)}static credentialFromError(y){return E.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return E.credential(y.oauthAccessToken)}catch(D){return null}}}return E.GITHUB_SIGN_IN_METHOD="github.com",E.PROVIDER_ID="github.com",E})();class Ls extends Ar{constructor(m,y){super(m,m),this.pendingToken=y}_getIdTokenResponse(m){return Qi(m,this.buildRequest())}_linkToIdToken(m,y){const D=this.buildRequest();return D.idToken=y,Qi(m,D)}_getReauthenticationResolver(m){const y=this.buildRequest();return y.autoCreate=!1,Qi(m,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m,{providerId:D,signInMethod:R,pendingToken:B}=y;return D&&R&&B&&D===R?new Ls(D,B):null}static _create(m,y){return new Ls(m,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class fi extends wr{constructor(m){ie(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return fi.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return fi.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const y=Ls.fromJSON(m);return ie(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:y,providerId:D}=m;if(!y||!D)return null;try{return Ls._create(D,y)}catch(R){return null}}}let zt=(()=>{class E extends Uo{constructor(){super("twitter.com")}static credential(y,D){return Oi._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:D})}static credentialFromResult(y){return E.credentialFromTaggedObject(y)}static credentialFromError(y){return E.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:D,oauthTokenSecret:R}=y;if(!D||!R)return null;try{return E.credential(D,R)}catch(B){return null}}}return E.TWITTER_SIGN_IN_METHOD="twitter.com",E.PROVIDER_ID="twitter.com",E})();function Ba(E,m){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,l.Z)(function*(E,m){return Ir(E,"POST","/v1/accounts:signUp",on(E,m))})).apply(this,arguments)}class An{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,y,D,R=!1){return(0,l.Z)(function*(){const B=yield Vt._fromIdTokenResponse(m,D,R),oe=jo(D);return new An({user:B,providerId:oe,_tokenResponse:D,operationType:y})})()}static _forOperation(m,y,D){return(0,l.Z)(function*(){yield m._updateTokensIfNecessary(D,!0);const R=jo(D);return new An({user:m,providerId:R,_tokenResponse:D,operationType:y})})()}}function jo(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}function nd(E){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,l.Z)(function*(E){var m;const y=pn(E);if(yield y._initializationPromise,null===(m=y.currentUser)||void 0===m?void 0:m.isAnonymous)return new An({user:y.currentUser,providerId:null,operationType:"signIn"});const D=yield Ba(y,{returnSecureToken:!0}),R=yield An._fromIdTokenResponse(y,"signIn",D,!0);return yield y._updateCurrentUser(R.user),R})).apply(this,arguments)}class Iu extends H.ZR{constructor(m,y,D,R){var B;super(y.code,y.message),this.operationType=D,this.user=R,Object.setPrototypeOf(this,Iu.prototype),this.customData={appName:m.name,tenantId:null!==(B=m.tenantId)&&void 0!==B?B:void 0,_serverResponse:y.customData._serverResponse,operationType:D}}static _fromErrorAndOperation(m,y,D,R){return new Iu(m,y,D,R)}}function Au(E,m,y,D){return("reauthenticate"===m?y._getReauthenticationResolver(E):y._getIdTokenResponse(E)).catch(B=>{throw"auth/multi-factor-auth-required"===B.code?Iu._fromErrorAndOperation(E,B,m,D):B})}function ja(E){return new Set(E.map(({providerId:m})=>m).filter(m=>!!m))}function es(E,m){return uo.apply(this,arguments)}function uo(){return(uo=(0,l.Z)(function*(E,m){const y=(0,H.m9)(E);yield Vs(!0,y,m);const{providerUserInfo:D}=yield Ur(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[m]}),R=ja(D||[]);return y.providerData=y.providerData.filter(B=>R.has(B.providerId)),R.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y})).apply(this,arguments)}function pi(E,m){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,l.Z)(function*(E,m,y=!1){const D=yield _t(E,m._linkToIdToken(E.auth,yield E.getIdToken()),y);return An._forOperation(E,"link",D)})).apply(this,arguments)}function Vs(E,m,y){return Us.apply(this,arguments)}function Us(){return(Us=(0,l.Z)(function*(E,m,y){yield yn(m);const R=!1===E?"provider-already-linked":"no-such-provider";ie(ja(m.providerData).has(y)===E,m.auth,R)})).apply(this,arguments)}function En(E,m){return Es.apply(this,arguments)}function Es(){return(Es=(0,l.Z)(function*(E,m,y=!1){const{auth:D}=E,R="reauthenticate";try{const B=yield _t(E,Au(D,R,m,E),y);ie(B.idToken,D,"internal-error");const oe=qt(B.idToken);ie(oe,D,"internal-error");const{sub:Oe}=oe;return ie(E.uid===Oe,D,"user-mismatch"),An._forOperation(E,R,B)}catch(B){throw"auth/user-not-found"===(null==B?void 0:B.code)&&Ge(D,"user-mismatch"),B}})).apply(this,arguments)}function lo(E,m){return bs.apply(this,arguments)}function bs(){return(bs=(0,l.Z)(function*(E,m,y=!1){const D="signIn",R=yield Au(E,D,m),B=yield An._fromIdTokenResponse(E,D,R);return y||(yield E._updateCurrentUser(B.user)),B})).apply(this,arguments)}function xr(E,m){return ir.apply(this,arguments)}function ir(){return(ir=(0,l.Z)(function*(E,m){return lo(pn(E),m)})).apply(this,arguments)}function zo(E,m){return gi.apply(this,arguments)}function gi(){return(gi=(0,l.Z)(function*(E,m){const y=(0,H.m9)(E);return yield Vs(!1,y,m.providerId),pi(y,m)})).apply(this,arguments)}function Rr(E,m){return ts.apply(this,arguments)}function ts(){return(ts=(0,l.Z)(function*(E,m){return En((0,H.m9)(E),m)})).apply(this,arguments)}function ns(E,m){return mi.apply(this,arguments)}function mi(){return(mi=(0,l.Z)(function*(E,m){return Ir(E,"POST","/v1/accounts:signInWithCustomToken",on(E,m))})).apply(this,arguments)}function Ni(E,m){return jr.apply(this,arguments)}function jr(){return(jr=(0,l.Z)(function*(E,m){const y=pn(E),D=yield ns(y,{token:m,returnSecureToken:!0}),R=yield An._fromIdTokenResponse(y,"signIn",D);return yield y._updateCurrentUser(R.user),R})).apply(this,arguments)}class Er{constructor(m,y){this.factorId=m,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(m,y){return"phoneInfo"in y?bt._fromServerResponse(m,y):Ge(m,"internal-error")}}class bt extends Er{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,y){return new bt(y)}}function da(E,m,y){var D;ie((null===(D=y.url)||void 0===D?void 0:D.length)>0,E,"invalid-continue-uri"),ie(void 0===y.dynamicLinkDomain||y.dynamicLinkDomain.length>0,E,"invalid-dynamic-link-domain"),m.continueUrl=y.url,m.dynamicLinkDomain=y.dynamicLinkDomain,m.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(ie(y.iOS.bundleId.length>0,E,"missing-ios-bundle-id"),m.iOSBundleId=y.iOS.bundleId),y.android&&(ie(y.android.packageName.length>0,E,"missing-android-pkg-name"),m.androidInstallApp=y.android.installApp,m.androidMinimumVersionCode=y.android.minimumVersion,m.androidPackageName=y.android.packageName)}function Su(E,m,y){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,l.Z)(function*(E,m,y){const D=(0,H.m9)(E),R={requestType:"PASSWORD_RESET",email:m};y&&da(D,R,y),yield Qt(D,R)})).apply(this,arguments)}function za(E,m,y){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,l.Z)(function*(E,m,y){yield Pn((0,H.m9)(E),{oobCode:m,newPassword:y})})).apply(this,arguments)}function Wl(E,m){return ha.apply(this,arguments)}function ha(){return(ha=(0,l.Z)(function*(E,m){yield Ns((0,H.m9)(E),{oobCode:m})})).apply(this,arguments)}function xe(E,m){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,l.Z)(function*(E,m){const y=(0,H.m9)(E),D=yield Pn(y,{oobCode:m}),R=D.requestType;switch(ie(R,y,"internal-error"),R){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ie(D.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ie(D.mfaInfo,y,"internal-error");default:ie(D.email,y,"internal-error")}let B=null;return D.mfaInfo&&(B=Er._fromServerResponse(pn(y),D.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.newEmail:D.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.email:D.newEmail)||null,multiFactorInfo:B},operation:R}})).apply(this,arguments)}function Ri(E,m){return mn.apply(this,arguments)}function mn(){return(mn=(0,l.Z)(function*(E,m){const{data:y}=yield xe((0,H.m9)(E),m);return y.email})).apply(this,arguments)}function Ha(E,m,y){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,l.Z)(function*(E,m,y){const D=pn(E),R=yield Ba(D,{returnSecureToken:!0,email:m,password:y}),B=yield An._fromIdTokenResponse(D,"signIn",R);return yield D._updateCurrentUser(B.user),B})).apply(this,arguments)}function ki(E,m,y){return xr((0,H.m9)(E),Or.credential(m,y))}function js(E,m,y){return fa.apply(this,arguments)}function fa(){return(fa=(0,l.Z)(function*(E,m,y){const D=(0,H.m9)(E),R={requestType:"EMAIL_SIGNIN",email:m};ie(y.handleCodeInApp,D,"argument-error"),y&&da(D,R,y),yield ua(D,R)})).apply(this,arguments)}function Za(E,m){const y=Xi.parseLink(m);return"EMAIL_SIGNIN"===(null==y?void 0:y.operation)}function $a(E,m,y){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,l.Z)(function*(E,m,y){const D=(0,H.m9)(E),R=Or.credentialWithLink(m,y||ee());return ie(R._tenantId===(D.tenantId||null),D,"tenant-id-mismatch"),xr(D,R)})).apply(this,arguments)}function Zo(E,m){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,l.Z)(function*(E,m){return fn(E,"POST","/v1/accounts:createAuthUri",on(E,m))})).apply(this,arguments)}function Xr(E,m){return $o.apply(this,arguments)}function $o(){return($o=(0,l.Z)(function*(E,m){const D={identifier:m,continueUri:Nt()?ee():"http://localhost"},{signinMethods:R}=yield Zo((0,H.m9)(E),D);return R||[]})).apply(this,arguments)}function zs(E,m){return ei.apply(this,arguments)}function ei(){return(ei=(0,l.Z)(function*(E,m){const y=(0,H.m9)(E),R={requestType:"VERIFY_EMAIL",idToken:yield E.getIdToken()};m&&da(y.auth,R,m);const{email:B}=yield vs(y.auth,R);B!==E.email&&(yield E.reload())})).apply(this,arguments)}function Ts(E,m,y){return Go.apply(this,arguments)}function Go(){return(Go=(0,l.Z)(function*(E,m,y){const D=(0,H.m9)(E),B={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield E.getIdToken(),newEmail:m};y&&da(D.auth,B,y);const{email:oe}=yield gn(D.auth,B);oe!==E.email&&(yield E.reload())})).apply(this,arguments)}function co(E,m){return pa.apply(this,arguments)}function pa(){return(pa=(0,l.Z)(function*(E,m){return fn(E,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Li(E,m){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,l.Z)(function*(E,{displayName:m,photoURL:y}){if(void 0===m&&void 0===y)return;const D=(0,H.m9)(E),B={idToken:yield D.getIdToken(),displayName:m,photoUrl:y,returnSecureToken:!0},oe=yield _t(D,co(D.auth,B));D.displayName=oe.displayName||null,D.photoURL=oe.photoUrl||null;const Oe=D.providerData.find(({providerId:ft})=>"password"===ft);Oe&&(Oe.displayName=D.displayName,Oe.photoURL=D.photoURL),yield D._updateTokensIfNecessary(oe)})).apply(this,arguments)}function il(E,m){return qo((0,H.m9)(E),m,null)}function ga(E,m){return qo((0,H.m9)(E),null,m)}function qo(E,m,y){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,l.Z)(function*(E,m,y){const{auth:D}=E,B={idToken:yield E.getIdToken(),returnSecureToken:!0};m&&(B.email=m),y&&(B.password=y);const oe=yield _t(E,Wt(D,B));yield E._updateTokensIfNecessary(oe,!0)})).apply(this,arguments)}class _i{constructor(m,y,D={}){this.isNewUser=m,this.providerId=y,this.profile=D}}class Ko extends _i{constructor(m,y,D,R){super(m,y,D),this.username=R}}class xu extends _i{constructor(m,y){super(m,"facebook.com",y)}}class Mu extends Ko{constructor(m,y){super(m,"github.com",y,"string"==typeof(null==y?void 0:y.login)?null==y?void 0:y.login:null)}}class ho extends _i{constructor(m,y){super(m,"google.com",y)}}class Fi extends Ko{constructor(m,y,D){super(m,"twitter.com",y,D)}}function Pu(E){const{user:m,_tokenResponse:y}=E;return m.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function Hs(E){var m,y;if(!E)return null;const{providerId:D}=E,R=E.rawUserInfo?JSON.parse(E.rawUserInfo):{},B=E.isNewUser||"identitytoolkit#SignupNewUserResponse"===E.kind;if(!D&&(null==E?void 0:E.idToken)){const oe=null===(y=null===(m=qt(E.idToken))||void 0===m?void 0:m.firebase)||void 0===y?void 0:y.sign_in_provider;if(oe)return new _i(B,"anonymous"!==oe&&"custom"!==oe?oe:null)}if(!D)return null;switch(D){case"facebook.com":return new xu(B,R);case"github.com":return new Mu(B,R);case"google.com":return new ho(B,R);case"twitter.com":return new Fi(B,R,E.screenName||null);case"custom":case"anonymous":return new _i(B,null);default:return new _i(B,D,R)}}(y)}class po{constructor(m,y){this.type=m,this.credential=y}static _fromIdtoken(m){return new po("enroll",m)}static _fromMfaPendingCredential(m){return new po("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var y,D;if(null==m?void 0:m.multiFactorSession){if(null===(y=m.multiFactorSession)||void 0===y?void 0:y.pendingCredential)return po._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null===(D=m.multiFactorSession)||void 0===D?void 0:D.idToken)return po._fromIdtoken(m.multiFactorSession.idToken)}return null}}class Jo{constructor(m,y,D){this.session=m,this.hints=y,this.signInResolver=D}static _fromError(m,y){const D=pn(m),R=y.customData._serverResponse,B=(R.mfaInfo||[]).map(Oe=>Er._fromServerResponse(D,Oe));ie(R.mfaPendingCredential,D,"internal-error");const oe=po._fromMfaPendingCredential(R.mfaPendingCredential);return new Jo(oe,B,function(){var Oe=(0,l.Z)(function*(ft){const It=yield ft._process(D,oe);delete R.mfaInfo,delete R.mfaPendingCredential;const tn=Object.assign(Object.assign({},R),{idToken:It.idToken,refreshToken:It.refreshToken});switch(y.operationType){case"signIn":const lr=yield An._fromIdTokenResponse(D,y.operationType,tn);return yield D._updateCurrentUser(lr.user),lr;case"reauthenticate":return ie(y.user,D,"internal-error"),An._forOperation(y.user,y.operationType,tn);default:Ge(D,"internal-error")}});return function(ft){return Oe.apply(this,arguments)}}())}resolveSignIn(m){var y=this;return(0,l.Z)(function*(){return y.signInResolver(m)})()}}function Ru(E,m){var y;const D=(0,H.m9)(E),R=m;return ie(m.customData.operationType,D,"argument-error"),ie(null===(y=R.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,D,"argument-error"),Jo._fromError(D,R)}function $s(E,m){return fn(E,"POST","/v2/accounts/mfaEnrollment:start",on(E,m))}class ku{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(D=>Er._fromServerResponse(m.auth,D)))})}static _fromUser(m){return new ku(m)}getSession(){var m=this;return(0,l.Z)(function*(){return po._fromIdtoken(yield m.user.getIdToken())})()}enroll(m,y){var D=this;return(0,l.Z)(function*(){const R=m,B=yield D.getSession(),oe=yield _t(D.user,R._process(D.user.auth,B,y));return yield D.user._updateTokensIfNecessary(oe),D.user.reload()})()}unenroll(m){var y=this;return(0,l.Z)(function*(){const D="string"==typeof m?m:m.uid,R=yield y.user.getIdToken(),B=yield _t(y.user,function go(E,m){return fn(E,"POST","/v2/accounts/mfaEnrollment:withdraw",on(E,m))}(y.user.auth,{idToken:R,mfaEnrollmentId:D}));y.enrolledFactors=y.enrolledFactors.filter(({uid:oe})=>oe!==D),yield y.user._updateTokensIfNecessary(B);try{yield y.user.reload()}catch(oe){if("auth/user-token-expired"!==oe.code)throw oe}})()}}const rs=new WeakMap;function Ga(E){const m=(0,H.m9)(E);return rs.has(m)||rs.set(m,ku._fromUser(m)),rs.get(m)}const zr="__sak";class sl{constructor(m,y){this.storageRetriever=m,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(zr,"1"),this.storage.removeItem(zr),Promise.resolve(!0)):Promise.resolve(!1)}catch(m){return Promise.resolve(!1)}}_set(m,y){return this.storage.setItem(m,JSON.stringify(y)),Promise.resolve()}_get(m){const y=this.storage.getItem(m);return Promise.resolve(y?JSON.parse(y):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const Bn=(()=>{class E extends sl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,D)=>this.onStorageEvent(y,D),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function mo(){const E=(0,H.z$)();return Et(E)||vn(E)}()&&function Ki(){try{return!(!window||window===window.top)}catch(E){return!1}}(),this.fallbackToPolling=oo(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const D of Object.keys(this.listeners)){const R=this.storage.getItem(D),B=this.localCache[D];R!==B&&y(D,B,R)}}onStorageEvent(y,D=!1){if(!y.key)return void this.forAllChangedKeys((Oe,ft,It)=>{this.notifyListeners(Oe,It)});const R=y.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Oe=this.storage.getItem(R);if(y.newValue!==Oe)null!==y.newValue?this.storage.setItem(R,y.newValue):this.storage.removeItem(R);else if(this.localCache[R]===y.newValue&&!D)return}const B=()=>{const Oe=this.storage.getItem(R);!D&&this.localCache[R]===Oe||this.notifyListeners(R,Oe)},oe=this.storage.getItem(R);!function Fa(){return(0,H.w1)()&&10===document.documentMode}()||oe===y.newValue||y.newValue===y.oldValue?B():setTimeout(B,10)}notifyListeners(y,D){this.localCache[y]=D;const R=this.listeners[y];if(R)for(const B of Array.from(R))B(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,D,R)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:D,newValue:R}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(D)}_removeListener(y,D){this.listeners[y]&&(this.listeners[y].delete(D),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,D){var R=()=>super._set,B=this;return(0,l.Z)(function*(){yield R().call(B,y,D),B.localCache[y]=JSON.stringify(D)})()}_get(y){var D=()=>super._get,R=this;return(0,l.Z)(function*(){const B=yield D().call(R,y);return R.localCache[y]=JSON.stringify(B),B})()}_remove(y){var D=()=>super._remove,R=this;return(0,l.Z)(function*(){yield D().call(R,y),delete R.localCache[y]})()}}return E.type="LOCAL",E})(),_o=(()=>{class E extends sl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,D){}_removeListener(y,D){}}return E.type="SESSION",E})();let qa=(()=>{class E{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const D=this.receivers.find(B=>B.isListeningto(y));if(D)return D;const R=new E(y);return this.receivers.push(R),R}isListeningto(y){return this.eventTarget===y}handleEvent(y){var D=this;return(0,l.Z)(function*(){const R=y,{eventId:B,eventType:oe,data:Oe}=R.data,ft=D.handlersMap[oe];if(!(null==ft?void 0:ft.size))return;R.ports[0].postMessage({status:"ack",eventId:B,eventType:oe});const It=Array.from(ft).map(function(){var lr=(0,l.Z)(function*(ia){return ia(R.origin,Oe)});return function(ia){return lr.apply(this,arguments)}}()),tn=yield function al(E){return Promise.all(E.map(function(){var m=(0,l.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(D){return{fulfilled:!1,reason:D}}});return function(y){return m.apply(this,arguments)}}()))}(It);R.ports[0].postMessage({status:"done",eventId:B,eventType:oe,response:tn})})()}_subscribe(y,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(D)}_unsubscribe(y,D){this.handlersMap[y]&&D&&this.handlersMap[y].delete(D),(!D||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function is(E="",m=10){let y="";for(let D=0;D<m;D++)y+=Math.floor(10*Math.random());return E+y}class Wa{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,y,D=50){var R=this;return(0,l.Z)(function*(){const B="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!B)throw new Error("connection_unavailable");let oe,Oe;return new Promise((ft,It)=>{const tn=is("",20);B.port1.start();const lr=setTimeout(()=>{It(new Error("unsupported_event"))},D);Oe={messageChannel:B,onMessage(ia){const ju=ia;if(ju.data.eventId===tn)switch(ju.data.status){case"ack":clearTimeout(lr),oe=setTimeout(()=>{It(new Error("timeout"))},3e3);break;case"done":clearTimeout(oe),ft(ju.data.response);break;default:clearTimeout(lr),clearTimeout(oe),It(new Error("invalid_response"))}}},R.handlers.add(Oe),B.port1.addEventListener("message",Oe.onMessage),R.target.postMessage({eventType:m,eventId:tn,data:y},[B.port2])}).finally(()=>{Oe&&R.removeMessageHandler(Oe)})})()}}function Zn(){return window}function Is(){return void 0!==Zn().WorkerGlobalScope&&"function"==typeof Zn().importScripts}function Xt(){return(Xt=(0,l.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(E){return null}})).apply(this,arguments)}const v="firebaseLocalStorageDb",M="firebaseLocalStorage",F="fbase_key";class ${constructor(m){this.request=m}toPromise(){return new Promise((m,y)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function ne(E,m){return E.transaction([M],m?"readwrite":"readonly").objectStore(M)}function Te(){const E=indexedDB.open(v,1);return new Promise((m,y)=>{E.addEventListener("error",()=>{y(E.error)}),E.addEventListener("upgradeneeded",()=>{const D=E.result;try{D.createObjectStore(M,{keyPath:F})}catch(R){y(R)}}),E.addEventListener("success",(0,l.Z)(function*(){const D=E.result;D.objectStoreNames.contains(M)?m(D):(D.close(),yield function ye(){const E=indexedDB.deleteDatabase(v);return new $(E).toPromise()}(),m(yield Te()))}))})}function Je(E,m,y){return pt.apply(this,arguments)}function pt(){return(pt=(0,l.Z)(function*(E,m,y){const D=ne(E,!0).put({[F]:m,value:y});return new $(D).toPromise()})).apply(this,arguments)}function or(){return(or=(0,l.Z)(function*(E,m){const y=ne(E,!1).get(m),D=yield new $(y).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function br(E,m){const y=ne(E,!0).delete(m);return new $(y).toPromise()}const ma=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,l.Z)(function*(){return y.db||(y.db=yield Te()),y.db})()}_withRetries(y){var D=this;return(0,l.Z)(function*(){let R=0;for(;;)try{const B=yield D._openDb();return yield y(B)}catch(B){if(R++>3)throw B;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,l.Z)(function*(){return Is()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,l.Z)(function*(){y.receiver=qa._getInstance(function f(){return Is()?self:null}()),y.receiver._subscribe("keyChanged",function(){var D=(0,l.Z)(function*(R,B){return{keyProcessed:(yield y._poll()).includes(B.key)}});return function(R,B){return D.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var D=(0,l.Z)(function*(R,B){return["keyChanged"]});return function(R,B){return D.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,l.Z)(function*(){var D,R;if(y.activeServiceWorker=yield function Xn(){return Xt.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new Wa(y.activeServiceWorker);const B=yield y.sender._send("ping",{},800);!B||(null===(D=B[0])||void 0===D?void 0:D.fulfilled)&&(null===(R=B[0])||void 0===R?void 0:R.value.includes("keyChanged"))&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var D=this;return(0,l.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function u(){var E;return(null===(E=null==navigator?void 0:navigator.serviceWorker)||void 0===E?void 0:E.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:y},D.serviceWorkerReceiverAvailable?800:50)}catch(R){}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const y=yield Te();return yield Je(y,zr,"1"),yield br(y,zr),!0}catch(y){}return!1})()}_withPendingWrite(y){var D=this;return(0,l.Z)(function*(){D.pendingWrites++;try{yield y()}finally{D.pendingWrites--}})()}_set(y,D){var R=this;return(0,l.Z)(function*(){return R._withPendingWrite((0,l.Z)(function*(){return yield R._withRetries(B=>Je(B,y,D)),R.localCache[y]=D,R.notifyServiceWorker(y)}))})()}_get(y){var D=this;return(0,l.Z)(function*(){const R=yield D._withRetries(B=>function rn(E,m){return or.apply(this,arguments)}(B,y));return D.localCache[y]=R,R})()}_remove(y){var D=this;return(0,l.Z)(function*(){return D._withPendingWrite((0,l.Z)(function*(){return yield D._withRetries(R=>br(R,y)),delete D.localCache[y],D.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,l.Z)(function*(){const D=yield y._withRetries(oe=>{const Oe=ne(oe,!1).getAll();return new $(Oe).toPromise()});if(!D)return[];if(0!==y.pendingWrites)return[];const R=[],B=new Set;for(const{fbase_key:oe,value:Oe}of D)B.add(oe),JSON.stringify(y.localCache[oe])!==JSON.stringify(Oe)&&(y.notifyListeners(oe,Oe),R.push(oe));for(const oe of Object.keys(y.localCache))y.localCache[oe]&&!B.has(oe)&&(y.notifyListeners(oe,null),R.push(oe));return R})()}notifyListeners(y,D){this.localCache[y]=D;const R=this.listeners[y];if(R)for(const B of Array.from(R))B(D)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(D)}_removeListener(y,D){this.listeners[y]&&(this.listeners[y].delete(D),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})();function Ka(E,m){return fn(E,"POST","/v2/accounts/mfaSignIn:start",on(E,m))}function _a(){return(_a=(0,l.Z)(function*(E){return(yield fn(E,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Fn(E){return new Promise((m,y)=>{const D=document.createElement("script");D.setAttribute("src",E),D.onload=m,D.onerror=R=>{const B=Re("internal-error");B.customData=R,y(B)},D.type="text/javascript",D.charset="UTF-8",function os(){var E,m;return null!==(m=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==m?m:document}().appendChild(D)})}function as(E){return`__${E}${Math.floor(1e6*Math.random())}`}const vi=1e12;class Vi{constructor(m){this.auth=m,this.counter=vi,this._widgets=new Map}render(m,y){const D=this.counter;return this._widgets.set(D,new Lu(m,this.auth.name,y||{})),this.counter++,D}reset(m){var y;const D=m||vi;null===(y=this._widgets.get(D))||void 0===y||y.delete(),this._widgets.delete(D)}getResponse(m){var y;return(null===(y=this._widgets.get(m||vi))||void 0===y?void 0:y.getResponse())||""}execute(m){var y=this;return(0,l.Z)(function*(){var D;return null===(D=y._widgets.get(m||vi))||void 0===D||D.execute(),""})()}}class Lu{constructor(m,y,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const R="string"==typeof m?document.getElementById(m):m;ie(R,"argument-error",{appName:y}),this.container=R,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ja(E){const m=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<E;D++)m.push(y.charAt(Math.floor(Math.random()*y.length)));return m.join("")}(50);const{callback:m,"expired-callback":y}=this.params;if(m)try{m(this.responseToken)}catch(D){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch(D){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const yo=as("rcb"),rd=new it(3e4,6e4);class ar{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Zn().grecaptcha}load(m,y=""){return ie(function id(E){return E.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(E)}(y),m,"argument-error"),this.shouldResolveImmediately(y)?Promise.resolve(Zn().grecaptcha):new Promise((D,R)=>{const B=Zn().setTimeout(()=>{R(Re(m,"network-request-failed"))},rd.get());Zn()[yo]=()=>{Zn().clearTimeout(B),delete Zn()[yo];const Oe=Zn().grecaptcha;if(!Oe)return void R(Re(m,"internal-error"));const ft=Oe.render;Oe.render=(It,tn)=>{const lr=ft(It,tn);return this.counter++,lr},this.hostLanguage=y,D(Oe)},Fn(`https://www.google.com/recaptcha/api.js??${(0,H.xO)({onload:yo,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(B),R(Re(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){return!!Zn().grecaptcha&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ap{load(m){return(0,l.Z)(function*(){return new Vi(m)})()}clearedOneInstance(){}}const Jl="recaptcha",sd={theme:"light",type:"image"};class od{constructor(m,y=Object.assign({},sd),D){this.parameters=y,this.type=Jl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=pn(D),this.isInvisible="invisible"===this.parameters.size,ie("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const R="string"==typeof m?document.getElementById(m):m;ie(R,this.auth,"argument-error"),this.container=R,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ap:new ar,this.validateStartingState()}verify(){var m=this;return(0,l.Z)(function*(){m.assertNotDestroyed();const y=yield m.render(),D=m.getAssertedRecaptcha();return D.getResponse(y)||new Promise(B=>{const oe=Oe=>{!Oe||(m.tokenChangeListeners.delete(oe),B(Oe))};m.tokenChangeListeners.add(oe),m.isInvisible&&D.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){ie(!this.parameters.sitekey,this.auth,"argument-error"),ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ie("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return y=>{if(this.tokenChangeListeners.forEach(D=>D(y)),"function"==typeof m)m(y);else if("string"==typeof m){const D=Zn()[m];"function"==typeof D&&D(y)}}}assertNotDestroyed(){ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,l.Z)(function*(){if(yield m.init(),!m.widgetId){let y=m.container;if(!m.isInvisible){const D=document.createElement("div");y.appendChild(D),y=D}m.widgetId=m.getAssertedRecaptcha().render(y,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,l.Z)(function*(){ie(Nt()&&!Is(),m.auth,"internal-error"),yield function ph(){let E=null;return new Promise(m=>{"complete"!==document.readyState?(E=()=>m(),window.addEventListener("load",E)):m()}).catch(m=>{throw E&&window.removeEventListener("load",E),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const y=yield function Xo(E){return _a.apply(this,arguments)}(m.auth);ie(y,m.auth,"internal-error"),m.parameters.sitekey=y})()}getAssertedRecaptcha(){return ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ll{constructor(m,y){this.verificationId=m,this.onConfirmation=y}confirm(m){const y=ws._fromVerification(this.verificationId,m);return this.onConfirmation(y)}}function ea(E,m,y){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,l.Z)(function*(E,m,y){const D=pn(E),R=yield vo(D,m,(0,H.m9)(y));return new ll(R,B=>xr(D,B))})).apply(this,arguments)}function fr(E,m,y){return ya.apply(this,arguments)}function ya(){return(ya=(0,l.Z)(function*(E,m,y){const D=(0,H.m9)(E);yield Vs(!1,D,"phone");const R=yield vo(D.auth,m,(0,H.m9)(y));return new ll(R,B=>zo(D,B))})).apply(this,arguments)}function us(E,m,y){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,l.Z)(function*(E,m,y){const D=(0,H.m9)(E),R=yield vo(D.auth,m,(0,H.m9)(y));return new ll(R,B=>Rr(D,B))})).apply(this,arguments)}function vo(E,m,y){return wi.apply(this,arguments)}function wi(){return(wi=(0,l.Z)(function*(E,m,y){var D;const R=yield y.verify();try{let B;if(ie("string"==typeof R,E,"argument-error"),ie(y.type===Jl,E,"argument-error"),B="string"==typeof m?{phoneNumber:m}:m,"session"in B){const oe=B.session;if("phoneNumber"in B)return ie("enroll"===oe.type,E,"internal-error"),(yield $s(E,{idToken:oe.credential,phoneEnrollmentInfo:{phoneNumber:B.phoneNumber,recaptchaToken:R}})).phoneSessionInfo.sessionInfo;{ie("signin"===oe.type,E,"internal-error");const Oe=(null===(D=B.multiFactorHint)||void 0===D?void 0:D.uid)||B.multiFactorUid;return ie(Oe,E,"missing-multi-factor-info"),(yield Ka(E,{mfaPendingCredential:oe.credential,mfaEnrollmentId:Oe,phoneSignInInfo:{recaptchaToken:R}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:oe}=yield Cu(E,{phoneNumber:B.phoneNumber,recaptchaToken:R});return oe}}finally{y._reset()}})).apply(this,arguments)}function wo(E,m){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,l.Z)(function*(E,m){yield pi((0,H.m9)(E),m)})).apply(this,arguments)}let va=(()=>{class E{constructor(y){this.providerId=E.PROVIDER_ID,this.auth=pn(y)}verifyPhoneNumber(y,D){return vo(this.auth,y,(0,H.m9)(D))}static credential(y,D){return ws._fromVerification(y,D)}static credentialFromResult(y){return E.credentialFromTaggedObject(y)}static credentialFromError(y){return E.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:D,temporaryProof:R}=y;return D&&R?ws._fromTokenResponse(D,R):null}}return E.PROVIDER_ID="phone",E.PHONE_SIGN_IN_METHOD="phone",E})();function Ui(E,m){return m?ve(m):(ie(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}class Xa extends Ar{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return Qi(m,this._buildIdpRequest())}_linkToIdToken(m,y){return Qi(m,this._buildIdpRequest(y))}_getReauthenticationResolver(m){return Qi(m,this._buildIdpRequest())}_buildIdpRequest(m){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(y.idToken=m),y}}function ad(E){return lo(E.auth,new Xa(E),E.bypassAuthState)}function Ql(E){const{auth:m,user:y}=E;return ie(y,m,"internal-error"),En(y,new Xa(E),E.bypassAuthState)}function gh(E){return ud.apply(this,arguments)}function ud(){return(ud=(0,l.Z)(function*(E){const{auth:m,user:y}=E;return ie(y,m,"internal-error"),pi(y,new Xa(E),E.bypassAuthState)})).apply(this,arguments)}class ld{constructor(m,y,D,R,B=!1){this.auth=m,this.resolver=D,this.user=R,this.bypassAuthState=B,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var m=this;return new Promise(function(){var y=(0,l.Z)(function*(D,R){m.pendingPromise={resolve:D,reject:R};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(B){m.reject(B)}});return function(D,R){return y.apply(this,arguments)}}())}onAuthEvent(m){var y=this;return(0,l.Z)(function*(){const{urlResponse:D,sessionId:R,postBody:B,tenantId:oe,error:Oe,type:ft}=m;if(Oe)return void y.reject(Oe);const It={auth:y.auth,requestUri:D,sessionId:R,tenantId:oe||void 0,postBody:B||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(ft)(It))}catch(tn){y.reject(tn)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return ad;case"linkViaPopup":case"linkViaRedirect":return gh;case"reauthViaPopup":case"reauthViaRedirect":return Ql;default:Ge(this.auth,"internal-error")}}resolve(m){re(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){re(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ei=new it(2e3,1e4);function cl(E,m,y){return bo.apply(this,arguments)}function bo(){return(bo=(0,l.Z)(function*(E,m,y){const D=pn(E);Ce(E,m,wr);const R=Ui(D,y);return new cd(D,"signInViaPopup",m,R).executeNotNull()})).apply(this,arguments)}function mh(E,m,y){return eu.apply(this,arguments)}function eu(){return(eu=(0,l.Z)(function*(E,m,y){const D=(0,H.m9)(E);Ce(D.auth,m,wr);const R=Ui(D.auth,y);return new cd(D.auth,"reauthViaPopup",m,R,D).executeNotNull()})).apply(this,arguments)}function dl(E,m,y){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,l.Z)(function*(E,m,y){const D=(0,H.m9)(E);Ce(D.auth,m,wr);const R=Ui(D.auth,y);return new cd(D.auth,"linkViaPopup",m,R,D).executeNotNull()})).apply(this,arguments)}let cd=(()=>{class E extends ld{constructor(y,D,R,B,oe){super(y,D,B,oe),this.provider=R,this.authWindow=null,this.pollId=null,E.currentPopupAction&&E.currentPopupAction.cancel(),E.currentPopupAction=this}executeNotNull(){var y=this;return(0,l.Z)(function*(){const D=yield y.execute();return ie(D,y.auth,"internal-error"),D})()}onExecution(){var y=this;return(0,l.Z)(function*(){re(1===y.filter.length,"Popup operations only handle one event");const D=is();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],D),y.authWindow.associatedEvent=D,y.resolver._originValidation(y.auth).catch(R=>{y.reject(R)}),y.resolver._isIframeWebStorageSupported(y.auth,R=>{R||y.reject(Re(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(Re(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,E.currentPopupAction=null}pollUserCancellation(){const y=()=>{var D,R;this.pollId=(null===(R=null===(D=this.authWindow)||void 0===D?void 0:D.window)||void 0===R?void 0:R.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Re(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(y,Ei.get())};y()}}return E.currentPopupAction=null,E})();const tu=new Map;class nu extends ld{constructor(m,y,D=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,D),this.eventId=null}execute(){var m=()=>super.execute,y=this;return(0,l.Z)(function*(){let D=tu.get(y.auth._key());if(!D){try{const B=(yield function ru(E,m){return bi.apply(this,arguments)}(y.resolver,y.auth))?yield m().call(y):null;D=()=>Promise.resolve(B)}catch(R){D=()=>Promise.reject(R)}tu.set(y.auth._key(),D)}return y.bypassAuthState||tu.set(y.auth._key(),()=>Promise.resolve(null)),D()})()}onAuthEvent(m){var y=()=>super.onAuthEvent,D=this;return(0,l.Z)(function*(){if("signInViaRedirect"===m.type)return y().call(D,m);if("unknown"!==m.type){if(m.eventId){const R=yield D.auth._redirectUserForId(m.eventId);if(R)return D.user=R,y().call(D,m);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function bi(){return(bi=(0,l.Z)(function*(E,m){const y=dd(m),D=Ss(E);if(!(yield D._isAvailable()))return!1;const R="true"===(yield D._get(y));return yield D._remove(y),R})).apply(this,arguments)}function Xl(E,m){return Co.apply(this,arguments)}function Co(){return(Co=(0,l.Z)(function*(E,m){return Ss(E)._set(dd(m),"true")})).apply(this,arguments)}function iu(){tu.clear()}function Ss(E){return ve(E._redirectPersistence)}function dd(E){return J("pendingRedirect",E.config.apiKey,E.name)}function ta(E,m,y){return function lp(E,m,y){return hl.apply(this,arguments)}(E,m,y)}function hl(){return(hl=(0,l.Z)(function*(E,m,y){const D=pn(E);Ce(E,m,wr);const R=Ui(D,y);return yield Xl(R,D),R._openRedirect(D,m,"signInViaRedirect")})).apply(this,arguments)}function hd(E,m,y){return function fl(E,m,y){return pl.apply(this,arguments)}(E,m,y)}function pl(){return(pl=(0,l.Z)(function*(E,m,y){const D=(0,H.m9)(E);Ce(D.auth,m,wr);const R=Ui(D.auth,y);yield Xl(R,D.auth);const B=yield Be(D);return R._openRedirect(D.auth,m,"reauthViaRedirect",B)})).apply(this,arguments)}function fd(E,m,y){return function A(E,m,y){return S.apply(this,arguments)}(E,m,y)}function S(){return(S=(0,l.Z)(function*(E,m,y){const D=(0,H.m9)(E);Ce(D.auth,m,wr);const R=Ui(D.auth,y);yield Vs(!1,D,m.providerId),yield Xl(R,D.auth);const B=yield Be(D);return R._openRedirect(D.auth,m,"linkViaRedirect",B)})).apply(this,arguments)}function N(E,m){return j.apply(this,arguments)}function j(){return(j=(0,l.Z)(function*(E,m){return yield pn(E)._initializationPromise,te(E,m,!1)})).apply(this,arguments)}function te(E,m){return ce.apply(this,arguments)}function ce(){return(ce=(0,l.Z)(function*(E,m,y=!1){const D=pn(E),R=Ui(D,m),oe=yield new nu(D,R,y).execute();return oe&&!y&&(delete oe.user._redirectEventId,yield D._persistUserIfCurrent(oe.user),yield D._setRedirectUser(null,m)),oe})).apply(this,arguments)}function Be(E){return st.apply(this,arguments)}function st(){return(st=(0,l.Z)(function*(E){const m=is(`${E.uid}:::`);return E._redirectEventId=m,yield E.auth._setRedirectUser(E),yield E.auth._persistUserIfCurrent(E),m})).apply(this,arguments)}class Tt{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let y=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(m,D)&&(y=!0,this.sendToConsumer(m,D),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function ls(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xt(E);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=m,y=!0)),y}sendToConsumer(m,y){var D;if(m.error&&!xt(m)){const R=(null===(D=m.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";y.onError(Re(this.auth,R))}else y.onAuthEvent(m)}isEventForConsumer(m,y){const D=null===y.eventId||!!m.eventId&&m.eventId===y.eventId;return y.filter.includes(m.type)&&D}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(en(m))}saveEventToCache(m){this.cachedEventUids.add(en(m)),this.lastProcessedEventTime=Date.now()}}function en(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(m=>m).join("-")}function xt({type:E,error:m}){return"unknown"===E&&"auth/no-auth-event"===(null==m?void 0:m.code)}function ur(E){return To.apply(this,arguments)}function To(){return(To=(0,l.Z)(function*(E,m={}){return fn(E,"GET","/v1/projects",m)})).apply(this,arguments)}const na=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wa=/^https?/;function Ws(){return(Ws=(0,l.Z)(function*(E){if(E.config.emulator)return;const{authorizedDomains:m}=yield ur(E);for(const y of m)try{if(Ks(y))return}catch(D){}Ge(E,"unauthorized-domain")})).apply(this,arguments)}function Ks(E){const m=ee(),{protocol:y,hostname:D}=new URL(m);if(E.startsWith("chrome-extension://")){const oe=new URL(E);return""===oe.hostname&&""===D?"chrome-extension:"===y&&E.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===y&&oe.hostname===D}if(!wa.test(y))return!1;if(na.test(E))return D===E;const R=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+R+"|"+R+")$","i").test(D)}const gl=new it(3e4,6e4);function _h(){const E=Zn().___jsl;if(null==E?void 0:E.H)for(const m of Object.keys(E.H))if(E.H[m].r=E.H[m].r||[],E.H[m].L=E.H[m].L||[],E.H[m].r=[...E.H[m].L],E.CP)for(let y=0;y<E.CP.length;y++)E.CP[y]=null}let ml=null;function yh(E){return ml=ml||function Sm(E){return new Promise((m,y)=>{var D,R,B;function oe(){_h(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{_h(),y(Re(E,"network-request-failed"))},timeout:gl.get()})}if(null===(R=null===(D=Zn().gapi)||void 0===D?void 0:D.iframes)||void 0===R?void 0:R.Iframe)m(gapi.iframes.getContext());else{if(!(null===(B=Zn().gapi)||void 0===B?void 0:B.load)){const Oe=as("iframefcb");return Zn()[Oe]=()=>{gapi.load?oe():y(Re(E,"network-request-failed"))},Fn(`https://apis.google.com/js/api.js?onload=${Oe}`).catch(ft=>y(ft))}oe()}}).catch(m=>{throw ml=null,m})}(E),ml}const cp=new it(5e3,15e3),xm={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},su=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Vu(E){const m=E.config;ie(m.authDomain,E,"auth-domain-config-required");const y=m.emulator?Lt(m,"emulator/auth/iframe"):`https://${E.config.authDomain}/__/auth/iframe`,D={apiKey:m.apiKey,appName:E.name,v:Q.SDK_VERSION},R=su.get(E.config.apiHost);R&&(D.eid=R);const B=E._getFrameworks();return B.length&&(D.fw=B.join(",")),`${y}?${(0,H.xO)(D).slice(1)}`}function dp(){return dp=(0,l.Z)(function*(E){const m=yield yh(E),y=Zn().gapi;return ie(y,E,"internal-error"),m.open({where:document.body,url:Vu(E),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xm,dontclear:!0},D=>new Promise(function(){var R=(0,l.Z)(function*(B,oe){yield D.restyle({setHideOnLeave:!1});const Oe=Re(E,"network-request-failed"),ft=Zn().setTimeout(()=>{oe(Oe)},cp.get());function It(){Zn().clearTimeout(ft),B(D)}D.ping(It).then(It,()=>{oe(Oe)})});return function(B,oe){return R.apply(this,arguments)}}()))}),dp.apply(this,arguments)}const Rv={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class bh{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(m){}}}function tc(E,m,y,D,R,B){ie(E.config.authDomain,E,"auth-domain-config-required"),ie(E.config.apiKey,E,"invalid-api-key");const oe={apiKey:E.config.apiKey,appName:E.name,authType:y,redirectUrl:D,v:Q.SDK_VERSION,eventId:R};if(m instanceof wr){m.setDefaultLanguage(E.languageCode),oe.providerId=m.providerId||"",(0,H.xb)(m.getCustomParameters())||(oe.customParameters=JSON.stringify(m.getCustomParameters()));for(const[ft,It]of Object.entries(B||{}))oe[ft]=It}if(m instanceof Uo){const ft=m.getScopes().filter(It=>""!==It);ft.length>0&&(oe.scopes=ft.join(","))}E.tenantId&&(oe.tid=E.tenantId);const Oe=oe;for(const ft of Object.keys(Oe))void 0===Oe[ft]&&delete Oe[ft];return`${function Pm({config:E}){return E.emulator?Lt(E,"emulator/auth/handler"):`https://${E.authDomain}/__/auth/handler`}(E)}?${(0,H.xO)(Oe).slice(1)}`}const hp="webStorageSupport",yl=class Ea{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_o,this._completeRedirectFn=te}_openPopup(m,y,D,R){var B=this;return(0,l.Z)(function*(){var oe;re(null===(oe=B.eventManagers[m._key()])||void 0===oe?void 0:oe.manager,"_initialize() not called before _openPopup()");const Oe=tc(m,y,D,ee(),R);return function Ch(E,m,y,D=500,R=600){const B=Math.max((window.screen.availHeight-R)/2,0).toString(),oe=Math.max((window.screen.availWidth-D)/2,0).toString();let Oe="";const ft=Object.assign(Object.assign({},Rv),{width:D.toString(),height:R.toString(),top:B,left:oe}),It=(0,H.z$)().toLowerCase();y&&(Oe=an(It)?"_blank":y),qe(It)&&(m=m||"http://localhost",ft.scrollbars="yes");const tn=Object.entries(ft).reduce((ia,[ju,nc])=>`${ia}${ju}=${nc},`,"");if(function so(E=(0,H.z$)()){var m;return vn(E)&&!!(null===(m=window.navigator)||void 0===m?void 0:m.standalone)}(It)&&"_self"!==Oe)return function _l(E,m){const y=document.createElement("a");y.href=E,y.target=m;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(D)}(m||"",Oe),new bh(null);const lr=window.open(m||"",Oe,tn);ie(lr,E,"popup-blocked");try{lr.focus()}catch(ia){}return new bh(lr)}(m,Oe,is())})()}_openRedirect(m,y,D,R){var B=this;return(0,l.Z)(function*(){return yield B._originValidation(m),function yi(E){Zn().location.href=E}(tc(m,y,D,ee(),R)),new Promise(()=>{})})()}_initialize(m){const y=m._key();if(this.eventManagers[y]){const{manager:R,promise:B}=this.eventManagers[y];return R?Promise.resolve(R):(re(B,"If manager is not set, promise should be"),B)}const D=this.initAndGetManager(m);return this.eventManagers[y]={promise:D},D.catch(()=>{delete this.eventManagers[y]}),D}initAndGetManager(m){var y=this;return(0,l.Z)(function*(){const D=yield function Uu(E){return dp.apply(this,arguments)}(m),R=new Tt(m);return D.register("authEvent",B=>(ie(null==B?void 0:B.authEvent,m,"invalid-auth-event"),{status:R.onEvent(B.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[m._key()]={manager:R},y.iframes[m._key()]=D,R})()}_isIframeWebStorageSupported(m,y){this.iframes[m._key()].send(hp,{type:hp},R=>{var B;const oe=null===(B=null==R?void 0:R[0])||void 0===B?void 0:B[hp];void 0!==oe&&y(!!oe),Ge(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const y=m._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function qs(E){return Ws.apply(this,arguments)}(m)),this.originValidationPromises[y]}get _shouldInitProactively(){return oo()||Et()||vn()}};class pp extends class fp{constructor(m){this.factorId=m}_process(m,y,D){switch(y.type){case"enroll":return this._finalizeEnroll(m,y.credential,D);case"signin":return this._finalizeSignIn(m,y.credential);default:return We("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new pp(m)}_finalizeEnroll(m,y,D){return function sr(E,m){return fn(E,"POST","/v2/accounts/mfaEnrollment:finalize",on(E,m))}(m,{idToken:y,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,y){return function ul(E,m){return fn(E,"POST","/v2/accounts/mfaSignIn:finalize",on(E,m))}(m,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Om=(()=>{class E{constructor(){}static assertion(y){return pp._fromCredential(y)}}return E.FACTOR_ID="phone",E})();var Th="@firebase/auth",Nm="0.19.12";class Rm{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var y=this;return(0,l.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const y=this.auth.onIdTokenChanged(D=>{var R;m((null===(R=D)||void 0===R?void 0:R.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,y),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const y=this.internalListeners.get(m);!y||(this.internalListeners.delete(m),y(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function km(E=(0,Q.getApp)()){const m=(0,Q._getProvider)(E,"auth");return m.isInitialized()?m.getImmediate():function me(E,m){const y=(0,Q._getProvider)(E,"auth");if(y.isInitialized()){const R=y.getImmediate(),B=y.getOptions();if((0,H.vZ)(B,null!=m?m:{}))return R;Ge(R,"already-initialized")}return y.initialize({options:m})}(E,{popupRedirectResolver:yl,persistence:[ma,Bn,_o]})}!function Bu(E){(0,Q._registerComponent)(new pe.wA("auth",(m,{options:y})=>{const D=m.getProvider("app").getImmediate(),R=m.getProvider("heartbeat"),{apiKey:B,authDomain:oe}=D.options;return((Oe,ft)=>{ie(B&&!B.includes(":"),"invalid-api-key",{appName:Oe.name}),ie(!(null==oe?void 0:oe.includes(":")),"argument-error",{appName:Oe.name});const It={apiKey:B,authDomain:oe,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rr(E)},tn=new Va(Oe,ft,It);return function Fe(E,m){const y=(null==m?void 0:m.persistence)||[],D=(Array.isArray(y)?y:[y]).map(ve);(null==m?void 0:m.errorMap)&&E._updateErrorMap(m.errorMap),E._initializeWithPersistence(D,null==m?void 0:m.popupRedirectResolver)}(tn,y),tn})(D,R)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,y,D)=>{m.getProvider("auth-internal").initialize()})),(0,Q._registerComponent)(new pe.wA("auth-internal",m=>{const y=pn(m.getProvider("auth").getImmediate());return new Rm(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Q.registerVersion)(Th,Nm,function gp(E){switch(E){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(E)),(0,Q.registerVersion)(Th,Nm,"esm2017")}("Browser")},3854:(Ct,Le,k)=>{"use strict";k.d(Le,{$s:()=>ys,BH:()=>ke,L:()=>Ee,LL:()=>Nt,Lj:()=>Pt,UG:()=>Ie,US:()=>Pe,X3:()=>vt,ZB:()=>ae,ZR:()=>ee,b$:()=>Re,eu:()=>ge,hl:()=>re,jU:()=>nt,m9:()=>Dt,ne:()=>ht,pd:()=>Vr,r3:()=>fn,ru:()=>Ge,tV:()=>q,uI:()=>_e,vZ:()=>Ir,w1:()=>Ce,xO:()=>qi,xb:()=>mr,z$:()=>Ze,zI:()=>ve,zd:()=>Fr});var l=k(8239);const fe=function(K){const Z=[];let J=0;for(let he=0;he<K.length;he++){let ue=K.charCodeAt(he);ue<128?Z[J++]=ue:ue<2048?(Z[J++]=ue>>6|192,Z[J++]=63&ue|128):55296==(64512&ue)&&he+1<K.length&&56320==(64512&K.charCodeAt(he+1))?(ue=65536+((1023&ue)<<10)+(1023&K.charCodeAt(++he)),Z[J++]=ue>>18|240,Z[J++]=ue>>12&63|128,Z[J++]=ue>>6&63|128,Z[J++]=63&ue|128):(Z[J++]=ue>>12|224,Z[J++]=ue>>6&63|128,Z[J++]=63&ue|128)}return Z},Pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(K,Z){if(!Array.isArray(K))throw Error("encodeByteArray takes an array as a parameter");this.init_();const J=Z?this.byteToCharMapWebSafe_:this.byteToCharMap_,he=[];for(let ue=0;ue<K.length;ue+=3){const qe=K[ue],Et=ue+1<K.length,an=Et?K[ue+1]:0,vr=ue+2<K.length,Ht=vr?K[ue+2]:0;let vn=(15&an)<<2|Ht>>6,li=63&Ht;vr||(li=64,Et||(vn=64)),he.push(J[qe>>2],J[(3&qe)<<4|an>>4],J[vn],J[li])}return he.join("")},encodeString(K,Z){return this.HAS_NATIVE_SUPPORT&&!Z?btoa(K):this.encodeByteArray(fe(K),Z)},decodeString(K,Z){return this.HAS_NATIVE_SUPPORT&&!Z?atob(K):function(K){const Z=[];let J=0,he=0;for(;J<K.length;){const ue=K[J++];if(ue<128)Z[he++]=String.fromCharCode(ue);else if(ue>191&&ue<224){const qe=K[J++];Z[he++]=String.fromCharCode((31&ue)<<6|63&qe)}else if(ue>239&&ue<365){const vr=((7&ue)<<18|(63&K[J++])<<12|(63&K[J++])<<6|63&K[J++])-65536;Z[he++]=String.fromCharCode(55296+(vr>>10)),Z[he++]=String.fromCharCode(56320+(1023&vr))}else{const qe=K[J++],Et=K[J++];Z[he++]=String.fromCharCode((15&ue)<<12|(63&qe)<<6|63&Et)}}return Z.join("")}(this.decodeStringToByteArray(K,Z))},decodeStringToByteArray(K,Z){this.init_();const J=Z?this.charToByteMapWebSafe_:this.charToByteMap_,he=[];for(let ue=0;ue<K.length;){const qe=J[K.charAt(ue++)],an=ue<K.length?J[K.charAt(ue)]:0;++ue;const Ht=ue<K.length?J[K.charAt(ue)]:64;++ue;const Zt=ue<K.length?J[K.charAt(ue)]:64;if(++ue,null==qe||null==an||null==Ht||null==Zt)throw Error();he.push(qe<<2|an>>4),64!==Ht&&(he.push(an<<4&240|Ht>>2),64!==Zt&&he.push(Ht<<6&192|Zt))}return he},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let K=0;K<this.ENCODED_VALS.length;K++)this.byteToCharMap_[K]=this.ENCODED_VALS.charAt(K),this.charToByteMap_[this.byteToCharMap_[K]]=K,this.byteToCharMapWebSafe_[K]=this.ENCODED_VALS_WEBSAFE.charAt(K),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[K]]=K,K>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(K)]=K,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(K)]=K)}}},Ee=function(K){return function(K){const Z=fe(K);return Pe.encodeByteArray(Z,!0)}(K).replace(/\./g,"")},q=function(K){try{return Pe.decodeString(K,!0)}catch(Z){console.error("base64Decode failed: ",Z)}return null};function ae(K,Z){if(!(Z instanceof Object))return Z;switch(Z.constructor){case Date:return new Date(Z.getTime());case Object:void 0===K&&(K={});break;case Array:K=[];break;default:return Z}for(const J in Z)!Z.hasOwnProperty(J)||!Ve(J)||(K[J]=ae(K[J],Z[J]));return K}function Ve(K){return"__proto__"!==K}class ke{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Z,J)=>{this.resolve=Z,this.reject=J})}wrapCallback(Z){return(J,he)=>{J?this.reject(J):this.resolve(he),"function"==typeof Z&&(this.promise.catch(()=>{}),1===Z.length?Z(J):Z(J,he))}}}function Ze(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function _e(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function Ie(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(K){return!1}}function nt(){return"object"==typeof self&&self.self===self}function Ge(){const K="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof K&&void 0!==K.id}function Re(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ce(){const K=Ze();return K.indexOf("MSIE ")>=0||K.indexOf("Trident/")>=0}function re(){return"object"==typeof indexedDB}function ge(){return new Promise((K,Z)=>{try{let J=!0;const he="validate-browser-context-for-indexeddb-analytics-module",ue=self.indexedDB.open(he);ue.onsuccess=()=>{ue.result.close(),J||self.indexedDB.deleteDatabase(he),K(!0)},ue.onupgradeneeded=()=>{J=!1},ue.onerror=()=>{var qe;Z((null===(qe=ue.error)||void 0===qe?void 0:qe.message)||"")}}catch(J){Z(J)}})}function ve(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ee extends Error{constructor(Z,J,he){super(J),this.code=Z,this.customData=he,this.name="FirebaseError",Object.setPrototypeOf(this,ee.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nt.prototype.create)}}class Nt{constructor(Z,J,he){this.service=Z,this.serviceName=J,this.errors=he}create(Z,...J){const he=J[0]||{},ue=`${this.service}/${Z}`,qe=this.errors[Z],Et=qe?function lt(K,Z){return K.replace(jt,(J,he)=>{const ue=Z[he];return null!=ue?String(ue):`<${he}?>`})}(qe,he):"Error";return new ee(ue,`${this.serviceName}: ${Et} (${ue}).`,he)}}const jt=/\{\$([^}]+)}/g;function fn(K,Z){return Object.prototype.hasOwnProperty.call(K,Z)}function mr(K){for(const Z in K)if(Object.prototype.hasOwnProperty.call(K,Z))return!1;return!0}function Ir(K,Z){if(K===Z)return!0;const J=Object.keys(K),he=Object.keys(Z);for(const ue of J){if(!he.includes(ue))return!1;const qe=K[ue],Et=Z[ue];if(Os(qe)&&Os(Et)){if(!Ir(qe,Et))return!1}else if(qe!==Et)return!1}for(const ue of he)if(!J.includes(ue))return!1;return!0}function Os(K){return null!==K&&"object"==typeof K}function qi(K){const Z=[];for(const[J,he]of Object.entries(K))Array.isArray(he)?he.forEach(ue=>{Z.push(encodeURIComponent(J)+"="+encodeURIComponent(ue))}):Z.push(encodeURIComponent(J)+"="+encodeURIComponent(he));return Z.length?"&"+Z.join("&"):""}function Fr(K){const Z={};return K.replace(/^\?/,"").split("&").forEach(he=>{if(he){const[ue,qe]=he.split("=");Z[decodeURIComponent(ue)]=decodeURIComponent(qe)}}),Z}function Vr(K){const Z=K.indexOf("?");if(!Z)return"";const J=K.indexOf("#",Z);return K.substring(Z,J>0?J:void 0)}function ht(K,Z){const J=new Ur(K,Z);return J.subscribe.bind(J)}class Ur{constructor(Z,J){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=J,this.task.then(()=>{Z(this)}).catch(he=>{this.error(he)})}next(Z){this.forEachObserver(J=>{J.next(Z)})}error(Z){this.forEachObserver(J=>{J.error(Z)}),this.close(Z)}complete(){this.forEachObserver(Z=>{Z.complete()}),this.close()}subscribe(Z,J,he){let ue;if(void 0===Z&&void 0===J&&void 0===he)throw new Error("Missing Observer.");ue=function qn(K,Z){if("object"!=typeof K||null===K)return!1;for(const J of Z)if(J in K&&"function"==typeof K[J])return!0;return!1}(Z,["next","error","complete"])?Z:{next:Z,error:J,complete:he},void 0===ue.next&&(ue.next=hr),void 0===ue.error&&(ue.error=hr),void 0===ue.complete&&(ue.complete=hr);const qe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ue.error(this.finalError):ue.complete()}catch(Et){}}),this.observers.push(ue),qe}unsubscribeOne(Z){void 0===this.observers||void 0===this.observers[Z]||(delete this.observers[Z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Z){if(!this.finalized)for(let J=0;J<this.observers.length;J++)this.sendOne(J,Z)}sendOne(Z,J){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Z])try{J(this.observers[Z])}catch(he){"undefined"!=typeof console&&console.error&&console.error(he)}})}close(Z){this.finalized||(this.finalized=!0,void 0!==Z&&(this.finalError=Z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hr(){}function ys(K,Z=1e3,J=2){const he=Z*Math.pow(J,K),ue=Math.round(.5*he*(Math.random()-.5)*2);return Math.min(144e5,he+ue)}function Dt(K){return K&&K._delegate?K._delegate:K}function yr(K,Z){return new Promise((J,he)=>{K.onsuccess=ue=>{J(ue.target.result)},K.onerror=ue=>{var qe;he(`${Z}: ${null===(qe=ue.target.error)||void 0===qe?void 0:qe.message}`)}})}class Ft{constructor(Z){this._db=Z,this.objectStoreNames=this._db.objectStoreNames}transaction(Z,J="readonly"){return new Ye(this._db.transaction.call(this._db,Z,J))}createObjectStore(Z,J){return new Ae(this._db.createObjectStore(Z,J))}close(){this._db.close()}}class Ye{constructor(Z){this._transaction=Z,this.complete=new Promise((J,he)=>{this._transaction.oncomplete=function(){J()},this._transaction.onerror=()=>{he(this._transaction.error)},this._transaction.onabort=()=>{he(this._transaction.error)}})}objectStore(Z){return new Ae(this._transaction.objectStore(Z))}}class Ae{constructor(Z){this._store=Z}index(Z){return new rt(this._store.index(Z))}createIndex(Z,J,he){return new rt(this._store.createIndex(Z,J,he))}get(Z){return yr(this._store.get(Z),"Error reading from IndexedDB")}put(Z,J){return yr(this._store.put(Z,J),"Error writing to IndexedDB")}delete(Z){return yr(this._store.delete(Z),"Error deleting from IndexedDB")}clear(){return yr(this._store.clear(),"Error clearing IndexedDB object store")}}class rt{constructor(Z){this._index=Z}get(Z){return yr(this._index.get(Z),"Error reading from IndexedDB")}}function vt(K,Z,J){return new Promise((he,ue)=>{try{const qe=indexedDB.open(K,Z);qe.onsuccess=Et=>{he(new Ft(Et.target.result))},qe.onerror=Et=>{var an;ue(`Error opening indexedDB: ${null===(an=Et.target.error)||void 0===an?void 0:an.message}`)},qe.onupgradeneeded=Et=>{J(new Ft(qe.result),Et.oldVersion,Et.newVersion,new Ye(qe.transaction))}}catch(qe){ue(`Error opening indexedDB: ${qe.message}`)}})}function Pt(K){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,l.Z)(function*(K){return new Promise((Z,J)=>{try{const he=indexedDB.deleteDatabase(K);he.onsuccess=()=>{Z()},he.onerror=ue=>{var qe;J(`Error deleting indexedDB database "${K}": ${null===(qe=ue.target.error)||void 0===qe?void 0:qe.message}`)}}catch(he){J(`Error deleting indexedDB database "${K}": ${he.message}`)}})})).apply(this,arguments)}},2329:(Ct,Le,k)=>{"use strict";k.d(Le,{C6:()=>l.getApps,KN:()=>l.registerVersion,Mq:()=>l.getApp,ZF:()=>l.initializeApp});var l=k(8026);(0,l.registerVersion)("firebase","9.6.11","app")},7841:(Ct,Le,k)=>{"use strict";k.d(Le,{Z:()=>l.Z});var l=k(3394);l.Z.registerVersion("firebase","9.6.11","app-compat")},4216:function(Ct,Le){!function(k){"use strict";function H(u){var f,v,T,M;for(v=1,T=arguments.length;v<T;v++)for(f in M=arguments[v])u[f]=M[f];return u}var Q=Object.create||function(){function u(){}return function(f){return u.prototype=f,new u}}();function le(u,f){var v=Array.prototype.slice;if(u.bind)return u.bind.apply(u,v.call(arguments,1));var T=v.call(arguments,2);return function(){return u.apply(f,T.length?T.concat(v.call(arguments)):arguments)}}var fe=0;function pe(u){return u._leaflet_id=u._leaflet_id||++fe,u._leaflet_id}function Pe(u,f,v){var T,M,F,$;return $=function(){T=!1,M&&(F.apply(v,M),M=!1)},F=function(){T?M=arguments:(u.apply(v,arguments),setTimeout($,f),T=!0)},F}function Se(u,f,v){var T=f[1],M=f[0],F=T-M;return u===T&&v?u:((u-M)%F+F)%F+M}function Ee(){return!1}function q(u,f){var v=Math.pow(10,void 0===f?6:f);return Math.round(u*v)/v}function W(u){return u.trim?u.trim():u.replace(/^\s+|\s+$/g,"")}function ae(u){return W(u).split(/\s+/)}function Ve(u,f){for(var v in Object.prototype.hasOwnProperty.call(u,"options")||(u.options=u.options?Q(u.options):{}),f)u.options[v]=f[v];return u.options}function ke(u,f,v){var T=[];for(var M in u)T.push(encodeURIComponent(v?M.toUpperCase():M)+"="+encodeURIComponent(u[M]));return(f&&-1!==f.indexOf("?")?"&":"?")+T.join("&")}var je=/\{ *([\w_-]+) *\}/g;function Ze(u,f){return u.replace(je,function(v,T){var M=f[T];if(void 0===M)throw new Error("No value provided for variable "+v);return"function"==typeof M&&(M=M(f)),M})}var _e=Array.isArray||function(u){return"[object Array]"===Object.prototype.toString.call(u)};function Ie(u,f){for(var v=0;v<u.length;v++)if(u[v]===f)return v;return-1}var nt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Ge(u){return window["webkit"+u]||window["moz"+u]||window["ms"+u]}var Re=0;function Ne(u){var f=+new Date,v=Math.max(0,16-(f-Re));return Re=f+v,window.setTimeout(u,v)}var Ce=window.requestAnimationFrame||Ge("RequestAnimationFrame")||Ne,et=window.cancelAnimationFrame||Ge("CancelAnimationFrame")||Ge("CancelRequestAnimationFrame")||function(u){window.clearTimeout(u)};function ie(u,f,v){if(!v||Ce!==Ne)return Ce.call(window,le(u,f));u.call(f)}function We(u){u&&et.call(window,u)}var re={extend:H,create:Q,bind:le,lastId:fe,stamp:pe,throttle:Pe,wrapNum:Se,falseFn:Ee,formatNum:q,trim:W,splitWords:ae,setOptions:Ve,getParamString:ke,template:Ze,isArray:_e,indexOf:Ie,emptyImageUrl:nt,requestFn:Ce,cancelFn:et,requestAnimFrame:ie,cancelAnimFrame:We};function ge(){}ge.extend=function(u){var f=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},v=f.__super__=this.prototype,T=Q(v);for(var M in T.constructor=f,f.prototype=T,this)Object.prototype.hasOwnProperty.call(this,M)&&"prototype"!==M&&"__super__"!==M&&(f[M]=this[M]);return u.statics&&(H(f,u.statics),delete u.statics),u.includes&&(function ve(u){if("undefined"!=typeof L&&L&&L.Mixin){u=_e(u)?u:[u];for(var f=0;f<u.length;f++)u[f]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(u.includes),H.apply(null,[T].concat(u.includes)),delete u.includes),T.options&&(u.options=H(Q(T.options),u.options)),H(T,u),T._initHooks=[],T.callInitHooks=function(){if(!this._initHooksCalled){v.callInitHooks&&v.callInitHooks.call(this),this._initHooksCalled=!0;for(var F=0,$=T._initHooks.length;F<$;F++)T._initHooks[F].call(this)}},f},ge.include=function(u){return H(this.prototype,u),this},ge.mergeOptions=function(u){return H(this.prototype.options,u),this},ge.addInitHook=function(u){var f=Array.prototype.slice.call(arguments,1),v="function"==typeof u?u:function(){this[u].apply(this,f)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(v),this};var me={on:function(u,f,v){if("object"==typeof u)for(var T in u)this._on(T,u[T],f);else for(var M=0,F=(u=ae(u)).length;M<F;M++)this._on(u[M],f,v);return this},off:function(u,f,v){if(u)if("object"==typeof u)for(var T in u)this._off(T,u[T],f);else for(var M=0,F=(u=ae(u)).length;M<F;M++)this._off(u[M],f,v);else delete this._events;return this},_on:function(u,f,v){this._events=this._events||{};var T=this._events[u];T||(this._events[u]=T=[]),v===this&&(v=void 0);for(var M={fn:f,ctx:v},F=T,$=0,ne=F.length;$<ne;$++)if(F[$].fn===f&&F[$].ctx===v)return;F.push(M)},_off:function(u,f,v){var T,M,F;if(this._events&&(T=this._events[u])){if(!f){for(M=0,F=T.length;M<F;M++)T[M].fn=Ee;return void delete this._events[u]}if(v===this&&(v=void 0),T)for(M=0,F=T.length;M<F;M++){var $=T[M];if($.ctx===v&&$.fn===f)return $.fn=Ee,this._firingCount&&(this._events[u]=T=T.slice()),void T.splice(M,1)}}},fire:function(u,f,v){if(!this.listens(u,v))return this;var T=H({},f,{type:u,target:this,sourceTarget:f&&f.sourceTarget||this});if(this._events){var M=this._events[u];if(M){this._firingCount=this._firingCount+1||1;for(var F=0,$=M.length;F<$;F++){var ne=M[F];ne.fn.call(ne.ctx||this,T)}this._firingCount--}}return v&&this._propagateEvent(T),this},listens:function(u,f){var v=this._events&&this._events[u];if(v&&v.length)return!0;if(f)for(var T in this._eventParents)if(this._eventParents[T].listens(u,f))return!0;return!1},once:function(u,f,v){if("object"==typeof u){for(var T in u)this.once(T,u[T],f);return this}var M=le(function(){this.off(u,f,v).off(u,M,v)},this);return this.on(u,f,v).on(u,M,v)},addEventParent:function(u){return this._eventParents=this._eventParents||{},this._eventParents[pe(u)]=u,this},removeEventParent:function(u){return this._eventParents&&delete this._eventParents[pe(u)],this},_propagateEvent:function(u){for(var f in this._eventParents)this._eventParents[f].fire(u.type,H({layer:u.target,propagatedFrom:u.target},u),!0)}};me.addEventListener=me.on,me.removeEventListener=me.clearAllEventListeners=me.off,me.addOneTimeEventListener=me.once,me.fireEvent=me.fire,me.hasEventListeners=me.listens;var Fe=ge.extend(me);function ee(u,f,v){this.x=v?Math.round(u):u,this.y=v?Math.round(f):f}var Nt=Math.trunc||function(u){return u>0?Math.floor(u):Math.ceil(u)};function lt(u,f,v){return u instanceof ee?u:_e(u)?new ee(u[0],u[1]):null==u?u:"object"==typeof u&&"x"in u&&"y"in u?new ee(u.x,u.y):new ee(u,f,v)}function jt(u,f){if(u)for(var v=f?[u,f]:u,T=0,M=v.length;T<M;T++)this.extend(v[T])}function ot(u,f){return!u||u instanceof jt?u:new jt(u,f)}function it(u,f){if(u)for(var v=f?[u,f]:u,T=0,M=v.length;T<M;T++)this.extend(v[T])}function Lt(u,f){return u instanceof it?u:new it(u,f)}function wt(u,f,v){if(isNaN(u)||isNaN(f))throw new Error("Invalid LatLng object: ("+u+", "+f+")");this.lat=+u,this.lng=+f,void 0!==v&&(this.alt=+v)}function hn(u,f,v){return u instanceof wt?u:_e(u)&&"object"!=typeof u[0]?3===u.length?new wt(u[0],u[1],u[2]):2===u.length?new wt(u[0],u[1]):null:null==u?u:"object"==typeof u&&"lat"in u?new wt(u.lat,"lng"in u?u.lng:u.lon,u.alt):void 0===f?null:new wt(u,f,v)}ee.prototype={clone:function(){return new ee(this.x,this.y)},add:function(u){return this.clone()._add(lt(u))},_add:function(u){return this.x+=u.x,this.y+=u.y,this},subtract:function(u){return this.clone()._subtract(lt(u))},_subtract:function(u){return this.x-=u.x,this.y-=u.y,this},divideBy:function(u){return this.clone()._divideBy(u)},_divideBy:function(u){return this.x/=u,this.y/=u,this},multiplyBy:function(u){return this.clone()._multiplyBy(u)},_multiplyBy:function(u){return this.x*=u,this.y*=u,this},scaleBy:function(u){return new ee(this.x*u.x,this.y*u.y)},unscaleBy:function(u){return new ee(this.x/u.x,this.y/u.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Nt(this.x),this.y=Nt(this.y),this},distanceTo:function(u){var f=(u=lt(u)).x-this.x,v=u.y-this.y;return Math.sqrt(f*f+v*v)},equals:function(u){return(u=lt(u)).x===this.x&&u.y===this.y},contains:function(u){return u=lt(u),Math.abs(u.x)<=Math.abs(this.x)&&Math.abs(u.y)<=Math.abs(this.y)},toString:function(){return"Point("+q(this.x)+", "+q(this.y)+")"}},jt.prototype={extend:function(u){return u=lt(u),this.min||this.max?(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(u.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(u.y,this.max.y)):(this.min=u.clone(),this.max=u.clone()),this},getCenter:function(u){return new ee((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,u)},getBottomLeft:function(){return new ee(this.min.x,this.max.y)},getTopRight:function(){return new ee(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(u){var f,v;return(u="number"==typeof u[0]||u instanceof ee?lt(u):ot(u))instanceof jt?(f=u.min,v=u.max):f=v=u,f.x>=this.min.x&&v.x<=this.max.x&&f.y>=this.min.y&&v.y<=this.max.y},intersects:function(u){u=ot(u);var f=this.min,v=this.max,T=u.min,M=u.max;return M.x>=f.x&&T.x<=v.x&&M.y>=f.y&&T.y<=v.y},overlaps:function(u){u=ot(u);var f=this.min,v=this.max,T=u.min,M=u.max;return M.x>f.x&&T.x<v.x&&M.y>f.y&&T.y<v.y},isValid:function(){return!(!this.min||!this.max)}},it.prototype={extend:function(u){var T,M,f=this._southWest,v=this._northEast;if(u instanceof wt)T=u,M=u;else{if(!(u instanceof it))return u?this.extend(hn(u)||Lt(u)):this;if(M=u._northEast,!(T=u._southWest)||!M)return this}return f||v?(f.lat=Math.min(T.lat,f.lat),f.lng=Math.min(T.lng,f.lng),v.lat=Math.max(M.lat,v.lat),v.lng=Math.max(M.lng,v.lng)):(this._southWest=new wt(T.lat,T.lng),this._northEast=new wt(M.lat,M.lng)),this},pad:function(u){var f=this._southWest,v=this._northEast,T=Math.abs(f.lat-v.lat)*u,M=Math.abs(f.lng-v.lng)*u;return new it(new wt(f.lat-T,f.lng-M),new wt(v.lat+T,v.lng+M))},getCenter:function(){return new wt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new wt(this.getNorth(),this.getWest())},getSouthEast:function(){return new wt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(u){u="number"==typeof u[0]||u instanceof wt||"lat"in u?hn(u):Lt(u);var T,M,f=this._southWest,v=this._northEast;return u instanceof it?(T=u.getSouthWest(),M=u.getNorthEast()):T=M=u,T.lat>=f.lat&&M.lat<=v.lat&&T.lng>=f.lng&&M.lng<=v.lng},intersects:function(u){u=Lt(u);var f=this._southWest,v=this._northEast,T=u.getSouthWest(),M=u.getNorthEast();return M.lat>=f.lat&&T.lat<=v.lat&&M.lng>=f.lng&&T.lng<=v.lng},overlaps:function(u){u=Lt(u);var f=this._southWest,v=this._northEast,T=u.getSouthWest(),M=u.getNorthEast();return M.lat>f.lat&&T.lat<v.lat&&M.lng>f.lng&&T.lng<v.lng},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(u,f){return!!u&&(u=Lt(u),this._southWest.equals(u.getSouthWest(),f)&&this._northEast.equals(u.getNorthEast(),f))},isValid:function(){return!(!this._southWest||!this._northEast)}},wt.prototype={equals:function(u,f){return!!u&&(u=hn(u),Math.max(Math.abs(this.lat-u.lat),Math.abs(this.lng-u.lng))<=(void 0===f?1e-9:f))},toString:function(u){return"LatLng("+q(this.lat,u)+", "+q(this.lng,u)+")"},distanceTo:function(u){return on.distance(this,hn(u))},wrap:function(){return on.wrapLatLng(this)},toBounds:function(u){var f=180*u/40075017,v=f/Math.cos(Math.PI/180*this.lat);return Lt([this.lat-f,this.lng-v],[this.lat+f,this.lng+v])},clone:function(){return new wt(this.lat,this.lng,this.alt)}};var u,nn={latLngToPoint:function(u,f){var v=this.projection.project(u),T=this.scale(f);return this.transformation._transform(v,T)},pointToLatLng:function(u,f){var v=this.scale(f),T=this.transformation.untransform(u,v);return this.projection.unproject(T)},project:function(u){return this.projection.project(u)},unproject:function(u){return this.projection.unproject(u)},scale:function(u){return 256*Math.pow(2,u)},zoom:function(u){return Math.log(u/256)/Math.LN2},getProjectedBounds:function(u){if(this.infinite)return null;var f=this.projection.bounds,v=this.scale(u);return new jt(this.transformation.transform(f.min,v),this.transformation.transform(f.max,v))},infinite:!1,wrapLatLng:function(u){var f=this.wrapLng?Se(u.lng,this.wrapLng,!0):u.lng;return new wt(this.wrapLat?Se(u.lat,this.wrapLat,!0):u.lat,f,u.alt)},wrapLatLngBounds:function(u){var f=u.getCenter(),v=this.wrapLatLng(f),T=f.lat-v.lat,M=f.lng-v.lng;if(0===T&&0===M)return u;var F=u.getSouthWest(),$=u.getNorthEast();return new it(new wt(F.lat-T,F.lng-M),new wt($.lat-T,$.lng-M))}},on=H({},nn,{wrapLng:[-180,180],R:6371e3,distance:function(u,f){var v=Math.PI/180,T=u.lat*v,M=f.lat*v,F=Math.sin((f.lat-u.lat)*v/2),$=Math.sin((f.lng-u.lng)*v/2),ne=F*F+Math.cos(T)*Math.cos(M)*$*$,ye=2*Math.atan2(Math.sqrt(ne),Math.sqrt(1-ne));return this.R*ye}}),jn={R:6378137,MAX_LATITUDE:85.0511287798,project:function(u){var f=Math.PI/180,v=this.MAX_LATITUDE,T=Math.max(Math.min(v,u.lat),-v),M=Math.sin(T*f);return new ee(this.R*u.lng*f,this.R*Math.log((1+M)/(1-M))/2)},unproject:function(u){var f=180/Math.PI;return new wt((2*Math.atan(Math.exp(u.y/this.R))-Math.PI/2)*f,u.x*f/this.R)},bounds:(u=6378137*Math.PI,new jt([-u,-u],[u,u]))};function mr(u,f,v,T){if(_e(u))return this._a=u[0],this._b=u[1],this._c=u[2],void(this._d=u[3]);this._a=u,this._b=f,this._c=v,this._d=T}function _r(u,f,v,T){return new mr(u,f,v,T)}mr.prototype={transform:function(u,f){return this._transform(u.clone(),f)},_transform:function(u,f){return u.x=(f=f||1)*(this._a*u.x+this._b),u.y=f*(this._c*u.y+this._d),u},untransform:function(u,f){return new ee((u.x/(f=f||1)-this._b)/this._a,(u.y/f-this._d)/this._c)}};var Ir=H({},on,{code:"EPSG:3857",projection:jn,transformation:function(){var u=.5/(Math.PI*jn.R);return _r(u,.5,-u,.5)}()}),Os=H({},Ir,{code:"EPSG:900913"});function qi(u){return document.createElementNS("http://www.w3.org/2000/svg",u)}function Fr(u,f){var T,M,F,$,ne,ye,v="";for(T=0,F=u.length;T<F;T++){for(M=0,$=(ne=u[T]).length;M<$;M++)v+=(M?"L":"M")+(ye=ne[M]).x+" "+ye.y;v+=f?Z?"z":"x":""}return v||"M0 0"}var Vr=document.documentElement.style,ms="ActiveXObject"in window,ht=ms&&!document.addEventListener,Ur="msLaunchUri"in navigator&&!("documentMode"in document),zn=he("webkit"),qn=he("android"),hr=he("android 2")||he("android 3"),_s=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Wn=qn&&he("Google")&&_s<537&&!("AudioNode"in window),Kn=!!window.opera,ui=!Ur&&he("chrome"),io=he("gecko")&&!zn&&!Kn&&!ms,qt=!ui&&he("safari"),mt=he("phantom"),_t="OTransition"in Vr,xi=0===navigator.platform.indexOf("Win"),Wi=ms&&"transition"in Vr,Jt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!hr,ys="MozPerspective"in Vr,yn=!window.L_DISABLE_3D&&(Wi||Jt||ys)&&!_t&&!mt,tr="undefined"!=typeof orientation||he("mobile"),Dt=tr&&zn,yr=tr&&Jt,Ft=!window.PointerEvent&&window.MSPointerEvent,Ye=!(!window.PointerEvent&&!Ft),Ae=!window.L_NO_TOUCH&&(Ye||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),rt=tr&&Kn,vt=tr&&io,Pt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Vt=function(){var u=!1;try{var f=Object.defineProperty({},"passive",{get:function(){u=!0}});window.addEventListener("testPassiveEventSupport",Ee,f),window.removeEventListener("testPassiveEventSupport",Ee,f)}catch(v){}return u}(),K=!!document.createElement("canvas").getContext,Z=!(!document.createElementNS||!qi("svg").createSVGRect),J=!Z&&function(){try{var u=document.createElement("div");u.innerHTML='<v:shape adj="1"/>';var f=u.firstChild;return f.style.behavior="url(#default#VML)",f&&"object"==typeof f.adj}catch(v){return!1}}();function he(u){return navigator.userAgent.toLowerCase().indexOf(u)>=0}var ue={ie:ms,ielt9:ht,edge:Ur,webkit:zn,android:qn,android23:hr,androidStock:Wn,opera:Kn,chrome:ui,gecko:io,safari:qt,phantom:mt,opera12:_t,win:xi,ie3d:Wi,webkit3d:Jt,gecko3d:ys,any3d:yn,mobile:tr,mobileWebkit:Dt,mobileWebkit3d:yr,msPointer:Ft,pointer:Ye,touch:Ae,mobileOpera:rt,mobileGecko:vt,retina:Pt,passiveEvents:Vt,canvas:K,svg:Z,vml:J},qe=Ft?"MSPointerDown":"pointerdown",Et=Ft?"MSPointerMove":"pointermove",an=Ft?"MSPointerUp":"pointerup",vr=Ft?"MSPointerCancel":"pointercancel",Ht={},nr=!1;function Zt(u,f,v,T){return"touchstart"===f?function li(u,f,v){var T=le(function(M){M.MSPOINTER_TYPE_TOUCH&&M.pointerType===M.MSPOINTER_TYPE_TOUCH&&Or(M),Ki(M,f)});u["_leaflet_touchstart"+v]=T,u.addEventListener(qe,T,!1),nr||(document.addEventListener(qe,so,!0),document.addEventListener(Et,Fa,!0),document.addEventListener(an,oo,!0),document.addEventListener(vr,oo,!0),nr=!0)}(u,v,T):"touchmove"===f?function rr(u,f,v){var T=function(M){M.pointerType===(M.MSPOINTER_TYPE_MOUSE||"mouse")&&0===M.buttons||Ki(M,f)};u["_leaflet_touchmove"+v]=T,u.addEventListener(Et,T,!1)}(u,v,T):"touchend"===f&&function Va(u,f,v){var T=function(M){Ki(M,f)};u["_leaflet_touchend"+v]=T,u.addEventListener(an,T,!1),u.addEventListener(vr,T,!1)}(u,v,T),this}function so(u){Ht[u.pointerId]=u}function Fa(u){Ht[u.pointerId]&&(Ht[u.pointerId]=u)}function oo(u){delete Ht[u.pointerId]}function Ki(u,f){for(var v in u.touches=[],Ht)u.touches.push(Ht[v]);u.changedTouches=[u],f(u)}var pn=Ft?"MSPointerDown":Ye?"pointerdown":"touchstart",Ke=Ft?"MSPointerUp":Ye?"pointerup":"touchend",Rt="_leaflet_";var Yi,Ji,Jr,Sr,el,Mi=ua(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Vn=ua(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ar="webkitTransition"===Vn||"OTransition"===Vn?Vn+"End":"transitionend";function Pn(u){return"string"==typeof u?document.getElementById(u):u}function On(u,f){var v=u.style[f]||u.currentStyle&&u.currentStyle[f];if((!v||"auto"===v)&&document.defaultView){var T=document.defaultView.getComputedStyle(u,null);v=T?T[f]:null}return"auto"===v?null:v}function Wt(u,f,v){var T=document.createElement(u);return T.className=f||"",v&&v.appendChild(T),T}function at(u){var f=u.parentNode;f&&f.removeChild(u)}function Ns(u){for(;u.firstChild;)u.removeChild(u.firstChild)}function Br(u){var f=u.parentNode;f&&f.lastChild!==u&&f.appendChild(u)}function Rs(u){var f=u.parentNode;f&&f.firstChild!==u&&f.insertBefore(u,f.firstChild)}function ci(u,f){if(void 0!==u.classList)return u.classList.contains(f);var v=Hn(u);return v.length>0&&new RegExp("(^|\\s)"+f+"(\\s|$)").test(v)}function ct(u,f){if(void 0!==u.classList)for(var v=ae(f),T=0,M=v.length;T<M;T++)u.classList.add(v[T]);else if(!ci(u,f)){var F=Hn(u);vs(u,(F?F+" ":"")+f)}}function wn(u,f){void 0!==u.classList?u.classList.remove(f):vs(u,W((" "+Hn(u)+" ").replace(" "+f+" "," ")))}function vs(u,f){void 0===u.className.baseVal?u.className=f:u.className.baseVal=f}function Hn(u){return u.correspondingElement&&(u=u.correspondingElement),void 0===u.className.baseVal?u.className:u.className.baseVal}function Qt(u,f){"opacity"in u.style?u.style.opacity=f:"filter"in u.style&&function Lo(u,f){var v=!1,T="DXImageTransform.Microsoft.Alpha";try{v=u.filters.item(T)}catch(M){if(1===f)return}f=Math.round(100*f),v?(v.Enabled=100!==f,v.Opacity=f):u.style.filter+=" progid:"+T+"(opacity="+f+")"}(u,f)}function ua(u){for(var f=document.documentElement.style,v=0;v<u.length;v++)if(u[v]in f)return u[v];return!1}function Yn(u,f,v){var T=f||new ee(0,0);u.style[Mi]=(Wi?"translate("+T.x+"px,"+T.y+"px)":"translate3d("+T.x+"px,"+T.y+"px,0)")+(v?" scale("+v+")":"")}function gn(u,f){u._leaflet_pos=f,yn?Yn(u,f):(u.style.left=f.x+"px",u.style.top=f.y+"px")}function Pi(u){return u._leaflet_pos||new ee(0,0)}if("onselectstart"in document)Yi=function(){Ut(window,"selectstart",Or)},Ji=function(){Jn(window,"selectstart",Or)};else{var ao=ua(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Yi=function(){if(ao){var u=document.documentElement.style;Jr=u[ao],u[ao]="none"}},Ji=function(){ao&&(document.documentElement.style[ao]=Jr,Jr=void 0)}}function Fo(){Ut(window,"dragstart",Or)}function Qi(){Jn(window,"dragstart",Or)}function Oi(u){for(;-1===u.tabIndex;)u=u.parentNode;!u.style||(Cu(),Sr=u,el=u.style.outline,u.style.outline="none",Ut(window,"keydown",Cu))}function Cu(){!Sr||(Sr.style.outline=el,Sr=void 0,el=void 0,Jn(window,"keydown",Cu))}function Tu(u){do{u=u.parentNode}while(!(u.offsetWidth&&u.offsetHeight||u===document.body));return u}function tl(u){var f=u.getBoundingClientRect();return{x:f.width/u.offsetWidth||1,y:f.height/u.offsetHeight||1,boundingClientRect:f}}var la={TRANSFORM:Mi,TRANSITION:Vn,TRANSITION_END:Ar,get:Pn,getStyle:On,create:Wt,remove:at,empty:Ns,toFront:Br,toBack:Rs,hasClass:ci,addClass:ct,removeClass:wn,setClass:vs,getClass:Hn,setOpacity:Qt,testProp:ua,setTransform:Yn,setPosition:gn,getPosition:Pi,disableTextSelection:Yi,enableTextSelection:Ji,disableImageDrag:Fo,enableImageDrag:Qi,preventOutline:Oi,restoreOutline:Cu,getSizedParentNode:Tu,getScale:tl};function Ut(u,f,v,T){if("object"==typeof f)for(var M in f)ws(u,M,f[M],v);else for(var F=0,$=(f=ae(f)).length;F<$;F++)ws(u,f[F],v,T);return this}var di="_leaflet_events";function Jn(u,f,v,T){if("object"==typeof f)for(var M in f)nl(u,M,f[M],v);else if(f)for(var F=0,$=(f=ae(f)).length;F<$;F++)nl(u,f[F],v,T);else{for(var ne in u[di])nl(u,ne,u[di][ne]);delete u[di]}return this}function Gl(){if(Ye)return!(Ur||qt)}var Ua={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ws(u,f,v,T){var M=f+pe(v)+(T?"_"+pe(T):"");if(u[di]&&u[di][M])return this;var F=function(ne){return v.call(T||u,ne||window.event)},$=F;Ye&&0===f.indexOf("touch")?Zt(u,f,F,M):Ae&&"dblclick"===f&&!Gl()?function Tn(u,f,v){var T,M,F=!1;function ne(Te){if(Ye){if(!Te.isPrimary||"mouse"===Te.pointerType)return}else if(Te.touches.length>1)return;var Je=Date.now(),pt=Je-(T||Je);M=Te.touches?Te.touches[0]:Te,F=pt>0&&pt<=250,T=Je}function ye(Te){if(F&&!M.cancelBubble){if(Ye){if("mouse"===Te.pointerType)return;var pt,rn,Je={};for(rn in M)Je[rn]=(pt=M[rn])&&pt.bind?pt.bind(M):pt;M=Je}M.type="dblclick",M.button=0,f(M),T=null}}return u[Rt+pn+v]=ne,u[Rt+Ke+v]=ye,u[Rt+"dblclick"+v]=f,u.addEventListener(pn,ne,!!Vt&&{passive:!1}),u.addEventListener(Ke,ye,!!Vt&&{passive:!1}),u.addEventListener("dblclick",f,!1),this}(u,F,M):"addEventListener"in u?"touchstart"===f||"touchmove"===f||"wheel"===f||"mousewheel"===f?u.addEventListener(Ua[f]||f,F,!!Vt&&{passive:!1}):"mouseenter"===f||"mouseleave"===f?u.addEventListener(Ua[f],F=function(ne){ne=ne||window.event,Ls(u,ne)&&$(ne)},!1):u.addEventListener(f,$,!1):"attachEvent"in u&&u.attachEvent("on"+f,F),u[di]=u[di]||{},u[di][M]=F}function nl(u,f,v,T){var M=f+pe(v)+(T?"_"+pe(T):""),F=u[di]&&u[di][M];if(!F)return this;Ye&&0===f.indexOf("touch")?function vn(u,f,v){var T=u["_leaflet_"+f+v];return"touchstart"===f?u.removeEventListener(qe,T,!1):"touchmove"===f?u.removeEventListener(Et,T,!1):"touchend"===f&&(u.removeEventListener(an,T,!1),u.removeEventListener(vr,T,!1)),this}(u,f,M):Ae&&"dblclick"===f&&!Gl()?function Pr(u,f){var T=u[Rt+Ke+f],M=u[Rt+"dblclick"+f];return u.removeEventListener(pn,u[Rt+pn+f],!!Vt&&{passive:!1}),u.removeEventListener(Ke,T,!!Vt&&{passive:!1}),u.removeEventListener("dblclick",M,!1),this}(u,M):"removeEventListener"in u?u.removeEventListener(Ua[f]||f,F,!1):"detachEvent"in u&&u.detachEvent("on"+f,F),u[di][M]=null}function ca(u){return u.stopPropagation?u.stopPropagation():u.originalEvent?u.originalEvent._stopped=!0:u.cancelBubble=!0,Du(u),this}function Xi(u){return ws(u,"wheel",ca),this}function Vo(u){return Ut(u,"mousedown touchstart dblclick",ca),ws(u,"click",Bo),this}function Or(u){return u.preventDefault?u.preventDefault():u.returnValue=!1,this}function wr(u){return Or(u),ca(u),this}function Uo(u,f){if(!f)return new ee(u.clientX,u.clientY);var v=tl(f),T=v.boundingClientRect;return new ee((u.clientX-T.left)/v.x-f.clientLeft,(u.clientY-T.top)/v.y-f.clientTop)}var hi=xi&&ui?2*window.devicePixelRatio:io?window.devicePixelRatio:1;function rl(u){return Ur?u.wheelDeltaY/2:u.deltaY&&0===u.deltaMode?-u.deltaY/hi:u.deltaY&&1===u.deltaMode?20*-u.deltaY:u.deltaY&&2===u.deltaMode?60*-u.deltaY:u.deltaX||u.deltaZ?0:u.wheelDelta?(u.wheelDeltaY||u.wheelDelta)/2:u.detail&&Math.abs(u.detail)<32765?20*-u.detail:u.detail?u.detail/-32765*60:0}var ks={};function Bo(u){ks[u.type]=!0}function Du(u){var f=ks[u.type];return ks[u.type]=!1,f}function Ls(u,f){var v=f.relatedTarget;if(!v)return!0;try{for(;v&&v!==u;)v=v.parentNode}catch(T){return!1}return v!==u}var ql={on:Ut,off:Jn,stopPropagation:ca,disableScrollPropagation:Xi,disableClickPropagation:Vo,preventDefault:Or,stop:wr,getMousePosition:Uo,getWheelDelta:rl,fakeStop:Bo,skipped:Du,isExternalTarget:Ls,addListener:Ut,removeListener:Jn},fi=Fe.extend({run:function(u,f,v,T){this.stop(),this._el=u,this._inProgress=!0,this._duration=v||.25,this._easeOutPower=1/Math.max(T||.5,.2),this._startPos=Pi(u),this._offset=f.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){!this._inProgress||(this._step(!0),this._complete())},_animate:function(){this._animId=ie(this._animate,this),this._step()},_step:function(u){var f=+new Date-this._startTime,v=1e3*this._duration;f<v?this._runFrame(this._easeOut(f/v),u):(this._runFrame(1),this._complete())},_runFrame:function(u,f){var v=this._startPos.add(this._offset.multiplyBy(u));f&&v._round(),gn(this._el,v),this.fire("step")},_complete:function(){We(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(u){return 1-Math.pow(1-u,this._easeOutPower)}}),zt=Fe.extend({options:{crs:Ir,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(u,f){f=Ve(this,f),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(u),this._initLayout(),this._onResize=le(this._onResize,this),this._initEvents(),f.maxBounds&&this.setMaxBounds(f.maxBounds),void 0!==f.zoom&&(this._zoom=this._limitZoom(f.zoom)),f.center&&void 0!==f.zoom&&this.setView(hn(f.center),f.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Vn&&yn&&!rt&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ut(this._proxy,Ar,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(u,f,v){return f=void 0===f?this._zoom:this._limitZoom(f),u=this._limitCenter(hn(u),f,this.options.maxBounds),v=v||{},this._stop(),this._loaded&&!v.reset&&!0!==v&&(void 0!==v.animate&&(v.zoom=H({animate:v.animate},v.zoom),v.pan=H({animate:v.animate,duration:v.duration},v.pan)),this._zoom!==f?this._tryAnimatedZoom&&this._tryAnimatedZoom(u,f,v.zoom):this._tryAnimatedPan(u,v.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(u,f),this)},setZoom:function(u,f){return this._loaded?this.setView(this.getCenter(),u,{zoom:f}):(this._zoom=u,this)},zoomIn:function(u,f){return this.setZoom(this._zoom+(u=u||(yn?this.options.zoomDelta:1)),f)},zoomOut:function(u,f){return this.setZoom(this._zoom-(u=u||(yn?this.options.zoomDelta:1)),f)},setZoomAround:function(u,f,v){var T=this.getZoomScale(f),M=this.getSize().divideBy(2),$=(u instanceof ee?u:this.latLngToContainerPoint(u)).subtract(M).multiplyBy(1-1/T),ne=this.containerPointToLatLng(M.add($));return this.setView(ne,f,{zoom:v})},_getBoundsCenterZoom:function(u,f){f=f||{},u=u.getBounds?u.getBounds():Lt(u);var v=lt(f.paddingTopLeft||f.padding||[0,0]),T=lt(f.paddingBottomRight||f.padding||[0,0]),M=this.getBoundsZoom(u,!1,v.add(T));if((M="number"==typeof f.maxZoom?Math.min(f.maxZoom,M):M)===1/0)return{center:u.getCenter(),zoom:M};var F=T.subtract(v).divideBy(2),$=this.project(u.getSouthWest(),M),ne=this.project(u.getNorthEast(),M);return{center:this.unproject($.add(ne).divideBy(2).add(F),M),zoom:M}},fitBounds:function(u,f){if(!(u=Lt(u)).isValid())throw new Error("Bounds are not valid.");var v=this._getBoundsCenterZoom(u,f);return this.setView(v.center,v.zoom,f)},fitWorld:function(u){return this.fitBounds([[-90,-180],[90,180]],u)},panTo:function(u,f){return this.setView(u,this._zoom,{pan:f})},panBy:function(u,f){if(f=f||{},!(u=lt(u).round()).x&&!u.y)return this.fire("moveend");if(!0!==f.animate&&!this.getSize().contains(u))return this._resetView(this.unproject(this.project(this.getCenter()).add(u)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new fi,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),f.noMoveStart||this.fire("movestart"),!1!==f.animate){ct(this._mapPane,"leaflet-pan-anim");var v=this._getMapPanePos().subtract(u).round();this._panAnim.run(this._mapPane,v,f.duration||.25,f.easeLinearity)}else this._rawPanBy(u),this.fire("move").fire("moveend");return this},flyTo:function(u,f,v){if(!1===(v=v||{}).animate||!yn)return this.setView(u,f,v);this._stop();var T=this.project(this.getCenter()),M=this.project(u),F=this.getSize(),$=this._zoom;u=hn(u),f=void 0===f?$:f;var ne=Math.max(F.x,F.y),ye=ne*this.getZoomScale($,f),Te=M.distanceTo(T)||1,Je=1.42,pt=Je*Je;function rn(Fn){var Vi=(ye*ye-ne*ne+(Fn?-1:1)*pt*pt*Te*Te)/(2*(Fn?ye:ne)*pt*Te),Lu=Math.sqrt(Vi*Vi+1)-Vi;return Lu<1e-9?-18:Math.log(Lu)}function or(Fn){return(Math.exp(Fn)-Math.exp(-Fn))/2}function br(Fn){return(Math.exp(Fn)+Math.exp(-Fn))/2}var Rn=rn(0);function ma(Fn){return ne*(br(Rn)*function ss(Fn){return or(Fn)/br(Fn)}(Rn+Je*Fn)-or(Rn))/pt}var ul=Date.now(),Xo=(rn(1)-Rn)/Je,_a=v.duration?1e3*v.duration:1e3*Xo*.8;return this._moveStart(!0,v.noMoveStart),function os(){var Fn=(Date.now()-ul)/_a,as=function Ka(Fn){return 1-Math.pow(1-Fn,1.5)}(Fn)*Xo;Fn<=1?(this._flyToFrame=ie(os,this),this._move(this.unproject(T.add(M.subtract(T).multiplyBy(ma(as)/Te)),$),this.getScaleZoom(ne/function Gs(Fn){return ne*(br(Rn)/br(Rn+Je*Fn))}(as),$),{flyTo:!0})):this._move(u,f)._moveEnd(!0)}.call(this),this},flyToBounds:function(u,f){var v=this._getBoundsCenterZoom(u,f);return this.flyTo(v.center,v.zoom,f)},setMaxBounds:function(u){return(u=Lt(u)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=u,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(u){var f=this.options.minZoom;return this.options.minZoom=u,this._loaded&&f!==u&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(u):this},setMaxZoom:function(u){var f=this.options.maxZoom;return this.options.maxZoom=u,this._loaded&&f!==u&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(u):this},panInsideBounds:function(u,f){this._enforcingBounds=!0;var v=this.getCenter(),T=this._limitCenter(v,this._zoom,Lt(u));return v.equals(T)||this.panTo(T,f),this._enforcingBounds=!1,this},panInside:function(u,f){var v=lt((f=f||{}).paddingTopLeft||f.padding||[0,0]),T=lt(f.paddingBottomRight||f.padding||[0,0]),M=this.getCenter(),F=this.project(M),$=this.project(u),ne=this.getPixelBounds(),ye=ne.getSize().divideBy(2),Te=ot([ne.min.add(v),ne.max.subtract(T)]);if(!Te.contains($)){this._enforcingBounds=!0;var Je=F.subtract($),pt=lt($.x+Je.x,$.y+Je.y);($.x<Te.min.x||$.x>Te.max.x)&&(pt.x=F.x-Je.x,Je.x>0?pt.x+=ye.x-v.x:pt.x-=ye.x-T.x),($.y<Te.min.y||$.y>Te.max.y)&&(pt.y=F.y-Je.y,Je.y>0?pt.y+=ye.y-v.y:pt.y-=ye.y-T.y),this.panTo(this.unproject(pt),f),this._enforcingBounds=!1}return this},invalidateSize:function(u){if(!this._loaded)return this;u=H({animate:!1,pan:!0},!0===u?{animate:!0}:u);var f=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var v=this.getSize(),T=f.divideBy(2).round(),M=v.divideBy(2).round(),F=T.subtract(M);return F.x||F.y?(u.animate&&u.pan?this.panBy(F):(u.pan&&this._rawPanBy(F),this.fire("move"),u.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(le(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:f,newSize:v})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(u){if(u=this._locateOptions=H({timeout:1e4,watch:!1},u),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var f=le(this._handleGeolocationResponse,this),v=le(this._handleGeolocationError,this);return u.watch?this._locationWatchId=navigator.geolocation.watchPosition(f,v,u):navigator.geolocation.getCurrentPosition(f,v,u),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(u){var f=u.code,v=u.message||(1===f?"permission denied":2===f?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:f,message:"Geolocation error: "+v+"."})},_handleGeolocationResponse:function(u){var T=new wt(u.coords.latitude,u.coords.longitude),M=T.toBounds(2*u.coords.accuracy),F=this._locateOptions;if(F.setView){var $=this.getBoundsZoom(M);this.setView(T,F.maxZoom?Math.min($,F.maxZoom):$)}var ne={latlng:T,bounds:M,timestamp:u.timestamp};for(var ye in u.coords)"number"==typeof u.coords[ye]&&(ne[ye]=u.coords[ye]);this.fire("locationfound",ne)},addHandler:function(u,f){if(!f)return this;var v=this[u]=new f(this);return this._handlers.push(v),this.options[u]&&v.enable(),this},remove:function(){if(this._initEvents(!0),this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(f){this._container._leaflet_id=void 0,this._containerId=void 0}var u;for(u in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),at(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(We(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[u].remove();for(u in this._panes)at(this._panes[u]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(u,f){var T=Wt("div","leaflet-pane"+(u?" leaflet-"+u.replace("Pane","")+"-pane":""),f||this._mapPane);return u&&(this._panes[u]=T),T},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var u=this.getPixelBounds();return new it(this.unproject(u.getBottomLeft()),this.unproject(u.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(u,f,v){u=Lt(u),v=lt(v||[0,0]);var T=this.getZoom()||0,M=this.getMinZoom(),F=this.getMaxZoom(),$=u.getNorthWest(),ne=u.getSouthEast(),ye=this.getSize().subtract(v),Te=ot(this.project(ne,T),this.project($,T)).getSize(),Je=yn?this.options.zoomSnap:1,pt=ye.x/Te.x,rn=ye.y/Te.y,or=f?Math.max(pt,rn):Math.min(pt,rn);return T=this.getScaleZoom(or,T),Je&&(T=Math.round(T/(Je/100))*(Je/100),T=f?Math.ceil(T/Je)*Je:Math.floor(T/Je)*Je),Math.max(M,Math.min(F,T))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ee(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(u,f){var v=this._getTopLeftPoint(u,f);return new jt(v,v.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(u){return this.options.crs.getProjectedBounds(void 0===u?this.getZoom():u)},getPane:function(u){return"string"==typeof u?this._panes[u]:u},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(u,f){var v=this.options.crs;return f=void 0===f?this._zoom:f,v.scale(u)/v.scale(f)},getScaleZoom:function(u,f){var v=this.options.crs,T=v.zoom(u*v.scale(f=void 0===f?this._zoom:f));return isNaN(T)?1/0:T},project:function(u,f){return f=void 0===f?this._zoom:f,this.options.crs.latLngToPoint(hn(u),f)},unproject:function(u,f){return f=void 0===f?this._zoom:f,this.options.crs.pointToLatLng(lt(u),f)},layerPointToLatLng:function(u){var f=lt(u).add(this.getPixelOrigin());return this.unproject(f)},latLngToLayerPoint:function(u){return this.project(hn(u))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(u){return this.options.crs.wrapLatLng(hn(u))},wrapLatLngBounds:function(u){return this.options.crs.wrapLatLngBounds(Lt(u))},distance:function(u,f){return this.options.crs.distance(hn(u),hn(f))},containerPointToLayerPoint:function(u){return lt(u).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(u){return lt(u).add(this._getMapPanePos())},containerPointToLatLng:function(u){var f=this.containerPointToLayerPoint(lt(u));return this.layerPointToLatLng(f)},latLngToContainerPoint:function(u){return this.layerPointToContainerPoint(this.latLngToLayerPoint(hn(u)))},mouseEventToContainerPoint:function(u){return Uo(u,this._container)},mouseEventToLayerPoint:function(u){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(u))},mouseEventToLatLng:function(u){return this.layerPointToLatLng(this.mouseEventToLayerPoint(u))},_initContainer:function(u){var f=this._container=Pn(u);if(!f)throw new Error("Map container not found.");if(f._leaflet_id)throw new Error("Map container is already initialized.");Ut(f,"scroll",this._onScroll,this),this._containerId=pe(f)},_initLayout:function(){var u=this._container;this._fadeAnimated=this.options.fadeAnimation&&yn,ct(u,"leaflet-container"+(Ae?" leaflet-touch":"")+(Pt?" leaflet-retina":"")+(ht?" leaflet-oldie":"")+(qt?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var f=On(u,"position");"absolute"!==f&&"relative"!==f&&"fixed"!==f&&(u.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var u=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),gn(this._mapPane,new ee(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ct(u.markerPane,"leaflet-zoom-hide"),ct(u.shadowPane,"leaflet-zoom-hide"))},_resetView:function(u,f){gn(this._mapPane,new ee(0,0));var v=!this._loaded;this._loaded=!0,f=this._limitZoom(f),this.fire("viewprereset");var T=this._zoom!==f;this._moveStart(T,!1)._move(u,f)._moveEnd(T),this.fire("viewreset"),v&&this.fire("load")},_moveStart:function(u,f){return u&&this.fire("zoomstart"),f||this.fire("movestart"),this},_move:function(u,f,v){void 0===f&&(f=this._zoom);var T=this._zoom!==f;return this._zoom=f,this._lastCenter=u,this._pixelOrigin=this._getNewPixelOrigin(u),(T||v&&v.pinch)&&this.fire("zoom",v),this.fire("move",v)},_moveEnd:function(u){return u&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return We(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(u){gn(this._mapPane,this._getMapPanePos().subtract(u))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(u){this._targets={},this._targets[pe(this._container)]=this;var f=u?Jn:Ut;f(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&f(window,"resize",this._onResize,this),yn&&this.options.transform3DLimit&&(u?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){We(this._resizeRequest),this._resizeRequest=ie(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var u=this._getMapPanePos();Math.max(Math.abs(u.x),Math.abs(u.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(u,f){for(var T,v=[],M="mouseout"===f||"mouseover"===f,F=u.target||u.srcElement,$=!1;F;){if((T=this._targets[pe(F)])&&("click"===f||"preclick"===f)&&!u._simulated&&this._draggableMoved(T)){$=!0;break}if(T&&T.listens(f,!0)&&(M&&!Ls(F,u)||(v.push(T),M))||F===this._container)break;F=F.parentNode}return!v.length&&!$&&!M&&Ls(F,u)&&(v=[this]),v},_handleDOMEvent:function(u){if(this._loaded&&!Du(u)){var f=u.type;("mousedown"===f||"keypress"===f||"keyup"===f||"keydown"===f)&&Oi(u.target||u.srcElement),this._fireDOMEvent(u,f)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(u,f,v){if("click"===u.type){var T=H({},u);T.type="preclick",this._fireDOMEvent(T,T.type,v)}if(!u._stopped&&(v=(v||[]).concat(this._findEventTargets(u,f))).length){var M=v[0];"contextmenu"===f&&M.listens(f,!0)&&Or(u);var F={originalEvent:u};if("keypress"!==u.type&&"keydown"!==u.type&&"keyup"!==u.type){var $=M.getLatLng&&(!M._radius||M._radius<=10);F.containerPoint=$?this.latLngToContainerPoint(M.getLatLng()):this.mouseEventToContainerPoint(u),F.layerPoint=this.containerPointToLayerPoint(F.containerPoint),F.latlng=$?M.getLatLng():this.layerPointToLatLng(F.layerPoint)}for(var ne=0;ne<v.length;ne++)if(v[ne].fire(f,F,!0),F.originalEvent._stopped||!1===v[ne].options.bubblingMouseEvents&&-1!==Ie(this._mouseEvents,f))return}},_draggableMoved:function(u){return(u=u.dragging&&u.dragging.enabled()?u:this).dragging&&u.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var u=0,f=this._handlers.length;u<f;u++)this._handlers[u].disable()},whenReady:function(u,f){return this._loaded?u.call(f||this,{target:this}):this.on("load",u,f),this},_getMapPanePos:function(){return Pi(this._mapPane)||new ee(0,0)},_moved:function(){var u=this._getMapPanePos();return u&&!u.equals([0,0])},_getTopLeftPoint:function(u,f){return(u&&void 0!==f?this._getNewPixelOrigin(u,f):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(u,f){var v=this.getSize()._divideBy(2);return this.project(u,f)._subtract(v)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(u,f,v){var T=this._getNewPixelOrigin(v,f);return this.project(u,f)._subtract(T)},_latLngBoundsToNewLayerBounds:function(u,f,v){var T=this._getNewPixelOrigin(v,f);return ot([this.project(u.getSouthWest(),f)._subtract(T),this.project(u.getNorthWest(),f)._subtract(T),this.project(u.getSouthEast(),f)._subtract(T),this.project(u.getNorthEast(),f)._subtract(T)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(u){return this.latLngToLayerPoint(u).subtract(this._getCenterLayerPoint())},_limitCenter:function(u,f,v){if(!v)return u;var T=this.project(u,f),M=this.getSize().divideBy(2),F=new jt(T.subtract(M),T.add(M)),$=this._getBoundsOffset(F,v,f);return $.round().equals([0,0])?u:this.unproject(T.add($),f)},_limitOffset:function(u,f){if(!f)return u;var v=this.getPixelBounds(),T=new jt(v.min.add(u),v.max.add(u));return u.add(this._getBoundsOffset(T,f))},_getBoundsOffset:function(u,f,v){var T=ot(this.project(f.getNorthEast(),v),this.project(f.getSouthWest(),v)),M=T.min.subtract(u.min),F=T.max.subtract(u.max);return new ee(this._rebound(M.x,-F.x),this._rebound(M.y,-F.y))},_rebound:function(u,f){return u+f>0?Math.round(u-f)/2:Math.max(0,Math.ceil(u))-Math.max(0,Math.floor(f))},_limitZoom:function(u){var f=this.getMinZoom(),v=this.getMaxZoom(),T=yn?this.options.zoomSnap:1;return T&&(u=Math.round(u/T)*T),Math.max(f,Math.min(v,u))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){wn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(u,f){var v=this._getCenterOffset(u)._trunc();return!(!0!==(f&&f.animate)&&!this.getSize().contains(v)||(this.panBy(v,f),0))},_createAnimProxy:function(){var u=this._proxy=Wt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(u),this.on("zoomanim",function(f){var v=Mi,T=this._proxy.style[v];Yn(this._proxy,this.project(f.center,f.zoom),this.getZoomScale(f.zoom,1)),T===this._proxy.style[v]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){at(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var u=this.getCenter(),f=this.getZoom();Yn(this._proxy,this.project(u,f),this.getZoomScale(f,1))},_catchTransitionEnd:function(u){this._animatingZoom&&u.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(u,f,v){if(this._animatingZoom)return!0;if(v=v||{},!this._zoomAnimated||!1===v.animate||this._nothingToAnimate()||Math.abs(f-this._zoom)>this.options.zoomAnimationThreshold)return!1;var T=this.getZoomScale(f),M=this._getCenterOffset(u)._divideBy(1-1/T);return!(!0!==v.animate&&!this.getSize().contains(M)||(ie(function(){this._moveStart(!0,!1)._animateZoom(u,f,!0)},this),0))},_animateZoom:function(u,f,v,T){!this._mapPane||(v&&(this._animatingZoom=!0,this._animateToCenter=u,this._animateToZoom=f,ct(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:u,zoom:f,noUpdate:T}),setTimeout(le(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){!this._animatingZoom||(this._mapPane&&wn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),ie(function(){this._moveEnd(!0)},this))}});var Nr=ge.extend({options:{position:"topright"},initialize:function(u){Ve(this,u)},getPosition:function(){return this.options.position},setPosition:function(u){var f=this._map;return f&&f.removeControl(this),this.options.position=u,f&&f.addControl(this),this},getContainer:function(){return this._container},addTo:function(u){this.remove(),this._map=u;var f=this._container=this.onAdd(u),v=this.getPosition(),T=u._controlCorners[v];return ct(f,"leaflet-control"),-1!==v.indexOf("bottom")?T.insertBefore(f,T.firstChild):T.appendChild(f),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(at(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(u){this._map&&u&&u.screenX>0&&u.screenY>0&&this._map.getContainer().focus()}}),An=function(u){return new Nr(u)};zt.include({addControl:function(u){return u.addTo(this),this},removeControl:function(u){return u.remove(),this},_initControlPos:function(){var u=this._controlCorners={},f="leaflet-",v=this._controlContainer=Wt("div",f+"control-container",this._container);function T(M,F){u[M+F]=Wt("div",f+M+" "+f+F,v)}T("top","left"),T("top","right"),T("bottom","left"),T("bottom","right")},_clearControlPos:function(){for(var u in this._controlCorners)at(this._controlCorners[u]);at(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var jo=Nr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(u,f,v,T){return v<T?-1:T<v?1:0}},initialize:function(u,f,v){for(var T in Ve(this,v),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,u)this._addLayer(u[T],T);for(T in f)this._addLayer(f[T],T,!0)},onAdd:function(u){this._initLayout(),this._update(),this._map=u,u.on("zoomend",this._checkDisabledLayers,this);for(var f=0;f<this._layers.length;f++)this._layers[f].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(u){return Nr.prototype.addTo.call(this,u),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(u,f){return this._addLayer(u,f),this._map?this._update():this},addOverlay:function(u,f){return this._addLayer(u,f,!0),this._map?this._update():this},removeLayer:function(u){u.off("add remove",this._onLayerChange,this);var f=this._getLayer(pe(u));return f&&this._layers.splice(this._layers.indexOf(f),1),this._map?this._update():this},expand:function(){ct(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var u=this._map.getSize().y-(this._container.offsetTop+50);return u<this._section.clientHeight?(ct(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=u+"px"):wn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return wn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var u="leaflet-control-layers",f=this._container=Wt("div",u),v=this.options.collapsed;f.setAttribute("aria-haspopup",!0),Vo(f),Xi(f);var T=this._section=Wt("section",u+"-list");v&&(this._map.on("click",this.collapse,this),qn||Ut(f,{mouseenter:this.expand,mouseleave:this.collapse},this));var M=this._layersLink=Wt("a",u+"-toggle",f);M.href="#",M.title="Layers",Ae?(Ut(M,"click",wr),Ut(M,"click",this.expand,this)):Ut(M,"focus",this.expand,this),v||this.expand(),this._baseLayersList=Wt("div",u+"-base",T),this._separator=Wt("div",u+"-separator",T),this._overlaysList=Wt("div",u+"-overlays",T),f.appendChild(T)},_getLayer:function(u){for(var f=0;f<this._layers.length;f++)if(this._layers[f]&&pe(this._layers[f].layer)===u)return this._layers[f]},_addLayer:function(u,f,v){this._map&&u.on("add remove",this._onLayerChange,this),this._layers.push({layer:u,name:f,overlay:v}),this.options.sortLayers&&this._layers.sort(le(function(T,M){return this.options.sortFunction(T.layer,M.layer,T.name,M.name)},this)),this.options.autoZIndex&&u.setZIndex&&(this._lastZIndex++,u.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ns(this._baseLayersList),Ns(this._overlaysList),this._layerControlInputs=[];var u,f,v,T,M=0;for(v=0;v<this._layers.length;v++)this._addItem(T=this._layers[v]),f=f||T.overlay,u=u||!T.overlay,M+=T.overlay?0:1;return this.options.hideSingleBase&&(this._baseLayersList.style.display=(u=u&&M>1)?"":"none"),this._separator.style.display=f&&u?"":"none",this},_onLayerChange:function(u){this._handlingClick||this._update();var f=this._getLayer(pe(u.target)),v=f.overlay?"add"===u.type?"overlayadd":"overlayremove":"add"===u.type?"baselayerchange":null;v&&this._map.fire(v,f)},_createRadioElement:function(u,f){var v='<input type="radio" class="leaflet-control-layers-selector" name="'+u+'"'+(f?' checked="checked"':"")+"/>",T=document.createElement("div");return T.innerHTML=v,T.firstChild},_addItem:function(u){var T,f=document.createElement("label"),v=this._map.hasLayer(u.layer);u.overlay?((T=document.createElement("input")).type="checkbox",T.className="leaflet-control-layers-selector",T.defaultChecked=v):T=this._createRadioElement("leaflet-base-layers_"+pe(this),v),this._layerControlInputs.push(T),T.layerId=pe(u.layer),Ut(T,"click",this._onInputClick,this);var M=document.createElement("span");M.innerHTML=" "+u.name;var F=document.createElement("div");return f.appendChild(F),F.appendChild(T),F.appendChild(M),(u.overlay?this._overlaysList:this._baseLayersList).appendChild(f),this._checkDisabledLayers(),f},_onInputClick:function(){var f,v,u=this._layerControlInputs,T=[],M=[];this._handlingClick=!0;for(var F=u.length-1;F>=0;F--)v=this._getLayer((f=u[F]).layerId).layer,f.checked?T.push(v):f.checked||M.push(v);for(F=0;F<M.length;F++)this._map.hasLayer(M[F])&&this._map.removeLayer(M[F]);for(F=0;F<T.length;F++)this._map.hasLayer(T[F])||this._map.addLayer(T[F]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var f,v,u=this._layerControlInputs,T=this._map.getZoom(),M=u.length-1;M>=0;M--)v=this._getLayer((f=u[M]).layerId).layer,f.disabled=void 0!==v.options.minZoom&&T<v.options.minZoom||void 0!==v.options.maxZoom&&T>v.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),Fs=Nr.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(u){var f="leaflet-control-zoom",v=Wt("div",f+" leaflet-bar"),T=this.options;return this._zoomInButton=this._createButton(T.zoomInText,T.zoomInTitle,f+"-in",v,this._zoomIn),this._zoomOutButton=this._createButton(T.zoomOutText,T.zoomOutTitle,f+"-out",v,this._zoomOut),this._updateDisabled(),u.on("zoomend zoomlevelschange",this._updateDisabled,this),v},onRemove:function(u){u.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(u){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(u.shiftKey?3:1))},_zoomOut:function(u){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(u.shiftKey?3:1))},_createButton:function(u,f,v,T,M){var F=Wt("a",v,T);return F.innerHTML=u,F.href="#",F.title=f,F.setAttribute("role","button"),F.setAttribute("aria-label",f),Vo(F),Ut(F,"click",wr),Ut(F,"click",M,this),Ut(F,"click",this._refocusOnMap,this),F},_updateDisabled:function(){var u=this._map,f="leaflet-disabled";wn(this._zoomInButton,f),wn(this._zoomOutButton,f),(this._disabled||u._zoom===u.getMinZoom())&&ct(this._zoomOutButton,f),(this._disabled||u._zoom===u.getMaxZoom())&&ct(this._zoomInButton,f)}});zt.mergeOptions({zoomControl:!0}),zt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Fs,this.addControl(this.zoomControl))});var Au=Nr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(u){var f="leaflet-control-scale",v=Wt("div",f),T=this.options;return this._addScales(T,f+"-line",v),u.on(T.updateWhenIdle?"moveend":"move",this._update,this),u.whenReady(this._update,this),v},onRemove:function(u){u.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(u,f,v){u.metric&&(this._mScale=Wt("div",f,v)),u.imperial&&(this._iScale=Wt("div",f,v))},_update:function(){var u=this._map,f=u.getSize().y/2,v=u.distance(u.containerPointToLatLng([0,f]),u.containerPointToLatLng([this.options.maxWidth,f]));this._updateScales(v)},_updateScales:function(u){this.options.metric&&u&&this._updateMetric(u),this.options.imperial&&u&&this._updateImperial(u)},_updateMetric:function(u){var f=this._getRoundNum(u);this._updateScale(this._mScale,f<1e3?f+" m":f/1e3+" km",f/u)},_updateImperial:function(u){var v,T,M,f=3.2808399*u;f>5280?(T=this._getRoundNum(v=f/5280),this._updateScale(this._iScale,T+" mi",T/v)):(M=this._getRoundNum(f),this._updateScale(this._iScale,M+" ft",M/f))},_updateScale:function(u,f,v){u.style.width=Math.round(this.options.maxWidth*v)+"px",u.innerHTML=f},_getRoundNum:function(u){var f=Math.pow(10,(Math.floor(u)+"").length-1),v=u/f;return f*(v>=10?10:v>=5?5:v>=3?3:v>=2?2:1)}}),es=Nr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(u){Ve(this,u),this._attributions={}},onAdd:function(u){for(var f in u.attributionControl=this,this._container=Wt("div","leaflet-control-attribution"),Vo(this._container),u._layers)u._layers[f].getAttribution&&this.addAttribution(u._layers[f].getAttribution());return this._update(),this._container},setPrefix:function(u){return this.options.prefix=u,this._update(),this},addAttribution:function(u){return u?(this._attributions[u]||(this._attributions[u]=0),this._attributions[u]++,this._update(),this):this},removeAttribution:function(u){return u?(this._attributions[u]&&(this._attributions[u]--,this._update()),this):this},_update:function(){if(this._map){var u=[];for(var f in this._attributions)this._attributions[f]&&u.push(f);var v=[];this.options.prefix&&v.push(this.options.prefix),u.length&&v.push(u.join(", ")),this._container.innerHTML=v.join(" | ")}}});zt.mergeOptions({attributionControl:!0}),zt.addInitHook(function(){this.options.attributionControl&&(new es).addTo(this)});Nr.Layers=jo,Nr.Zoom=Fs,Nr.Scale=Au,Nr.Attribution=es,An.layers=function(u,f,v){return new jo(u,f,v)},An.zoom=function(u){return new Fs(u)},An.scale=function(u){return new Au(u)},An.attribution=function(u){return new es(u)};var pi=ge.extend({initialize:function(u){this._map=u},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});pi.addTo=function(u,f){return u.addHandler(f,this),this};var Rr,Sn={Events:me},Vs=Ae?"touchstart mousedown":"mousedown",Us={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},En={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},Es=Fe.extend({options:{clickTolerance:3},initialize:function(u,f,v,T){Ve(this,T),this._element=u,this._dragStartTarget=f||u,this._preventOutline=v},enable:function(){this._enabled||(Ut(this._dragStartTarget,Vs,this._onDown,this),this._enabled=!0)},disable:function(){!this._enabled||(Es._dragging===this&&this.finishDrag(),Jn(this._dragStartTarget,Vs,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(u){if(!u._simulated&&this._enabled&&(this._moved=!1,!ci(this._element,"leaflet-zoom-anim")&&!(Es._dragging||u.shiftKey||1!==u.which&&1!==u.button&&!u.touches)&&(Es._dragging=this,this._preventOutline&&Oi(this._element),Fo(),Yi(),!this._moving))){this.fire("down");var f=u.touches?u.touches[0]:u,v=Tu(this._element);this._startPoint=new ee(f.clientX,f.clientY),this._parentScale=tl(v),Ut(document,En[u.type],this._onMove,this),Ut(document,Us[u.type],this._onUp,this)}},_onMove:function(u){if(!u._simulated&&this._enabled){if(u.touches&&u.touches.length>1)return void(this._moved=!0);var f=u.touches&&1===u.touches.length?u.touches[0]:u,v=new ee(f.clientX,f.clientY)._subtract(this._startPoint);!v.x&&!v.y||Math.abs(v.x)+Math.abs(v.y)<this.options.clickTolerance||(v.x/=this._parentScale.x,v.y/=this._parentScale.y,Or(u),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=Pi(this._element).subtract(v),ct(document.body,"leaflet-dragging"),this._lastTarget=u.target||u.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ct(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(v),this._moving=!0,We(this._animRequest),this._lastEvent=u,this._animRequest=ie(this._updatePosition,this,!0))}},_updatePosition:function(){var u={originalEvent:this._lastEvent};this.fire("predrag",u),gn(this._element,this._newPos),this.fire("drag",u)},_onUp:function(u){u._simulated||!this._enabled||this.finishDrag()},finishDrag:function(){for(var u in wn(document.body,"leaflet-dragging"),this._lastTarget&&(wn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),En)Jn(document,En[u],this._onMove,this),Jn(document,Us[u],this._onUp,this);Qi(),Ji(),this._moved&&this._moving&&(We(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,Es._dragging=!1}});function lo(u,f){if(!f||!u.length)return u.slice();var v=f*f;return function ir(u,f){var v=u.length,M=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(v);M[0]=M[v-1]=1,zo(u,M,f,0,v-1);var F,$=[];for(F=0;F<v;F++)M[F]&&$.push(u[F]);return $}(u=function gi(u,f){for(var v=[u[0]],T=1,M=0,F=u.length;T<F;T++)Ni(u[T],u[M])>f&&(v.push(u[T]),M=T);return M<F-1&&v.push(u[F-1]),v}(u,v),v)}function bs(u,f,v){return Math.sqrt(jr(u,f,v,!0))}function zo(u,f,v,T,M){var $,ne,ye,F=0;for(ne=T+1;ne<=M-1;ne++)(ye=jr(u[ne],u[T],u[M],!0))>F&&($=ne,F=ye);F>v&&(f[$]=1,zo(u,f,v,T,$),zo(u,f,v,$,M))}function ts(u,f,v,T,M){var ne,ye,Te,F=T?Rr:mi(u,v),$=mi(f,v);for(Rr=$;;){if(!(F|$))return[u,f];if(F&$)return!1;Te=mi(ye=ns(u,f,ne=F||$,v,M),v),ne===F?(u=ye,F=Te):(f=ye,$=Te)}}function ns(u,f,v,T,M){var Te,Je,F=f.x-u.x,$=f.y-u.y,ne=T.min,ye=T.max;return 8&v?(Te=u.x+F*(ye.y-u.y)/$,Je=ye.y):4&v?(Te=u.x+F*(ne.y-u.y)/$,Je=ne.y):2&v?(Te=ye.x,Je=u.y+$*(ye.x-u.x)/F):1&v&&(Te=ne.x,Je=u.y+$*(ne.x-u.x)/F),new ee(Te,Je,M)}function mi(u,f){var v=0;return u.x<f.min.x?v|=1:u.x>f.max.x&&(v|=2),u.y<f.min.y?v|=4:u.y>f.max.y&&(v|=8),v}function Ni(u,f){var v=f.x-u.x,T=f.y-u.y;return v*v+T*T}function jr(u,f,v,T){var Te,M=f.x,F=f.y,$=v.x-M,ne=v.y-F,ye=$*$+ne*ne;return ye>0&&((Te=((u.x-M)*$+(u.y-F)*ne)/ye)>1?(M=v.x,F=v.y):Te>0&&(M+=$*Te,F+=ne*Te)),$=u.x-M,ne=u.y-F,T?$*$+ne*ne:new ee(M,F)}function Er(u){return!_e(u[0])||"object"!=typeof u[0][0]&&void 0!==u[0][0]}function bt(u){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Er(u)}var da={simplify:lo,pointToSegmentDistance:bs,closestPointOnSegment:function xr(u,f,v){return jr(u,f,v)},clipSegment:ts,_getEdgeIntersection:ns,_getBitCode:mi,_sqClosestPointOnSegment:jr,isFlat:Er,_flat:bt};function Su(u,f,v){var T,F,$,ne,ye,Te,Je,pt,rn,M=[1,4,2,8];for(F=0,Je=u.length;F<Je;F++)u[F]._code=mi(u[F],f);for(ne=0;ne<4;ne++){for(pt=M[ne],T=[],F=0,$=(Je=u.length)-1;F<Je;$=F++)Te=u[$],(ye=u[F])._code&pt?Te._code&pt||((rn=ns(Te,ye,pt,f,v))._code=mi(rn,f),T.push(rn)):(Te._code&pt&&((rn=ns(Te,ye,pt,f,v))._code=mi(rn,f),T.push(rn)),T.push(ye));u=T}return u}var Ho={clipPolygon:Su},za={project:function(u){return new ee(u.lng,u.lat)},unproject:function(u){return new wt(u.y,u.x)},bounds:new jt([-180,-90],[180,90])},Bs={R:6378137,R_MINOR:6356752.314245179,bounds:new jt([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(u){var f=Math.PI/180,v=this.R,T=u.lat*f,M=this.R_MINOR/v,F=Math.sqrt(1-M*M),$=F*Math.sin(T),ne=Math.tan(Math.PI/4-T/2)/Math.pow((1-$)/(1+$),F/2);return T=-v*Math.log(Math.max(ne,1e-10)),new ee(u.lng*f*v,T)},unproject:function(u){for(var Te,f=180/Math.PI,v=this.R,T=this.R_MINOR/v,M=Math.sqrt(1-T*T),F=Math.exp(-u.y/v),$=Math.PI/2-2*Math.atan(F),ne=0,ye=.1;ne<15&&Math.abs(ye)>1e-7;ne++)Te=M*Math.sin($),Te=Math.pow((1-Te)/(1+Te),M/2),$+=ye=Math.PI/2-2*Math.atan(F*Te)-$;return new wt($*f,u.x*f/v)}},Wl={LonLat:za,Mercator:Bs,SphericalMercator:jn},ha=H({},on,{code:"EPSG:3395",projection:Bs,transformation:function(){var u=.5/(Math.PI*Bs.R);return _r(u,.5,-u,.5)}()}),xe=H({},on,{code:"EPSG:4326",projection:za,transformation:_r(1/180,1,-1/180,.5)}),Gt=H({},nn,{projection:za,transformation:_r(1,0,-1,0),scale:function(u){return Math.pow(2,u)},zoom:function(u){return Math.log(u)/Math.LN2},distance:function(u,f){var v=f.lng-u.lng,T=f.lat-u.lat;return Math.sqrt(v*v+T*T)},infinite:!0});nn.Earth=on,nn.EPSG3395=ha,nn.EPSG3857=Ir,nn.EPSG900913=Os,nn.EPSG4326=xe,nn.Simple=Gt;var Ri=Fe.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(u){return u.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(u){return u&&u.removeLayer(this),this},getPane:function(u){return this._map.getPane(u?this.options[u]||u:this.options.pane)},addInteractiveTarget:function(u){return this._map._targets[pe(u)]=this,this},removeInteractiveTarget:function(u){return delete this._map._targets[pe(u)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(u){var f=u.target;if(f.hasLayer(this)){if(this._map=f,this._zoomAnimated=f._zoomAnimated,this.getEvents){var v=this.getEvents();f.on(v,this),this.once("remove",function(){f.off(v,this)},this)}this.onAdd(f),this.getAttribution&&f.attributionControl&&f.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),f.fire("layeradd",{layer:this})}}});zt.include({addLayer:function(u){if(!u._layerAdd)throw new Error("The provided object is not a Layer.");var f=pe(u);return this._layers[f]||(this._layers[f]=u,u._mapToAdd=this,u.beforeAdd&&u.beforeAdd(this),this.whenReady(u._layerAdd,u)),this},removeLayer:function(u){var f=pe(u);return this._layers[f]?(this._loaded&&u.onRemove(this),u.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(u.getAttribution()),delete this._layers[f],this._loaded&&(this.fire("layerremove",{layer:u}),u.fire("remove")),u._map=u._mapToAdd=null,this):this},hasLayer:function(u){return!!u&&pe(u)in this._layers},eachLayer:function(u,f){for(var v in this._layers)u.call(f,this._layers[v]);return this},_addLayers:function(u){for(var f=0,v=(u=u?_e(u)?u:[u]:[]).length;f<v;f++)this.addLayer(u[f])},_addZoomLimit:function(u){(isNaN(u.options.maxZoom)||!isNaN(u.options.minZoom))&&(this._zoomBoundLayers[pe(u)]=u,this._updateZoomLevels())},_removeZoomLimit:function(u){var f=pe(u);this._zoomBoundLayers[f]&&(delete this._zoomBoundLayers[f],this._updateZoomLevels())},_updateZoomLevels:function(){var u=1/0,f=-1/0,v=this._getZoomSpan();for(var T in this._zoomBoundLayers){var M=this._zoomBoundLayers[T].options;u=void 0===M.minZoom?u:Math.min(u,M.minZoom),f=void 0===M.maxZoom?f:Math.max(f,M.maxZoom)}this._layersMaxZoom=f===-1/0?void 0:f,this._layersMinZoom=u===1/0?void 0:u,v!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var mn=Ri.extend({initialize:function(u,f){var v,T;if(Ve(this,f),this._layers={},u)for(v=0,T=u.length;v<T;v++)this.addLayer(u[v])},addLayer:function(u){var f=this.getLayerId(u);return this._layers[f]=u,this._map&&this._map.addLayer(u),this},removeLayer:function(u){var f=u in this._layers?u:this.getLayerId(u);return this._map&&this._layers[f]&&this._map.removeLayer(this._layers[f]),delete this._layers[f],this},hasLayer:function(u){return!!u&&("number"==typeof u?u:this.getLayerId(u))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(u){var v,T,f=Array.prototype.slice.call(arguments,1);for(v in this._layers)(T=this._layers[v])[u]&&T[u].apply(T,f);return this},onAdd:function(u){this.eachLayer(u.addLayer,u)},onRemove:function(u){this.eachLayer(u.removeLayer,u)},eachLayer:function(u,f){for(var v in this._layers)u.call(f,this._layers[v]);return this},getLayer:function(u){return this._layers[u]},getLayers:function(){var u=[];return this.eachLayer(u.push,u),u},setZIndex:function(u){return this.invoke("setZIndex",u)},getLayerId:function(u){return pe(u)}}),Qr=mn.extend({addLayer:function(u){return this.hasLayer(u)?this:(u.addEventParent(this),mn.prototype.addLayer.call(this,u),this.fire("layeradd",{layer:u}))},removeLayer:function(u){return this.hasLayer(u)?(u in this._layers&&(u=this._layers[u]),u.removeEventParent(this),mn.prototype.removeLayer.call(this,u),this.fire("layerremove",{layer:u})):this},setStyle:function(u){return this.invoke("setStyle",u)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var u=new it;for(var f in this._layers){var v=this._layers[f];u.extend(v.getBounds?v.getBounds():v.getLatLng())}return u}}),js=ge.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(u){Ve(this,u)},createIcon:function(u){return this._createIcon("icon",u)},createShadow:function(u){return this._createIcon("shadow",u)},_createIcon:function(u,f){var v=this._getIconUrl(u);if(!v){if("icon"===u)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var T=this._createImg(v,f&&"IMG"===f.tagName?f:null);return this._setIconStyles(T,u),T},_setIconStyles:function(u,f){var v=this.options,T=v[f+"Size"];"number"==typeof T&&(T=[T,T]);var M=lt(T),F=lt("shadow"===f&&v.shadowAnchor||v.iconAnchor||M&&M.divideBy(2,!0));u.className="leaflet-marker-"+f+" "+(v.className||""),F&&(u.style.marginLeft=-F.x+"px",u.style.marginTop=-F.y+"px"),M&&(u.style.width=M.x+"px",u.style.height=M.y+"px")},_createImg:function(u,f){return(f=f||document.createElement("img")).src=u,f},_getIconUrl:function(u){return Pt&&this.options[u+"RetinaUrl"]||this.options[u+"Url"]}});var Za=js.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(u){return Za.imagePath||(Za.imagePath=this._detectIconPath()),(this.options.imagePath||Za.imagePath)+js.prototype._getIconUrl.call(this,u)},_detectIconPath:function(){var u=Wt("div","leaflet-default-icon-path",document.body),f=On(u,"background-image")||On(u,"backgroundImage");return document.body.removeChild(u),null===f||0!==f.indexOf("url")?"":f.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),$a=pi.extend({initialize:function(u){this._marker=u},addHooks:function(){var u=this._marker._icon;this._draggable||(this._draggable=new Es(u,u,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ct(u,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&wn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(u){var f=this._marker,v=f._map,T=this._marker.options.autoPanSpeed,M=this._marker.options.autoPanPadding,F=Pi(f._icon),$=v.getPixelBounds(),ne=v.getPixelOrigin(),ye=ot($.min._subtract(ne).add(M),$.max._subtract(ne).subtract(M));if(!ye.contains(F)){var Te=lt((Math.max(ye.max.x,F.x)-ye.max.x)/($.max.x-ye.max.x)-(Math.min(ye.min.x,F.x)-ye.min.x)/($.min.x-ye.min.x),(Math.max(ye.max.y,F.y)-ye.max.y)/($.max.y-ye.max.y)-(Math.min(ye.min.y,F.y)-ye.min.y)/($.min.y-ye.min.y)).multiplyBy(T);v.panBy(Te,{animate:!1}),this._draggable._newPos._add(Te),this._draggable._startPos._add(Te),gn(f._icon,this._draggable._newPos),this._onDrag(u),this._panRequest=ie(this._adjustPan.bind(this,u))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(u){this._marker.options.autoPan&&(We(this._panRequest),this._panRequest=ie(this._adjustPan.bind(this,u)))},_onDrag:function(u){var f=this._marker,v=f._shadow,T=Pi(f._icon),M=f._map.layerPointToLatLng(T);v&&gn(v,T),f._latlng=M,u.latlng=M,u.oldLatLng=this._oldLatLng,f.fire("move",u).fire("drag",u)},_onDragEnd:function(u){We(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",u)}}),Cs=Ri.extend({options:{icon:new Za,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(u,f){Ve(this,f),this._latlng=hn(u)},onAdd:function(u){this._zoomAnimated=this._zoomAnimated&&u.options.markerZoomAnimation,this._zoomAnimated&&u.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(u){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&u.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(u){var f=this._latlng;return this._latlng=hn(u),this.update(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},setZIndexOffset:function(u){return this.options.zIndexOffset=u,this.update()},getIcon:function(){return this.options.icon},setIcon:function(u){return this.options.icon=u,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var u=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(u)}return this},_initIcon:function(){var u=this.options,f="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),v=u.icon.createIcon(this._icon),T=!1;v!==this._icon&&(this._icon&&this._removeIcon(),T=!0,u.title&&(v.title=u.title),"IMG"===v.tagName&&(v.alt=u.alt||"")),ct(v,f),u.keyboard&&(v.tabIndex="0"),this._icon=v,u.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var M=u.icon.createShadow(this._shadow),F=!1;M!==this._shadow&&(this._removeShadow(),F=!0),M&&(ct(M,f),M.alt=""),this._shadow=M,u.opacity<1&&this._updateOpacity(),T&&this.getPane().appendChild(this._icon),this._initInteraction(),M&&F&&this.getPane(u.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),at(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&at(this._shadow),this._shadow=null},_setPos:function(u){this._icon&&gn(this._icon,u),this._shadow&&gn(this._shadow,u),this._zIndex=u.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(u){this._icon&&(this._icon.style.zIndex=this._zIndex+u)},_animateZoom:function(u){var f=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center).round();this._setPos(f)},_initInteraction:function(){if(this.options.interactive&&(ct(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),$a)){var u=this.options.draggable;this.dragging&&(u=this.dragging.enabled(),this.dragging.disable()),this.dragging=new $a(this),u&&this.dragging.enable()}},setOpacity:function(u){return this.options.opacity=u,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var u=this.options.opacity;this._icon&&Qt(this._icon,u),this._shadow&&Qt(this._shadow,u)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var Nn=Ri.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(u){this._renderer=u.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(u){return Ve(this,u),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&u&&Object.prototype.hasOwnProperty.call(u,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),Xr=Nn.extend({options:{fill:!0,radius:10},initialize:function(u,f){Ve(this,f),this._latlng=hn(u),this._radius=this.options.radius},setLatLng:function(u){var f=this._latlng;return this._latlng=hn(u),this.redraw(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(u){return this.options.radius=this._radius=u,this.redraw()},getRadius:function(){return this._radius},setStyle:function(u){var f=u&&u.radius||this._radius;return Nn.prototype.setStyle.call(this,u),this.setRadius(f),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var u=this._radius,f=this._radiusY||u,v=this._clickTolerance(),T=[u+v,f+v];this._pxBounds=new jt(this._point.subtract(T),this._point.add(T))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(u){return u.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var zs=Xr.extend({initialize:function(u,f,v){if("number"==typeof f&&(f=H({},v,{radius:f})),Ve(this,f),this._latlng=hn(u),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(u){return this._mRadius=u,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var u=[this._radius,this._radiusY||this._radius];return new it(this._map.layerPointToLatLng(this._point.subtract(u)),this._map.layerPointToLatLng(this._point.add(u)))},setStyle:Nn.prototype.setStyle,_project:function(){var u=this._latlng.lng,f=this._latlng.lat,v=this._map,T=v.options.crs;if(T.distance===on.distance){var M=Math.PI/180,F=this._mRadius/on.R/M,$=v.project([f+F,u]),ne=v.project([f-F,u]),ye=$.add(ne).divideBy(2),Te=v.unproject(ye).lat,Je=Math.acos((Math.cos(F*M)-Math.sin(f*M)*Math.sin(Te*M))/(Math.cos(f*M)*Math.cos(Te*M)))/M;(isNaN(Je)||0===Je)&&(Je=F/Math.cos(Math.PI/180*f)),this._point=ye.subtract(v.getPixelOrigin()),this._radius=isNaN(Je)?0:ye.x-v.project([Te,u-Je]).x,this._radiusY=ye.y-$.y}else{var pt=T.unproject(T.project(this._latlng).subtract([this._mRadius,0]));this._point=v.latLngToLayerPoint(this._latlng),this._radius=this._point.x-v.latLngToLayerPoint(pt).x}this._updateBounds()}});var Ts=Nn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(u,f){Ve(this,f),this._setLatLngs(u)},getLatLngs:function(){return this._latlngs},setLatLngs:function(u){return this._setLatLngs(u),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(u){for(var M,F,f=1/0,v=null,T=jr,$=0,ne=this._parts.length;$<ne;$++)for(var ye=this._parts[$],Te=1,Je=ye.length;Te<Je;Te++){var pt=T(u,M=ye[Te-1],F=ye[Te],!0);pt<f&&(f=pt,v=T(u,M,F))}return v&&(v.distance=Math.sqrt(f)),v},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var u,f,v,T,M,F,$,ne=this._rings[0],ye=ne.length;if(!ye)return null;for(u=0,f=0;u<ye-1;u++)f+=ne[u].distanceTo(ne[u+1])/2;if(0===f)return this._map.layerPointToLatLng(ne[0]);for(u=0,T=0;u<ye-1;u++)if((T+=v=(M=ne[u]).distanceTo(F=ne[u+1]))>f)return this._map.layerPointToLatLng([F.x-($=(T-f)/v)*(F.x-M.x),F.y-$*(F.y-M.y)])},getBounds:function(){return this._bounds},addLatLng:function(u,f){return f=f||this._defaultShape(),u=hn(u),f.push(u),this._bounds.extend(u),this.redraw()},_setLatLngs:function(u){this._bounds=new it,this._latlngs=this._convertLatLngs(u)},_defaultShape:function(){return Er(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(u){for(var f=[],v=Er(u),T=0,M=u.length;T<M;T++)v?(f[T]=hn(u[T]),this._bounds.extend(f[T])):f[T]=this._convertLatLngs(u[T]);return f},_project:function(){var u=new jt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,u),this._bounds.isValid()&&u.isValid()&&(this._rawPxBounds=u,this._updateBounds())},_updateBounds:function(){var u=this._clickTolerance(),f=new ee(u,u);this._pxBounds=new jt([this._rawPxBounds.min.subtract(f),this._rawPxBounds.max.add(f)])},_projectLatlngs:function(u,f,v){var F,$,M=u.length;if(u[0]instanceof wt){for($=[],F=0;F<M;F++)$[F]=this._map.latLngToLayerPoint(u[F]),v.extend($[F]);f.push($)}else for(F=0;F<M;F++)this._projectLatlngs(u[F],f,v)},_clipPoints:function(){var u=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(u)){if(this.options.noClip)return void(this._parts=this._rings);var v,T,M,F,$,ne,ye,f=this._parts;for(v=0,M=0,F=this._rings.length;v<F;v++)for(T=0,$=(ye=this._rings[v]).length;T<$-1;T++)(ne=ts(ye[T],ye[T+1],u,T,!0))&&(f[M]=f[M]||[],f[M].push(ne[0]),(ne[1]!==ye[T+1]||T===$-2)&&(f[M].push(ne[1]),M++))}},_simplifyPoints:function(){for(var u=this._parts,f=this.options.smoothFactor,v=0,T=u.length;v<T;v++)u[v]=lo(u[v],f)},_update:function(){!this._map||(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(u,f){var v,T,M,F,$,ne,ye=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for(v=0,F=this._parts.length;v<F;v++)for(T=0,M=($=(ne=this._parts[v]).length)-1;T<$;M=T++)if((f||0!==T)&&bs(u,ne[M],ne[T])<=ye)return!0;return!1}});Ts._flat=bt;var co=Ts.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var u,f,v,T,M,F,$,ne,Te=this._rings[0],Je=Te.length;if(!Je)return null;for(F=$=ne=0,u=0,f=Je-1;u<Je;f=u++)$+=((v=Te[u]).x+(T=Te[f]).x)*(M=v.y*T.x-T.y*v.x),ne+=(v.y+T.y)*M,F+=3*M;return this._map.layerPointToLatLng(0===F?Te[0]:[$/F,ne/F])},_convertLatLngs:function(u){var f=Ts.prototype._convertLatLngs.call(this,u),v=f.length;return v>=2&&f[0]instanceof wt&&f[0].equals(f[v-1])&&f.pop(),f},_setLatLngs:function(u){Ts.prototype._setLatLngs.call(this,u),Er(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Er(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var u=this._renderer._bounds,f=this.options.weight,v=new ee(f,f);if(u=new jt(u.min.subtract(v),u.max.add(v)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(u)){if(this.options.noClip)return void(this._parts=this._rings);for(var F,T=0,M=this._rings.length;T<M;T++)(F=Su(this._rings[T],u,!0)).length&&this._parts.push(F)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(u){var v,T,M,F,$,ne,ye,Te,f=!1;if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for(F=0,ye=this._parts.length;F<ye;F++)for($=0,ne=(Te=(v=this._parts[F]).length)-1;$<Te;ne=$++)(T=v[$]).y>u.y!=(M=v[ne]).y>u.y&&u.x<(M.x-T.x)*(u.y-T.y)/(M.y-T.y)+T.x&&(f=!f);return f||Ts.prototype._containsPoint.call(this,u,!0)}});var Li=Qr.extend({initialize:function(u,f){Ve(this,f),this._layers={},u&&this.addData(u)},addData:function(u){var v,T,M,f=_e(u)?u:u.features;if(f){for(v=0,T=f.length;v<T;v++)((M=f[v]).geometries||M.geometry||M.features||M.coordinates)&&this.addData(M);return this}var F=this.options;if(F.filter&&!F.filter(u))return this;var $=Ds(u,F);return $?($.feature=Ko(u),$.defaultOptions=$.options,this.resetStyle($),F.onEachFeature&&F.onEachFeature(u,$),this.addLayer($)):this},resetStyle:function(u){return void 0===u?this.eachLayer(this.resetStyle,this):(u.options=H({},u.defaultOptions),this._setLayerStyle(u,this.options.style),this)},setStyle:function(u){return this.eachLayer(function(f){this._setLayerStyle(f,u)},this)},_setLayerStyle:function(u,f){u.setStyle&&("function"==typeof f&&(f=f(u.feature)),u.setStyle(f))}});function Ds(u,f){var ne,ye,Te,Je,v="Feature"===u.type?u.geometry:u,T=v?v.coordinates:null,M=[],F=f&&f.pointToLayer,$=f&&f.coordsToLatLng||ga;if(!T&&!v)return null;switch(v.type){case"Point":return il(F,u,ne=$(T),f);case"MultiPoint":for(Te=0,Je=T.length;Te<Je;Te++)ne=$(T[Te]),M.push(il(F,u,ne,f));return new Qr(M);case"LineString":case"MultiLineString":return ye=qo(T,"LineString"===v.type?0:1,$),new Ts(ye,f);case"Polygon":case"MultiPolygon":return ye=qo(T,"Polygon"===v.type?1:2,$),new co(ye,f);case"GeometryCollection":for(Te=0,Je=v.geometries.length;Te<Je;Te++){var pt=Ds({geometry:v.geometries[Te],type:"Feature",properties:u.properties},f);pt&&M.push(pt)}return new Qr(M);default:throw new Error("Invalid GeoJSON object.")}}function il(u,f,v,T){return u?u(f,v):new Cs(v,T&&T.markersInheritOptions&&T)}function ga(u){return new wt(u[1],u[0],u[2])}function qo(u,f,v){for(var $,T=[],M=0,F=u.length;M<F;M++)$=f?qo(u[M],f-1,v):(v||ga)(u[M]),T.push($);return T}function Wo(u,f){return f="number"==typeof f?f:6,void 0!==u.alt?[q(u.lng,f),q(u.lat,f),q(u.alt,f)]:[q(u.lng,f),q(u.lat,f)]}function Hs(u,f,v,T){for(var M=[],F=0,$=u.length;F<$;F++)M.push(f?Hs(u[F],f-1,v,T):Wo(u[F],T));return!f&&v&&M.push(M[0]),M}function _i(u,f){return u.feature?H({},u.feature,{geometry:f}):Ko(f)}function Ko(u){return"Feature"===u.type||"FeatureCollection"===u.type?u:{type:"Feature",properties:{},geometry:u}}var xu={toGeoJSON:function(u){return _i(this,{type:"Point",coordinates:Wo(this.getLatLng(),u)})}};function Mu(u,f){return new Li(u,f)}Cs.include(xu),zs.include(xu),Xr.include(xu),Ts.include({toGeoJSON:function(u){var f=!Er(this._latlngs);return _i(this,{type:(f?"Multi":"")+"LineString",coordinates:Hs(this._latlngs,f?1:0,!1,u)})}}),co.include({toGeoJSON:function(u){var f=!Er(this._latlngs),v=f&&!Er(this._latlngs[0]),T=Hs(this._latlngs,v?2:f?1:0,!0,u);return f||(T=[T]),_i(this,{type:(v?"Multi":"")+"Polygon",coordinates:T})}}),mn.include({toMultiPoint:function(u){var f=[];return this.eachLayer(function(v){f.push(v.toGeoJSON(u).geometry.coordinates)}),_i(this,{type:"MultiPoint",coordinates:f})},toGeoJSON:function(u){var f=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===f)return this.toMultiPoint(u);var v="GeometryCollection"===f,T=[];return this.eachLayer(function(M){if(M.toGeoJSON){var F=M.toGeoJSON(u);if(v)T.push(F.geometry);else{var $=Ko(F);"FeatureCollection"===$.type?T.push.apply(T,$.features):T.push($)}}}),v?_i(this,{geometries:T,type:"GeometryCollection"}):{type:"FeatureCollection",features:T}}});var ho=Mu,Fi=Ri.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(u,f,v){this._url=u,this._bounds=Lt(f),Ve(this,v)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ct(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){at(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(u){return this.options.opacity=u,this._image&&this._updateOpacity(),this},setStyle:function(u){return u.opacity&&this.setOpacity(u.opacity),this},bringToFront:function(){return this._map&&Br(this._image),this},bringToBack:function(){return this._map&&Rs(this._image),this},setUrl:function(u){return this._url=u,this._image&&(this._image.src=u),this},setBounds:function(u){return this._bounds=Lt(u),this._map&&this._reset(),this},getEvents:function(){var u={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var u="IMG"===this._url.tagName,f=this._image=u?this._url:Wt("img");ct(f,"leaflet-image-layer"),this._zoomAnimated&&ct(f,"leaflet-zoom-animated"),this.options.className&&ct(f,this.options.className),f.onselectstart=Ee,f.onmousemove=Ee,f.onload=le(this.fire,this,"load"),f.onerror=le(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(f.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),u?this._url=f.src:(f.src=this._url,f.alt=this.options.alt)},_animateZoom:function(u){var f=this._map.getZoomScale(u.zoom),v=this._map._latLngBoundsToNewLayerBounds(this._bounds,u.zoom,u.center).min;Yn(this._image,v,f)},_reset:function(){var u=this._image,f=new jt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),v=f.getSize();gn(u,f.min),u.style.width=v.x+"px",u.style.height=v.y+"px"},_updateOpacity:function(){Qt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&null!=this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var u=this.options.errorOverlayUrl;u&&this._url!==u&&(this._url=u,this._image.src=u)}}),kr=Fi.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1},_initImage:function(){var u="VIDEO"===this._url.tagName,f=this._image=u?this._url:Wt("video");if(ct(f,"leaflet-image-layer"),this._zoomAnimated&&ct(f,"leaflet-zoom-animated"),this.options.className&&ct(f,this.options.className),f.onselectstart=Ee,f.onmousemove=Ee,f.onloadeddata=le(this.fire,this,"load"),u){for(var v=f.getElementsByTagName("source"),T=[],M=0;M<v.length;M++)T.push(v[M].src);this._url=v.length>0?T:[f.src]}else{_e(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(f.style,"objectFit")&&(f.style.objectFit="fill"),f.autoplay=!!this.options.autoplay,f.loop=!!this.options.loop,f.muted=!!this.options.muted;for(var F=0;F<this._url.length;F++){var $=Wt("source");$.src=this._url[F],f.appendChild($)}}}});var Un=Fi.extend({_initImage:function(){var u=this._image=this._url;ct(u,"leaflet-image-layer"),this._zoomAnimated&&ct(u,"leaflet-zoom-animated"),this.options.className&&ct(u,this.options.className),u.onselectstart=Ee,u.onmousemove=Ee}});var Yo=Ri.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(u,f){Ve(this,u),this._source=f},onAdd:function(u){this._zoomAnimated=u._zoomAnimated,this._container||this._initLayout(),u._fadeAnimated&&Qt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),u._fadeAnimated&&Qt(this._container,1),this.bringToFront()},onRemove:function(u){u._fadeAnimated?(Qt(this._container,0),this._removeTimeout=setTimeout(le(at,void 0,this._container),200)):at(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(u){return this._latlng=hn(u),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(u){return this._content=u,this.update(),this},getElement:function(){return this._container},update:function(){!this._map||(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var u={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Br(this._container),this},bringToBack:function(){return this._map&&Rs(this._container),this},_prepareOpen:function(u,f,v){if(f instanceof Ri||(v=f,f=u),f instanceof Qr)for(var T in u._layers){f=u._layers[T];break}if(!v)if(f.getCenter)v=f.getCenter();else{if(!f.getLatLng)throw new Error("Unable to get source layer LatLng.");v=f.getLatLng()}return this._source=f,this.update(),v},_updateContent:function(){if(this._content){var u=this._contentNode,f="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof f)u.innerHTML=f;else{for(;u.hasChildNodes();)u.removeChild(u.firstChild);u.appendChild(f)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var u=this._map.latLngToLayerPoint(this._latlng),f=lt(this.options.offset),v=this._getAnchor();this._zoomAnimated?gn(this._container,u.add(v)):f=f.add(u).add(v);var T=this._containerBottom=-f.y,M=this._containerLeft=-Math.round(this._containerWidth/2)+f.x;this._container.style.bottom=T+"px",this._container.style.left=M+"px"}},_getAnchor:function(){return[0,0]}}),Ou=Yo.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(u){return u.openPopup(this),this},onAdd:function(u){Yo.prototype.onAdd.call(this,u),u.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Nn||this._source.on("preclick",ca))},onRemove:function(u){Yo.prototype.onRemove.call(this,u),u.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Nn||this._source.off("preclick",ca))},getEvents:function(){var u=Yo.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(u.preclick=this._close),this.options.keepInView&&(u.moveend=this._adjustPan),u},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var u="leaflet-popup",f=this._container=Wt("div",u+" "+(this.options.className||"")+" leaflet-zoom-animated"),v=this._wrapper=Wt("div",u+"-content-wrapper",f);if(this._contentNode=Wt("div",u+"-content",v),Vo(f),Xi(this._contentNode),Ut(f,"contextmenu",ca),this._tipContainer=Wt("div",u+"-tip-container",f),this._tip=Wt("div",u+"-tip",this._tipContainer),this.options.closeButton){var T=this._closeButton=Wt("a",u+"-close-button",f);T.href="#close",T.innerHTML="&#215;",Ut(T,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var u=this._contentNode,f=u.style;f.width="",f.whiteSpace="nowrap";var v=u.offsetWidth;v=Math.min(v,this.options.maxWidth),v=Math.max(v,this.options.minWidth),f.width=v+1+"px",f.whiteSpace="",f.height="";var M=this.options.maxHeight,F="leaflet-popup-scrolled";M&&u.offsetHeight>M?(f.height=M+"px",ct(u,F)):wn(u,F),this._containerWidth=this._container.offsetWidth},_animateZoom:function(u){var f=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center),v=this._getAnchor();gn(this._container,f.add(v))},_adjustPan:function(){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var u=this._map,f=parseInt(On(this._container,"marginBottom"),10)||0,v=this._container.offsetHeight+f,T=this._containerWidth,M=new ee(this._containerLeft,-v-this._containerBottom);M._add(Pi(this._container));var F=u.layerPointToContainerPoint(M),$=lt(this.options.autoPanPadding),ne=lt(this.options.autoPanPaddingTopLeft||$),ye=lt(this.options.autoPanPaddingBottomRight||$),Te=u.getSize(),Je=0,pt=0;F.x+T+ye.x>Te.x&&(Je=F.x+T-Te.x+ye.x),F.x-Je-ne.x<0&&(Je=F.x-ne.x),F.y+v+ye.y>Te.y&&(pt=F.y+v-Te.y+ye.y),F.y-pt-ne.y<0&&(pt=F.y-ne.y),(Je||pt)&&u.fire("autopanstart").panBy([Je,pt])}},_onCloseButtonClick:function(u){this._close(),wr(u)},_getAnchor:function(){return lt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});zt.mergeOptions({closePopupOnClick:!0}),zt.include({openPopup:function(u,f,v){return u instanceof Ou||(u=new Ou(v).setContent(u)),f&&u.setLatLng(f),this.hasLayer(u)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=u,this.addLayer(u))},closePopup:function(u){return(!u||u===this._popup)&&(u=this._popup,this._popup=null),u&&this.removeLayer(u),this}}),Ri.include({bindPopup:function(u,f){return u instanceof Ou?(Ve(u,f),this._popup=u,u._source=this):((!this._popup||f)&&(this._popup=new Ou(f,this)),this._popup.setContent(u)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(u,f){return this._popup&&this._map&&(f=this._popup._prepareOpen(this,u,f),this._map.openPopup(this._popup,f)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(u){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(u)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(u){return this._popup&&this._popup.setContent(u),this},getPopup:function(){return this._popup},_openPopup:function(u){var f=u.layer||u.target;if(this._popup&&this._map){if(wr(u),f instanceof Nn)return void this.openPopup(u.layer||u.target,u.latlng);this._map.hasLayer(this._popup)&&this._popup._source===f?this.closePopup():this.openPopup(f,u.latlng)}},_movePopup:function(u){this._popup.setLatLng(u.latlng)},_onKeyPress:function(u){13===u.originalEvent.keyCode&&this._openPopup(u)}});var fo=Yo.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(u){Yo.prototype.onAdd.call(this,u),this.setOpacity(this.options.opacity),u.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(u){Yo.prototype.onRemove.call(this,u),u.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var u=Yo.prototype.getEvents.call(this);return Ae&&!this.options.permanent&&(u.preclick=this._close),u},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){this._contentNode=this._container=Wt("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(u){var f,v,T=this._map,M=this._container,F=T.latLngToContainerPoint(T.getCenter()),$=T.layerPointToContainerPoint(u),ne=this.options.direction,ye=M.offsetWidth,Te=M.offsetHeight,Je=lt(this.options.offset),pt=this._getAnchor();"top"===ne?(f=ye/2,v=Te):"bottom"===ne?(f=ye/2,v=0):"center"===ne?(f=ye/2,v=Te/2):"right"===ne?(f=0,v=Te/2):"left"===ne?(f=ye,v=Te/2):$.x<F.x?(ne="right",f=0,v=Te/2):(ne="left",f=ye+2*(Je.x+pt.x),v=Te/2),u=u.subtract(lt(f,v,!0)).add(Je).add(pt),wn(M,"leaflet-tooltip-right"),wn(M,"leaflet-tooltip-left"),wn(M,"leaflet-tooltip-top"),wn(M,"leaflet-tooltip-bottom"),ct(M,"leaflet-tooltip-"+ne),gn(M,u)},_updatePosition:function(){var u=this._map.latLngToLayerPoint(this._latlng);this._setPosition(u)},setOpacity:function(u){this.options.opacity=u,this._container&&Qt(this._container,u)},_animateZoom:function(u){var f=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center);this._setPosition(f)},_getAnchor:function(){return lt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});zt.include({openTooltip:function(u,f,v){return u instanceof fo||(u=new fo(v).setContent(u)),f&&u.setLatLng(f),this.hasLayer(u)?this:this.addLayer(u)},closeTooltip:function(u){return u&&this.removeLayer(u),this}}),Ri.include({bindTooltip:function(u,f){return u instanceof fo?(Ve(u,f),this._tooltip=u,u._source=this):((!this._tooltip||f)&&(this._tooltip=new fo(f,this)),this._tooltip.setContent(u)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(u){if(u||!this._tooltipHandlersAdded){var f=u?"off":"on",v={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?v.add=this._openTooltip:(v.mouseover=this._openTooltip,v.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(v.mousemove=this._moveTooltip),Ae&&(v.click=this._openTooltip)),this[f](v),this._tooltipHandlersAdded=!u}},openTooltip:function(u,f){return this._tooltip&&this._map&&(f=this._tooltip._prepareOpen(this,u,f),this._map.openTooltip(this._tooltip,f),this._tooltip.options.interactive&&this._tooltip._container&&(ct(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(wn(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(u){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(u)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(u){return this._tooltip&&this._tooltip.setContent(u),this},getTooltip:function(){return this._tooltip},_openTooltip:function(u){!this._tooltip||!this._map||this.openTooltip(u.layer||u.target,this._tooltip.options.sticky?u.latlng:void 0)},_moveTooltip:function(u){var v,T,f=u.latlng;this._tooltip.options.sticky&&u.originalEvent&&(v=this._map.mouseEventToContainerPoint(u.originalEvent),T=this._map.containerPointToLayerPoint(v),f=this._map.layerPointToLatLng(T)),this._tooltip.setLatLng(f)}});var Jo=js.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(u){var f=u&&"DIV"===u.tagName?u:document.createElement("div"),v=this.options;if(v.html instanceof Element?(Ns(f),f.appendChild(v.html)):f.innerHTML=!1!==v.html?v.html:"",v.bgPos){var T=lt(v.bgPos);f.style.backgroundPosition=-T.x+"px "+-T.y+"px"}return this._setIconStyles(f,"icon"),f},createShadow:function(){return null}});js.Default=Za;var $s=Ri.extend({options:{tileSize:256,opacity:1,updateWhenIdle:tr,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(u){Ve(this,u)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(u){u._addZoomLimit(this)},onRemove:function(u){this._removeAllTiles(),at(this._container),u._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Br(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Rs(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(u){return this.options.opacity=u,this._updateOpacity(),this},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var u={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=Pe(this._onMoveEnd,this.options.updateInterval,this)),u.move=this._onMove),this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},createTile:function(){return document.createElement("div")},getTileSize:function(){var u=this.options.tileSize;return u instanceof ee?u:new ee(u,u)},_updateZIndex:function(){this._container&&null!=this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(u){for(var F,f=this.getPane().children,v=-u(-1/0,1/0),T=0,M=f.length;T<M;T++)F=f[T].style.zIndex,f[T]!==this._container&&F&&(v=u(v,+F));isFinite(v)&&(this.options.zIndex=v+u(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ht){Qt(this._container,this.options.opacity);var u=+new Date,f=!1,v=!1;for(var T in this._tiles){var M=this._tiles[T];if(M.current&&M.loaded){var F=Math.min(1,(u-M.loaded)/200);Qt(M.el,F),F<1?f=!0:(M.active?v=!0:this._onOpaqueTile(M),M.active=!0)}}v&&!this._noPrune&&this._pruneTiles(),f&&(We(this._fadeFrame),this._fadeFrame=ie(this._updateOpacity,this))}},_onOpaqueTile:Ee,_initContainer:function(){this._container||(this._container=Wt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var u=this._tileZoom,f=this.options.maxZoom;if(void 0!==u){for(var v in this._levels)v=Number(v),this._levels[v].el.children.length||v===u?(this._levels[v].el.style.zIndex=f-Math.abs(u-v),this._onUpdateLevel(v)):(at(this._levels[v].el),this._removeTilesAtZoom(v),this._onRemoveLevel(v),delete this._levels[v]);var T=this._levels[u],M=this._map;return T||((T=this._levels[u]={}).el=Wt("div","leaflet-tile-container leaflet-zoom-animated",this._container),T.el.style.zIndex=f,T.origin=M.project(M.unproject(M.getPixelOrigin()),u).round(),T.zoom=u,this._setZoomTransform(T,M.getCenter(),M.getZoom()),this._onCreateLevel(T)),this._level=T,T}},_onUpdateLevel:Ee,_onRemoveLevel:Ee,_onCreateLevel:Ee,_pruneTiles:function(){if(this._map){var u,f,v=this._map.getZoom();if(v>this.options.maxZoom||v<this.options.minZoom)return void this._removeAllTiles();for(u in this._tiles)(f=this._tiles[u]).retain=f.current;for(u in this._tiles)if((f=this._tiles[u]).current&&!f.active){var T=f.coords;this._retainParent(T.x,T.y,T.z,T.z-5)||this._retainChildren(T.x,T.y,T.z,T.z+2)}for(u in this._tiles)this._tiles[u].retain||this._removeTile(u)}},_removeTilesAtZoom:function(u){for(var f in this._tiles)this._tiles[f].coords.z===u&&this._removeTile(f)},_removeAllTiles:function(){for(var u in this._tiles)this._removeTile(u)},_invalidateAll:function(){for(var u in this._levels)at(this._levels[u].el),this._onRemoveLevel(Number(u)),delete this._levels[u];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(u,f,v,T){var M=Math.floor(u/2),F=Math.floor(f/2),$=v-1,ne=new ee(+M,+F);ne.z=+$;var ye=this._tileCoordsToKey(ne),Te=this._tiles[ye];return Te&&Te.active?(Te.retain=!0,!0):(Te&&Te.loaded&&(Te.retain=!0),$>T&&this._retainParent(M,F,$,T))},_retainChildren:function(u,f,v,T){for(var M=2*u;M<2*u+2;M++)for(var F=2*f;F<2*f+2;F++){var $=new ee(M,F);$.z=v+1;var ne=this._tileCoordsToKey($),ye=this._tiles[ne];ye&&ye.active?ye.retain=!0:(ye&&ye.loaded&&(ye.retain=!0),v+1<T&&this._retainChildren(M,F,v+1,T))}},_resetView:function(u){var f=u&&(u.pinch||u.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),f,f)},_animateZoom:function(u){this._setView(u.center,u.zoom,!0,u.noUpdate)},_clampZoom:function(u){var f=this.options;return void 0!==f.minNativeZoom&&u<f.minNativeZoom?f.minNativeZoom:void 0!==f.maxNativeZoom&&f.maxNativeZoom<u?f.maxNativeZoom:u},_setView:function(u,f,v,T){var M=Math.round(f);M=void 0!==this.options.maxZoom&&M>this.options.maxZoom||void 0!==this.options.minZoom&&M<this.options.minZoom?void 0:this._clampZoom(M),(!T||this.options.updateWhenZooming&&M!==this._tileZoom)&&(this._tileZoom=M,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==M&&this._update(u),v||this._pruneTiles(),this._noPrune=!!v),this._setZoomTransforms(u,f)},_setZoomTransforms:function(u,f){for(var v in this._levels)this._setZoomTransform(this._levels[v],u,f)},_setZoomTransform:function(u,f,v){var T=this._map.getZoomScale(v,u.zoom),M=u.origin.multiplyBy(T).subtract(this._map._getNewPixelOrigin(f,v)).round();yn?Yn(u.el,M,T):gn(u.el,M)},_resetGrid:function(){var u=this._map,f=u.options.crs,v=this._tileSize=this.getTileSize(),T=this._tileZoom,M=this._map.getPixelWorldBounds(this._tileZoom);M&&(this._globalTileRange=this._pxBoundsToTileRange(M)),this._wrapX=f.wrapLng&&!this.options.noWrap&&[Math.floor(u.project([0,f.wrapLng[0]],T).x/v.x),Math.ceil(u.project([0,f.wrapLng[1]],T).x/v.y)],this._wrapY=f.wrapLat&&!this.options.noWrap&&[Math.floor(u.project([f.wrapLat[0],0],T).y/v.x),Math.ceil(u.project([f.wrapLat[1],0],T).y/v.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(u){var f=this._map,v=f._animatingZoom?Math.max(f._animateToZoom,f.getZoom()):f.getZoom(),T=f.getZoomScale(v,this._tileZoom),M=f.project(u,this._tileZoom).floor(),F=f.getSize().divideBy(2*T);return new jt(M.subtract(F),M.add(F))},_update:function(u){var f=this._map;if(f){var v=this._clampZoom(f.getZoom());if(void 0===u&&(u=f.getCenter()),void 0!==this._tileZoom){var T=this._getTiledPixelBounds(u),M=this._pxBoundsToTileRange(T),F=M.getCenter(),$=[],ne=this.options.keepBuffer,ye=new jt(M.getBottomLeft().subtract([ne,-ne]),M.getTopRight().add([ne,-ne]));if(!(isFinite(M.min.x)&&isFinite(M.min.y)&&isFinite(M.max.x)&&isFinite(M.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Te in this._tiles){var Je=this._tiles[Te].coords;(Je.z!==this._tileZoom||!ye.contains(new ee(Je.x,Je.y)))&&(this._tiles[Te].current=!1)}if(Math.abs(v-this._tileZoom)>1)return void this._setView(u,v);for(var pt=M.min.y;pt<=M.max.y;pt++)for(var rn=M.min.x;rn<=M.max.x;rn++){var or=new ee(rn,pt);if(or.z=this._tileZoom,this._isValidTile(or)){var br=this._tiles[this._tileCoordsToKey(or)];br?br.current=!0:$.push(or)}}if($.sort(function(Rn,Gs){return Rn.distanceTo(F)-Gs.distanceTo(F)}),0!==$.length){this._loading||(this._loading=!0,this.fire("loading"));var ss=document.createDocumentFragment();for(rn=0;rn<$.length;rn++)this._addTile($[rn],ss);this._level.el.appendChild(ss)}}}},_isValidTile:function(u){var f=this._map.options.crs;if(!f.infinite){var v=this._globalTileRange;if(!f.wrapLng&&(u.x<v.min.x||u.x>v.max.x)||!f.wrapLat&&(u.y<v.min.y||u.y>v.max.y))return!1}if(!this.options.bounds)return!0;var T=this._tileCoordsToBounds(u);return Lt(this.options.bounds).overlaps(T)},_keyToBounds:function(u){return this._tileCoordsToBounds(this._keyToTileCoords(u))},_tileCoordsToNwSe:function(u){var f=this._map,v=this.getTileSize(),T=u.scaleBy(v),M=T.add(v);return[f.unproject(T,u.z),f.unproject(M,u.z)]},_tileCoordsToBounds:function(u){var f=this._tileCoordsToNwSe(u),v=new it(f[0],f[1]);return this.options.noWrap||(v=this._map.wrapLatLngBounds(v)),v},_tileCoordsToKey:function(u){return u.x+":"+u.y+":"+u.z},_keyToTileCoords:function(u){var f=u.split(":"),v=new ee(+f[0],+f[1]);return v.z=+f[2],v},_removeTile:function(u){var f=this._tiles[u];!f||(at(f.el),delete this._tiles[u],this.fire("tileunload",{tile:f.el,coords:this._keyToTileCoords(u)}))},_initTile:function(u){ct(u,"leaflet-tile");var f=this.getTileSize();u.style.width=f.x+"px",u.style.height=f.y+"px",u.onselectstart=Ee,u.onmousemove=Ee,ht&&this.options.opacity<1&&Qt(u,this.options.opacity),qn&&!hr&&(u.style.WebkitBackfaceVisibility="hidden")},_addTile:function(u,f){var v=this._getTilePos(u),T=this._tileCoordsToKey(u),M=this.createTile(this._wrapCoords(u),le(this._tileReady,this,u));this._initTile(M),this.createTile.length<2&&ie(le(this._tileReady,this,u,null,M)),gn(M,v),this._tiles[T]={el:M,coords:u,current:!0},f.appendChild(M),this.fire("tileloadstart",{tile:M,coords:u})},_tileReady:function(u,f,v){f&&this.fire("tileerror",{error:f,tile:v,coords:u});var T=this._tileCoordsToKey(u);(v=this._tiles[T])&&(v.loaded=+new Date,this._map._fadeAnimated?(Qt(v.el,0),We(this._fadeFrame),this._fadeFrame=ie(this._updateOpacity,this)):(v.active=!0,this._pruneTiles()),f||(ct(v.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:v.el,coords:u})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ht||!this._map._fadeAnimated?ie(this._pruneTiles,this):setTimeout(le(this._pruneTiles,this),250)))},_getTilePos:function(u){return u.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(u){var f=new ee(this._wrapX?Se(u.x,this._wrapX):u.x,this._wrapY?Se(u.y,this._wrapY):u.y);return f.z=u.z,f},_pxBoundsToTileRange:function(u){var f=this.getTileSize();return new jt(u.min.unscaleBy(f).floor(),u.max.unscaleBy(f).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var u in this._tiles)if(!this._tiles[u].loaded)return!1;return!0}});var go=$s.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(u,f){this._url=u,(f=Ve(this,f)).detectRetina&&Pt&&f.maxZoom>0&&(f.tileSize=Math.floor(f.tileSize/2),f.zoomReverse?(f.zoomOffset--,f.minZoom++):(f.zoomOffset++,f.maxZoom--),f.minZoom=Math.max(0,f.minZoom)),"string"==typeof f.subdomains&&(f.subdomains=f.subdomains.split("")),qn||this.on("tileunload",this._onTileRemove)},setUrl:function(u,f){return this._url===u&&void 0===f&&(f=!0),this._url=u,f||this.redraw(),this},createTile:function(u,f){var v=document.createElement("img");return Ut(v,"load",le(this._tileOnLoad,this,f,v)),Ut(v,"error",le(this._tileOnError,this,f,v)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(v.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),v.alt="",v.setAttribute("role","presentation"),v.src=this.getTileUrl(u),v},getTileUrl:function(u){var f={r:Pt?"@2x":"",s:this._getSubdomain(u),x:u.x,y:u.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var v=this._globalTileRange.max.y-u.y;this.options.tms&&(f.y=v),f["-y"]=v}return Ze(this._url,H(f,this.options))},_tileOnLoad:function(u,f){ht?setTimeout(le(u,this,null,f),0):u(null,f)},_tileOnError:function(u,f,v){var T=this.options.errorTileUrl;T&&f.getAttribute("src")!==T&&(f.src=T),u(v,f)},_onTileRemove:function(u){u.tile.onload=null},_getZoomForUrl:function(){var u=this._tileZoom;return this.options.zoomReverse&&(u=this.options.maxZoom-u),u+this.options.zoomOffset},_getSubdomain:function(u){var f=Math.abs(u.x+u.y)%this.options.subdomains.length;return this.options.subdomains[f]},_abortLoading:function(){var u,f;for(u in this._tiles)this._tiles[u].coords.z!==this._tileZoom&&((f=this._tiles[u].el).onload=Ee,f.onerror=Ee,f.complete||(f.src=nt,at(f),delete this._tiles[u]))},_removeTile:function(u){var f=this._tiles[u];if(f)return Wn||f.el.setAttribute("src",nt),$s.prototype._removeTile.call(this,u)},_tileReady:function(u,f,v){if(this._map&&(!v||v.getAttribute("src")!==nt))return $s.prototype._tileReady.call(this,u,f,v)}});function ku(u,f){return new go(u,f)}var rs=go.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(u,f){this._url=u;var v=H({},this.defaultWmsParams);for(var T in f)T in this.options||(v[T]=f[T]);var M=(f=Ve(this,f)).detectRetina&&Pt?2:1,F=this.getTileSize();v.width=F.x*M,v.height=F.y*M,this.wmsParams=v},onAdd:function(u){this._crs=this.options.crs||u.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version),this.wmsParams[this._wmsVersion>=1.3?"crs":"srs"]=this._crs.code,go.prototype.onAdd.call(this,u)},getTileUrl:function(u){var f=this._tileCoordsToNwSe(u),v=this._crs,T=ot(v.project(f[0]),v.project(f[1])),M=T.min,F=T.max,$=(this._wmsVersion>=1.3&&this._crs===xe?[M.y,M.x,F.y,F.x]:[M.x,M.y,F.x,F.y]).join(","),ne=go.prototype.getTileUrl.call(this,u);return ne+ke(this.wmsParams,ne,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+$},setParams:function(u,f){return H(this.wmsParams,u),f||this.redraw(),this}});go.WMS=rs,ku.wms=function Ga(u,f){return new rs(u,f)};var zr=Ri.extend({options:{padding:.1,tolerance:0},initialize:function(u){Ve(this,u),pe(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&ct(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var u={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(u.zoomanim=this._onAnimZoom),u},_onAnimZoom:function(u){this._updateTransform(u.center,u.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(u,f){var v=this._map.getZoomScale(f,this._zoom),T=Pi(this._container),M=this._map.getSize().multiplyBy(.5+this.options.padding),F=this._map.project(this._center,f),ne=this._map.project(u,f).subtract(F),ye=M.multiplyBy(-v).add(T).add(M).subtract(ne);yn?Yn(this._container,ye,v):gn(this._container,ye)},_reset:function(){for(var u in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[u]._reset()},_onZoomEnd:function(){for(var u in this._layers)this._layers[u]._project()},_updatePaths:function(){for(var u in this._layers)this._layers[u]._update()},_update:function(){var u=this.options.padding,f=this._map.getSize(),v=this._map.containerPointToLayerPoint(f.multiplyBy(-u)).round();this._bounds=new jt(v,v.add(f.multiplyBy(1+2*u)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),sl=zr.extend({getEvents:function(){var u=zr.prototype.getEvents.call(this);return u.viewprereset=this._onViewPreReset,u},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){zr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var u=this._container=document.createElement("canvas");Ut(u,"mousemove",this._onMouseMove,this),Ut(u,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ut(u,"mouseout",this._handleMouseOut,this),this._ctx=u.getContext("2d")},_destroyContainer:function(){We(this._redrawRequest),delete this._ctx,at(this._container),Jn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var f in this._redrawBounds=null,this._layers)this._layers[f]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){zr.prototype._update.call(this);var u=this._bounds,f=this._container,v=u.getSize(),T=Pt?2:1;gn(f,u.min),f.width=T*v.x,f.height=T*v.y,f.style.width=v.x+"px",f.style.height=v.y+"px",Pt&&this._ctx.scale(2,2),this._ctx.translate(-u.min.x,-u.min.y),this.fire("update")}},_reset:function(){zr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(u){this._updateDashArray(u),this._layers[pe(u)]=u;var f=u._order={layer:u,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=f),this._drawLast=f,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(u){this._requestRedraw(u)},_removePath:function(u){var f=u._order,v=f.next,T=f.prev;v?v.prev=T:this._drawLast=T,T?T.next=v:this._drawFirst=v,delete u._order,delete this._layers[pe(u)],this._requestRedraw(u)},_updatePath:function(u){this._extendRedrawBounds(u),u._project(),u._update(),this._requestRedraw(u)},_updateStyle:function(u){this._updateDashArray(u),this._requestRedraw(u)},_updateDashArray:function(u){if("string"==typeof u.options.dashArray){var T,M,f=u.options.dashArray.split(/[, ]+/),v=[];for(M=0;M<f.length;M++){if(T=Number(f[M]),isNaN(T))return;v.push(T)}u.options._dashArray=v}else u.options._dashArray=u.options.dashArray},_requestRedraw:function(u){!this._map||(this._extendRedrawBounds(u),this._redrawRequest=this._redrawRequest||ie(this._redraw,this))},_extendRedrawBounds:function(u){if(u._pxBounds){var f=(u.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new jt,this._redrawBounds.extend(u._pxBounds.min.subtract([f,f])),this._redrawBounds.extend(u._pxBounds.max.add([f,f]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var u=this._redrawBounds;if(u){var f=u.getSize();this._ctx.clearRect(u.min.x,u.min.y,f.x,f.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var u,f=this._redrawBounds;if(this._ctx.save(),f){var v=f.getSize();this._ctx.beginPath(),this._ctx.rect(f.min.x,f.min.y,v.x,v.y),this._ctx.clip()}this._drawing=!0;for(var T=this._drawFirst;T;T=T.next)u=T.layer,(!f||u._pxBounds&&u._pxBounds.intersects(f))&&u._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(u,f){if(this._drawing){var v,T,M,F,$=u._parts,ne=$.length,ye=this._ctx;if(ne){for(ye.beginPath(),v=0;v<ne;v++){for(T=0,M=$[v].length;T<M;T++)ye[T?"lineTo":"moveTo"]((F=$[v][T]).x,F.y);f&&ye.closePath()}this._fillStroke(ye,u)}}},_updateCircle:function(u){if(this._drawing&&!u._empty()){var f=u._point,v=this._ctx,T=Math.max(Math.round(u._radius),1),M=(Math.max(Math.round(u._radiusY),1)||T)/T;1!==M&&(v.save(),v.scale(1,M)),v.beginPath(),v.arc(f.x,f.y/M,T,0,2*Math.PI,!1),1!==M&&v.restore(),this._fillStroke(v,u)}},_fillStroke:function(u,f){var v=f.options;v.fill&&(u.globalAlpha=v.fillOpacity,u.fillStyle=v.fillColor||v.color,u.fill(v.fillRule||"evenodd")),v.stroke&&0!==v.weight&&(u.setLineDash&&u.setLineDash(f.options&&f.options._dashArray||[]),u.globalAlpha=v.opacity,u.lineWidth=v.weight,u.strokeStyle=v.color,u.lineCap=v.lineCap,u.lineJoin=v.lineJoin,u.stroke())},_onClick:function(u){for(var v,T,f=this._map.mouseEventToLayerPoint(u),M=this._drawFirst;M;M=M.next)(v=M.layer).options.interactive&&v._containsPoint(f)&&("click"!==u.type&&"preclick"===u.type||!this._map._draggableMoved(v))&&(T=v);T&&(Bo(u),this._fireEvent([T],u))},_onMouseMove:function(u){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var f=this._map.mouseEventToLayerPoint(u);this._handleMouseHover(u,f)}},_handleMouseOut:function(u){var f=this._hoveredLayer;f&&(wn(this._container,"leaflet-interactive"),this._fireEvent([f],u,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(u,f){if(!this._mouseHoverThrottled){for(var v,T,M=this._drawFirst;M;M=M.next)(v=M.layer).options.interactive&&v._containsPoint(f)&&(T=v);T!==this._hoveredLayer&&(this._handleMouseOut(u),T&&(ct(this._container,"leaflet-interactive"),this._fireEvent([T],u,"mouseover"),this._hoveredLayer=T)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],u),this._mouseHoverThrottled=!0,setTimeout(le(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(u,f,v){this._map._fireDOMEvent(f,v||f.type,u)},_bringToFront:function(u){var f=u._order;if(f){var v=f.next,T=f.prev;if(!v)return;v.prev=T,T?T.next=v:v&&(this._drawFirst=v),f.prev=this._drawLast,this._drawLast.next=f,f.next=null,this._drawLast=f,this._requestRedraw(u)}},_bringToBack:function(u){var f=u._order;if(f){var v=f.next,T=f.prev;if(!T)return;T.next=v,v?v.prev=T:T&&(this._drawLast=T),f.prev=null,f.next=this._drawFirst,this._drawFirst.prev=f,this._drawFirst=f,this._requestRedraw(u)}}});function mo(u){return K?new sl(u):null}var Qo=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(u){return document.createElement("<lvml:"+u+' class="lvml">')}}catch(u){return function(f){return document.createElement("<"+f+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),Yl={_initContainer:function(){this._container=Wt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(zr.prototype._update.call(this),this.fire("update"))},_initPath:function(u){var f=u._container=Qo("shape");ct(f,"leaflet-vml-shape "+(this.options.className||"")),f.coordsize="1 1",u._path=Qo("path"),f.appendChild(u._path),this._updateStyle(u),this._layers[pe(u)]=u},_addPath:function(u){var f=u._container;this._container.appendChild(f),u.options.interactive&&u.addInteractiveTarget(f)},_removePath:function(u){var f=u._container;at(f),u.removeInteractiveTarget(f),delete this._layers[pe(u)]},_updateStyle:function(u){var f=u._stroke,v=u._fill,T=u.options,M=u._container;M.stroked=!!T.stroke,M.filled=!!T.fill,T.stroke?(f||(f=u._stroke=Qo("stroke")),M.appendChild(f),f.weight=T.weight+"px",f.color=T.color,f.opacity=T.opacity,f.dashStyle=T.dashArray?_e(T.dashArray)?T.dashArray.join(" "):T.dashArray.replace(/( *, *)/g," "):"",f.endcap=T.lineCap.replace("butt","flat"),f.joinstyle=T.lineJoin):f&&(M.removeChild(f),u._stroke=null),T.fill?(v||(v=u._fill=Qo("fill")),M.appendChild(v),v.color=T.fillColor||T.color,v.opacity=T.fillOpacity):v&&(M.removeChild(v),u._fill=null)},_updateCircle:function(u){var f=u._point.round(),v=Math.round(u._radius),T=Math.round(u._radiusY||v);this._setPath(u,u._empty()?"M0 0":"AL "+f.x+","+f.y+" "+v+","+T+" 0,23592600")},_setPath:function(u,f){u._path.v=f},_bringToFront:function(u){Br(u._container)},_bringToBack:function(u){Rs(u._container)}},ol=J?Qo:qi,Bn=zr.extend({getEvents:function(){var u=zr.prototype.getEvents.call(this);return u.zoomstart=this._onZoomStart,u},_initContainer:function(){this._container=ol("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ol("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){at(this._container),Jn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){zr.prototype._update.call(this);var u=this._bounds,f=u.getSize(),v=this._container;(!this._svgSize||!this._svgSize.equals(f))&&(this._svgSize=f,v.setAttribute("width",f.x),v.setAttribute("height",f.y)),gn(v,u.min),v.setAttribute("viewBox",[u.min.x,u.min.y,f.x,f.y].join(" ")),this.fire("update")}},_initPath:function(u){var f=u._path=ol("path");u.options.className&&ct(f,u.options.className),u.options.interactive&&ct(f,"leaflet-interactive"),this._updateStyle(u),this._layers[pe(u)]=u},_addPath:function(u){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(u._path),u.addInteractiveTarget(u._path)},_removePath:function(u){at(u._path),u.removeInteractiveTarget(u._path),delete this._layers[pe(u)]},_updatePath:function(u){u._project(),u._update()},_updateStyle:function(u){var f=u._path,v=u.options;!f||(v.stroke?(f.setAttribute("stroke",v.color),f.setAttribute("stroke-opacity",v.opacity),f.setAttribute("stroke-width",v.weight),f.setAttribute("stroke-linecap",v.lineCap),f.setAttribute("stroke-linejoin",v.lineJoin),v.dashArray?f.setAttribute("stroke-dasharray",v.dashArray):f.removeAttribute("stroke-dasharray"),v.dashOffset?f.setAttribute("stroke-dashoffset",v.dashOffset):f.removeAttribute("stroke-dashoffset")):f.setAttribute("stroke","none"),v.fill?(f.setAttribute("fill",v.fillColor||v.color),f.setAttribute("fill-opacity",v.fillOpacity),f.setAttribute("fill-rule",v.fillRule||"evenodd")):f.setAttribute("fill","none"))},_updatePoly:function(u,f){this._setPath(u,Fr(u._parts,f))},_updateCircle:function(u){var f=u._point,v=Math.max(Math.round(u._radius),1),M="a"+v+","+(Math.max(Math.round(u._radiusY),1)||v)+" 0 1,0 ",F=u._empty()?"M0 0":"M"+(f.x-v)+","+f.y+M+2*v+",0 "+M+2*-v+",0 ";this._setPath(u,F)},_setPath:function(u,f){u._path.setAttribute("d",f)},_bringToFront:function(u){Br(u._path)},_bringToBack:function(u){Rs(u._path)}});function Qn(u){return Z||J?new Bn(u):null}J&&Bn.include(Yl),zt.include({getRenderer:function(u){var f=u.options.renderer||this._getPaneRenderer(u.options.pane)||this.options.renderer||this._renderer;return f||(f=this._renderer=this._createRenderer()),this.hasLayer(f)||this.addLayer(f),f},_getPaneRenderer:function(u){if("overlayPane"===u||void 0===u)return!1;var f=this._paneRenderers[u];return void 0===f&&(f=this._createRenderer({pane:u}),this._paneRenderers[u]=f),f},_createRenderer:function(u){return this.options.preferCanvas&&mo(u)||Qn(u)}});var _o=co.extend({initialize:function(u,f){co.prototype.initialize.call(this,this._boundsToLatLngs(u),f)},setBounds:function(u){return this.setLatLngs(this._boundsToLatLngs(u))},_boundsToLatLngs:function(u){return[(u=Lt(u)).getSouthWest(),u.getNorthWest(),u.getNorthEast(),u.getSouthEast()]}});Bn.create=ol,Bn.pointsToPath=Fr,Li.geometryToLayer=Ds,Li.coordsToLatLng=ga,Li.coordsToLatLngs=qo,Li.latLngToCoords=Wo,Li.latLngsToCoords=Hs,Li.getFeature=_i,Li.asFeature=Ko,zt.mergeOptions({boxZoom:!0});var qa=pi.extend({initialize:function(u){this._map=u,this._container=u._container,this._pane=u._panes.overlayPane,this._resetStateTimeout=0,u.on("unload",this._destroy,this)},addHooks:function(){Ut(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Jn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){at(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(u){if(!u.shiftKey||1!==u.which&&1!==u.button)return!1;this._clearDeferredResetState(),this._resetState(),Yi(),Fo(),this._startPoint=this._map.mouseEventToContainerPoint(u),Ut(document,{contextmenu:wr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(u){this._moved||(this._moved=!0,this._box=Wt("div","leaflet-zoom-box",this._container),ct(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(u);var f=new jt(this._point,this._startPoint),v=f.getSize();gn(this._box,f.min),this._box.style.width=v.x+"px",this._box.style.height=v.y+"px"},_finish:function(){this._moved&&(at(this._box),wn(this._container,"leaflet-crosshair")),Ji(),Qi(),Jn(document,{contextmenu:wr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(u){if((1===u.which||1===u.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(le(this._resetState,this),0);var f=new it(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(f).fire("boxzoomend",{boxZoomBounds:f})}},_onKeyDown:function(u){27===u.keyCode&&this._finish()}});zt.addInitHook("addHandler","boxZoom",qa),zt.mergeOptions({doubleClickZoom:!0});var is=pi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(u){var f=this._map,v=f.getZoom(),T=f.options.zoomDelta,M=u.originalEvent.shiftKey?v-T:v+T;"center"===f.options.doubleClickZoom?f.setZoom(M):f.setZoomAround(u.containerPoint,M)}});zt.addInitHook("addHandler","doubleClickZoom",is),zt.mergeOptions({dragging:!0,inertia:!hr,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Wa=pi.extend({addHooks:function(){if(!this._draggable){var u=this._map;this._draggable=new Es(u._mapPane,u._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),u.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),u.on("zoomend",this._onZoomEnd,this),u.whenReady(this._onZoomEnd,this))}ct(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){wn(this._map._container,"leaflet-grab"),wn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var u=this._map;if(u._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var f=Lt(this._map.options.maxBounds);this._offsetLimit=ot(this._map.latLngToContainerPoint(f.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(f.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;u.fire("movestart").fire("dragstart"),u.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(u){if(this._map.options.inertia){var f=this._lastTime=+new Date,v=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(v),this._times.push(f),this._prunePositions(f)}this._map.fire("move",u).fire("drag",u)},_prunePositions:function(u){for(;this._positions.length>1&&u-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var u=this._map.getSize().divideBy(2),f=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=f.subtract(u).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(u,f){return u-(u-f)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var u=this._draggable._newPos.subtract(this._draggable._startPos),f=this._offsetLimit;u.x<f.min.x&&(u.x=this._viscousLimit(u.x,f.min.x)),u.y<f.min.y&&(u.y=this._viscousLimit(u.y,f.min.y)),u.x>f.max.x&&(u.x=this._viscousLimit(u.x,f.max.x)),u.y>f.max.y&&(u.y=this._viscousLimit(u.y,f.max.y)),this._draggable._newPos=this._draggable._startPos.add(u)}},_onPreDragWrap:function(){var u=this._worldWidth,f=Math.round(u/2),v=this._initialWorldOffset,T=this._draggable._newPos.x,M=(T-f+v)%u+f-v,F=(T+f+v)%u-f-v,$=Math.abs(M+v)<Math.abs(F+v)?M:F;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=$},_onDragEnd:function(u){var f=this._map,v=f.options,T=!v.inertia||this._times.length<2;if(f.fire("dragend",u),T)f.fire("moveend");else{this._prunePositions(+new Date);var M=this._lastPos.subtract(this._positions[0]),$=v.easeLinearity,ne=M.multiplyBy($/((this._lastTime-this._times[0])/1e3)),ye=ne.distanceTo([0,0]),Te=Math.min(v.inertiaMaxSpeed,ye),Je=ne.multiplyBy(Te/ye),pt=Te/(v.inertiaDeceleration*$),rn=Je.multiplyBy(-pt/2).round();rn.x||rn.y?(rn=f._limitOffset(rn,f.options.maxBounds),ie(function(){f.panBy(rn,{duration:pt,easeLinearity:$,noMoveStart:!0,animate:!0})})):f.fire("moveend")}}});zt.addInitHook("addHandler","dragging",Wa),zt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Zn=pi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(u){this._map=u,this._setPanDelta(u.options.keyboardPanDelta),this._setZoomDelta(u.options.zoomDelta)},addHooks:function(){var u=this._map._container;u.tabIndex<=0&&(u.tabIndex="0"),Ut(u,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Jn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var u=document.body,f=document.documentElement,v=u.scrollTop||f.scrollTop,T=u.scrollLeft||f.scrollLeft;this._map._container.focus(),window.scrollTo(T,v)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(u){var T,M,f=this._panKeys={},v=this.keyCodes;for(T=0,M=v.left.length;T<M;T++)f[v.left[T]]=[-1*u,0];for(T=0,M=v.right.length;T<M;T++)f[v.right[T]]=[u,0];for(T=0,M=v.down.length;T<M;T++)f[v.down[T]]=[0,u];for(T=0,M=v.up.length;T<M;T++)f[v.up[T]]=[0,-1*u]},_setZoomDelta:function(u){var T,M,f=this._zoomKeys={},v=this.keyCodes;for(T=0,M=v.zoomIn.length;T<M;T++)f[v.zoomIn[T]]=u;for(T=0,M=v.zoomOut.length;T<M;T++)f[v.zoomOut[T]]=-u},_addHooks:function(){Ut(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Jn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(u){if(!(u.altKey||u.ctrlKey||u.metaKey)){var T,f=u.keyCode,v=this._map;if(f in this._panKeys)(!v._panAnim||!v._panAnim._inProgress)&&(T=this._panKeys[f],u.shiftKey&&(T=lt(T).multiplyBy(3)),v.panBy(T),v.options.maxBounds&&v.panInsideBounds(v.options.maxBounds));else if(f in this._zoomKeys)v.setZoom(v.getZoom()+(u.shiftKey?3:1)*this._zoomKeys[f]);else{if(27!==f||!v._popup||!v._popup.options.closeOnEscapeKey)return;v.closePopup()}wr(u)}}});zt.addInitHook("addHandler","keyboard",Zn),zt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var yi=pi.extend({addHooks:function(){Ut(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Jn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(u){var f=rl(u),v=this._map.options.wheelDebounceTime;this._delta+=f,this._lastMousePos=this._map.mouseEventToContainerPoint(u),this._startTime||(this._startTime=+new Date);var T=Math.max(v-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(le(this._performZoom,this),T),wr(u)},_performZoom:function(){var u=this._map,f=u.getZoom(),v=this._map.options.zoomSnap||0;u._stop();var M=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2,F=v?Math.ceil(M/v)*v:M,$=u._limitZoom(f+(this._delta>0?F:-F))-f;this._delta=0,this._startTime=null,$&&("center"===u.options.scrollWheelZoom?u.setZoom(f+$):u.setZoomAround(this._lastMousePos,f+$))}});zt.addInitHook("addHandler","scrollWheelZoom",yi),zt.mergeOptions({tap:!0,tapTolerance:15});var Is=pi.extend({addHooks:function(){Ut(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Jn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(u){if(u.touches){if(Or(u),this._fireClick=!0,u.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var f=u.touches[0],v=f.target;this._startPos=this._newPos=new ee(f.clientX,f.clientY),v.tagName&&"a"===v.tagName.toLowerCase()&&ct(v,"leaflet-active"),this._holdTimeout=setTimeout(le(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",f))},this),1e3),this._simulateEvent("mousedown",f),Ut(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(u){if(clearTimeout(this._holdTimeout),Jn(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&u&&u.changedTouches){var f=u.changedTouches[0],v=f.target;v&&v.tagName&&"a"===v.tagName.toLowerCase()&&wn(v,"leaflet-active"),this._simulateEvent("mouseup",f),this._isTapValid()&&this._simulateEvent("click",f)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(u){var f=u.touches[0];this._newPos=new ee(f.clientX,f.clientY),this._simulateEvent("mousemove",f)},_simulateEvent:function(u,f){var v=document.createEvent("MouseEvents");v._simulated=!0,f.target._simulatedClick=!0,v.initMouseEvent(u,!0,!0,window,1,f.screenX,f.screenY,f.clientX,f.clientY,!1,!1,!1,!1,0,null),f.target.dispatchEvent(v)}});Ae&&(!Ye||qt)&&zt.addInitHook("addHandler","tap",Is),zt.mergeOptions({touchZoom:Ae&&!hr,bounceAtZoomLimits:!0});var Xn=pi.extend({addHooks:function(){ct(this._map._container,"leaflet-touch-zoom"),Ut(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){wn(this._map._container,"leaflet-touch-zoom"),Jn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(u){var f=this._map;if(u.touches&&2===u.touches.length&&!f._animatingZoom&&!this._zooming){var v=f.mouseEventToContainerPoint(u.touches[0]),T=f.mouseEventToContainerPoint(u.touches[1]);this._centerPoint=f.getSize()._divideBy(2),this._startLatLng=f.containerPointToLatLng(this._centerPoint),"center"!==f.options.touchZoom&&(this._pinchStartLatLng=f.containerPointToLatLng(v.add(T)._divideBy(2))),this._startDist=v.distanceTo(T),this._startZoom=f.getZoom(),this._moved=!1,this._zooming=!0,f._stop(),Ut(document,"touchmove",this._onTouchMove,this),Ut(document,"touchend",this._onTouchEnd,this),Or(u)}},_onTouchMove:function(u){if(u.touches&&2===u.touches.length&&this._zooming){var f=this._map,v=f.mouseEventToContainerPoint(u.touches[0]),T=f.mouseEventToContainerPoint(u.touches[1]),M=v.distanceTo(T)/this._startDist;if(this._zoom=f.getScaleZoom(M,this._startZoom),!f.options.bounceAtZoomLimits&&(this._zoom<f.getMinZoom()&&M<1||this._zoom>f.getMaxZoom()&&M>1)&&(this._zoom=f._limitZoom(this._zoom)),"center"===f.options.touchZoom){if(this._center=this._startLatLng,1===M)return}else{var F=v._add(T)._divideBy(2)._subtract(this._centerPoint);if(1===M&&0===F.x&&0===F.y)return;this._center=f.unproject(f.project(this._pinchStartLatLng,this._zoom).subtract(F),this._zoom)}this._moved||(f._moveStart(!0,!1),this._moved=!0),We(this._animRequest);var $=le(f._move,f,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=ie($,this,!0),Or(u)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,We(this._animRequest),Jn(document,"touchmove",this._onTouchMove,this),Jn(document,"touchend",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});zt.addInitHook("addHandler","touchZoom",Xn),zt.BoxZoom=qa,zt.DoubleClickZoom=is,zt.Drag=Wa,zt.Keyboard=Zn,zt.ScrollWheelZoom=yi,zt.Tap=Is,zt.TouchZoom=Xn,k.version="1.7.1",k.Control=Nr,k.control=An,k.Browser=ue,k.Evented=Fe,k.Mixin=Sn,k.Util=re,k.Class=ge,k.Handler=pi,k.extend=H,k.bind=le,k.stamp=pe,k.setOptions=Ve,k.DomEvent=ql,k.DomUtil=la,k.PosAnimation=fi,k.Draggable=Es,k.LineUtil=da,k.PolyUtil=Ho,k.Point=ee,k.point=lt,k.Bounds=jt,k.bounds=ot,k.Transformation=mr,k.transformation=_r,k.Projection=Wl,k.LatLng=wt,k.latLng=hn,k.LatLngBounds=it,k.latLngBounds=Lt,k.CRS=nn,k.GeoJSON=Li,k.geoJSON=Mu,k.geoJson=ho,k.Layer=Ri,k.LayerGroup=mn,k.layerGroup=function(u,f){return new mn(u,f)},k.FeatureGroup=Qr,k.featureGroup=function(u,f){return new Qr(u,f)},k.ImageOverlay=Fi,k.imageOverlay=function(u,f,v){return new Fi(u,f,v)},k.VideoOverlay=kr,k.videoOverlay=function Zs(u,f,v){return new kr(u,f,v)},k.SVGOverlay=Un,k.svgOverlay=function Kl(u,f,v){return new Un(u,f,v)},k.DivOverlay=Yo,k.Popup=Ou,k.popup=function(u,f){return new Ou(u,f)},k.Tooltip=fo,k.tooltip=function(u,f){return new fo(u,f)},k.Icon=js,k.icon=function fa(u){return new js(u)},k.DivIcon=Jo,k.divIcon=function Ru(u){return new Jo(u)},k.Marker=Cs,k.marker=function Zo(u,f){return new Cs(u,f)},k.TileLayer=go,k.tileLayer=ku,k.GridLayer=$s,k.gridLayer=function sr(u){return new $s(u)},k.SVG=Bn,k.svg=Qn,k.Renderer=zr,k.Canvas=sl,k.canvas=mo,k.Path=Nn,k.CircleMarker=Xr,k.circleMarker=function $o(u,f){return new Xr(u,f)},k.Circle=zs,k.circle=function ei(u,f,v){return new zs(u,f,v)},k.Polyline=Ts,k.polyline=function Go(u,f){return new Ts(u,f)},k.Polygon=co,k.polygon=function pa(u,f){return new co(u,f)},k.Rectangle=_o,k.rectangle=function al(u,f){return new _o(u,f)},k.Map=zt,k.map=function Ba(u,f){return new zt(u,f)};var Xt=window.L;k.noConflict=function(){return window.L=Xt,this},window.L=k}(Le)},818:(Ct,Le,k)=>{"use strict";k.d(Le,{y:()=>q});var l=k(2003),H=k(4813),Q=k(3122),le=k(8330);var Pe=k(2046),Se=k(5975),Ee=k(1519);let q=(()=>{class ke{constructor(Ze){Ze&&(this._subscribe=Ze)}lift(Ze){const _e=new ke;return _e.source=this,_e.operator=Ze,_e}subscribe(Ze,_e,Ie){const nt=function Ve(ke){return ke&&ke instanceof l.Lv||function ae(ke){return ke&&(0,Se.m)(ke.next)&&(0,Se.m)(ke.error)&&(0,Se.m)(ke.complete)}(ke)&&(0,H.Nn)(ke)}(Ze)?Ze:new l.Hp(Ze,_e,Ie);return(0,Ee.x)(()=>{const{operator:Ge,source:Re}=this;nt.add(Ge?Ge.call(nt,Re):Re?this._subscribe(nt):this._trySubscribe(nt))}),nt}_trySubscribe(Ze){try{return this._subscribe(Ze)}catch(_e){Ze.error(_e)}}forEach(Ze,_e){return new(_e=W(_e))((Ie,nt)=>{const Ge=new l.Hp({next:Re=>{try{Ze(Re)}catch(Ne){nt(Ne),Ge.unsubscribe()}},error:nt,complete:Ie});this.subscribe(Ge)})}_subscribe(Ze){var _e;return null===(_e=this.source)||void 0===_e?void 0:_e.subscribe(Ze)}[Q.L](){return this}pipe(...Ze){return function pe(ke){return 0===ke.length?le.y:1===ke.length?ke[0]:function(Ze){return ke.reduce((_e,Ie)=>Ie(_e),Ze)}}(Ze)(this)}toPromise(Ze){return new(Ze=W(Ze))((_e,Ie)=>{let nt;this.subscribe(Ge=>nt=Ge,Ge=>Ie(Ge),()=>_e(nt))})}}return ke.create=je=>new ke(je),ke})();function W(ke){var je;return null!==(je=null!=ke?ke:Pe.v.Promise)&&void 0!==je?je:Promise}},8023:(Ct,Le,k)=>{"use strict";k.d(Le,{x:()=>Pe});var l=k(818),H=k(4813);const le=(0,k(5776).d)(Ee=>function(){Ee(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var fe=k(8308),pe=k(1519);let Pe=(()=>{class Ee extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(W){const ae=new Se(this,this);return ae.operator=W,ae}_throwIfClosed(){if(this.closed)throw new le}next(W){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ae of this.currentObservers)ae.next(W)}})}error(W){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=W;const{observers:ae}=this;for(;ae.length;)ae.shift().error(W)}})}complete(){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:W}=this;for(;W.length;)W.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var W;return(null===(W=this.observers)||void 0===W?void 0:W.length)>0}_trySubscribe(W){return this._throwIfClosed(),super._trySubscribe(W)}_subscribe(W){return this._throwIfClosed(),this._checkFinalizedStatuses(W),this._innerSubscribe(W)}_innerSubscribe(W){const{hasError:ae,isStopped:Ve,observers:ke}=this;return ae||Ve?H.Lc:(this.currentObservers=null,ke.push(W),new H.w0(()=>{this.currentObservers=null,(0,fe.P)(ke,W)}))}_checkFinalizedStatuses(W){const{hasError:ae,thrownError:Ve,isStopped:ke}=this;ae?W.error(Ve):ke&&W.complete()}asObservable(){const W=new l.y;return W.source=this,W}}return Ee.create=(q,W)=>new Se(q,W),Ee})();class Se extends Pe{constructor(q,W){super(),this.destination=q,this.source=W}next(q){var W,ae;null===(ae=null===(W=this.destination)||void 0===W?void 0:W.next)||void 0===ae||ae.call(W,q)}error(q){var W,ae;null===(ae=null===(W=this.destination)||void 0===W?void 0:W.error)||void 0===ae||ae.call(W,q)}complete(){var q,W;null===(W=null===(q=this.destination)||void 0===q?void 0:q.complete)||void 0===W||W.call(q)}_subscribe(q){var W,ae;return null!==(ae=null===(W=this.source)||void 0===W?void 0:W.subscribe(q))&&void 0!==ae?ae:H.Lc}}},2003:(Ct,Le,k)=>{"use strict";k.d(Le,{Hp:()=>Ze,Lv:()=>ae});var l=k(5975),H=k(4813),Q=k(2046),le=k(4922);function fe(){}const pe=Ee("C",void 0,void 0);function Ee(Re,Ne,Ce){return{kind:Re,value:Ne,error:Ce}}var q=k(4146),W=k(1519);class ae extends H.w0{constructor(Ne){super(),this.isStopped=!1,Ne?(this.destination=Ne,(0,H.Nn)(Ne)&&Ne.add(this)):this.destination=Ge}static create(Ne,Ce,et){return new Ze(Ne,Ce,et)}next(Ne){this.isStopped?nt(function Se(Re){return Ee("N",Re,void 0)}(Ne),this):this._next(Ne)}error(Ne){this.isStopped?nt(function Pe(Re){return Ee("E",void 0,Re)}(Ne),this):(this.isStopped=!0,this._error(Ne))}complete(){this.isStopped?nt(pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ne){this.destination.next(Ne)}_error(Ne){try{this.destination.error(Ne)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ve=Function.prototype.bind;function ke(Re,Ne){return Ve.call(Re,Ne)}class je{constructor(Ne){this.partialObserver=Ne}next(Ne){const{partialObserver:Ce}=this;if(Ce.next)try{Ce.next(Ne)}catch(et){_e(et)}}error(Ne){const{partialObserver:Ce}=this;if(Ce.error)try{Ce.error(Ne)}catch(et){_e(et)}else _e(Ne)}complete(){const{partialObserver:Ne}=this;if(Ne.complete)try{Ne.complete()}catch(Ce){_e(Ce)}}}class Ze extends ae{constructor(Ne,Ce,et){let ie;if(super(),(0,l.m)(Ne)||!Ne)ie={next:null!=Ne?Ne:void 0,error:null!=Ce?Ce:void 0,complete:null!=et?et:void 0};else{let We;this&&Q.v.useDeprecatedNextContext?(We=Object.create(Ne),We.unsubscribe=()=>this.unsubscribe(),ie={next:Ne.next&&ke(Ne.next,We),error:Ne.error&&ke(Ne.error,We),complete:Ne.complete&&ke(Ne.complete,We)}):ie=Ne}this.destination=new je(ie)}}function _e(Re){Q.v.useDeprecatedSynchronousErrorHandling?(0,W.O)(Re):(0,le.h)(Re)}function nt(Re,Ne){const{onStoppedNotification:Ce}=Q.v;Ce&&q.z.setTimeout(()=>Ce(Re,Ne))}const Ge={closed:!0,next:fe,error:function Ie(Re){throw Re},complete:fe}},4813:(Ct,Le,k)=>{"use strict";k.d(Le,{Lc:()=>pe,w0:()=>fe,Nn:()=>Pe});var l=k(5975);const Q=(0,k(5776).d)(Ee=>function(W){Ee(this),this.message=W?`${W.length} errors occurred during unsubscription:\n${W.map((ae,Ve)=>`${Ve+1}) ${ae.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=W});var le=k(8308);class fe{constructor(q){this.initialTeardown=q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let q;if(!this.closed){this.closed=!0;const{_parentage:W}=this;if(W)if(this._parentage=null,Array.isArray(W))for(const ke of W)ke.remove(this);else W.remove(this);const{initialTeardown:ae}=this;if((0,l.m)(ae))try{ae()}catch(ke){q=ke instanceof Q?ke.errors:[ke]}const{_finalizers:Ve}=this;if(Ve){this._finalizers=null;for(const ke of Ve)try{Se(ke)}catch(je){q=null!=q?q:[],je instanceof Q?q=[...q,...je.errors]:q.push(je)}}if(q)throw new Q(q)}}add(q){var W;if(q&&q!==this)if(this.closed)Se(q);else{if(q instanceof fe){if(q.closed||q._hasParent(this))return;q._addParent(this)}(this._finalizers=null!==(W=this._finalizers)&&void 0!==W?W:[]).push(q)}}_hasParent(q){const{_parentage:W}=this;return W===q||Array.isArray(W)&&W.includes(q)}_addParent(q){const{_parentage:W}=this;this._parentage=Array.isArray(W)?(W.push(q),W):W?[W,q]:q}_removeParent(q){const{_parentage:W}=this;W===q?this._parentage=null:Array.isArray(W)&&(0,le.P)(W,q)}remove(q){const{_finalizers:W}=this;W&&(0,le.P)(W,q),q instanceof fe&&q._removeParent(this)}}fe.EMPTY=(()=>{const Ee=new fe;return Ee.closed=!0,Ee})();const pe=fe.EMPTY;function Pe(Ee){return Ee instanceof fe||Ee&&"closed"in Ee&&(0,l.m)(Ee.remove)&&(0,l.m)(Ee.add)&&(0,l.m)(Ee.unsubscribe)}function Se(Ee){(0,l.m)(Ee)?Ee():Ee.unsubscribe()}},2046:(Ct,Le,k)=>{"use strict";k.d(Le,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9018:(Ct,Le,k)=>{"use strict";k.d(Le,{E:()=>H});const H=new(k(818).y)(fe=>fe.complete())},237:(Ct,Le,k)=>{"use strict";k.d(Le,{D:()=>Ne});var l=k(5955),H=k(7513),Q=k(4119),pe=k(818),Se=k(4565),Ee=k(5975),q=k(6903);function ae(Ce,et){if(!Ce)throw new Error("Iterable cannot be null");return new pe.y(ie=>{(0,q.f)(ie,et,()=>{const We=Ce[Symbol.asyncIterator]();(0,q.f)(ie,et,()=>{We.next().then(re=>{re.done?ie.complete():ie.next(re.value)})},0,!0)})})}var Ve=k(2021),ke=k(9450),je=k(6602),Ze=k(6920),_e=k(2604),Ie=k(5626),nt=k(1559);function Ne(Ce,et){return et?function Re(Ce,et){if(null!=Ce){if((0,Ve.c)(Ce))return function le(Ce,et){return(0,l.Xf)(Ce).pipe((0,Q.R)(et),(0,H.Q)(et))}(Ce,et);if((0,je.z)(Ce))return function Pe(Ce,et){return new pe.y(ie=>{let We=0;return et.schedule(function(){We===Ce.length?ie.complete():(ie.next(Ce[We++]),ie.closed||this.schedule())})})}(Ce,et);if((0,ke.t)(Ce))return function fe(Ce,et){return(0,l.Xf)(Ce).pipe((0,Q.R)(et),(0,H.Q)(et))}(Ce,et);if((0,_e.D)(Ce))return ae(Ce,et);if((0,Ze.T)(Ce))return function W(Ce,et){return new pe.y(ie=>{let We;return(0,q.f)(ie,et,()=>{We=Ce[Se.h](),(0,q.f)(ie,et,()=>{let re,ge;try{({value:re,done:ge}=We.next())}catch(ve){return void ie.error(ve)}ge?ie.complete():ie.next(re)},0,!0)}),()=>(0,Ee.m)(null==We?void 0:We.return)&&We.return()})}(Ce,et);if((0,nt.L)(Ce))return function Ge(Ce,et){return ae((0,nt.Q)(Ce),et)}(Ce,et)}throw(0,Ie.z)(Ce)}(Ce,et):(0,l.Xf)(Ce)}},5955:(Ct,Le,k)=>{"use strict";k.d(Le,{Xf:()=>Ve});var l=k(4762),H=k(6602),Q=k(9450),le=k(818),fe=k(2021),pe=k(2604),Pe=k(5626),Se=k(6920),Ee=k(1559),q=k(5975),W=k(4922),ae=k(3122);function Ve(Re){if(Re instanceof le.y)return Re;if(null!=Re){if((0,fe.c)(Re))return function ke(Re){return new le.y(Ne=>{const Ce=Re[ae.L]();if((0,q.m)(Ce.subscribe))return Ce.subscribe(Ne);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Re);if((0,H.z)(Re))return function je(Re){return new le.y(Ne=>{for(let Ce=0;Ce<Re.length&&!Ne.closed;Ce++)Ne.next(Re[Ce]);Ne.complete()})}(Re);if((0,Q.t)(Re))return function Ze(Re){return new le.y(Ne=>{Re.then(Ce=>{Ne.closed||(Ne.next(Ce),Ne.complete())},Ce=>Ne.error(Ce)).then(null,W.h)})}(Re);if((0,pe.D)(Re))return Ie(Re);if((0,Se.T)(Re))return function _e(Re){return new le.y(Ne=>{for(const Ce of Re)if(Ne.next(Ce),Ne.closed)return;Ne.complete()})}(Re);if((0,Ee.L)(Re))return function nt(Re){return Ie((0,Ee.Q)(Re))}(Re)}throw(0,Pe.z)(Re)}function Ie(Re){return new le.y(Ne=>{(function Ge(Re,Ne){var Ce,et,ie,We;return(0,l.mG)(this,void 0,void 0,function*(){try{for(Ce=(0,l.KL)(Re);!(et=yield Ce.next()).done;)if(Ne.next(et.value),Ne.closed)return}catch(re){ie={error:re}}finally{try{et&&!et.done&&(We=Ce.return)&&(yield We.call(Ce))}finally{if(ie)throw ie.error}}Ne.complete()})})(Re,Ne).catch(Ce=>Ne.error(Ce))})}},1860:(Ct,Le,k)=>{"use strict";k.d(Le,{T:()=>pe});var l=k(549),H=k(5955),Q=k(9018),le=k(1635),fe=k(237);function pe(...Pe){const Se=(0,le.yG)(Pe),Ee=(0,le._6)(Pe,1/0),q=Pe;return q.length?1===q.length?(0,H.Xf)(q[0]):(0,l.J)(Ee)((0,fe.D)(q,Se)):Q.E}},8499:(Ct,Le,k)=>{"use strict";k.d(Le,{x:()=>H});var l=k(2003);function H(le,fe,pe,Pe,Se){return new Q(le,fe,pe,Pe,Se)}class Q extends l.Lv{constructor(fe,pe,Pe,Se,Ee,q){super(fe),this.onFinalize=Ee,this.shouldUnsubscribe=q,this._next=pe?function(W){try{pe(W)}catch(ae){fe.error(ae)}}:super._next,this._error=Se?function(W){try{Se(W)}catch(ae){fe.error(ae)}finally{this.unsubscribe()}}:super._error,this._complete=Pe?function(){try{Pe()}catch(W){fe.error(W)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var fe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:pe}=this;super.unsubscribe(),!pe&&(null===(fe=this.onFinalize)||void 0===fe||fe.call(this))}}}},7969:(Ct,Le,k)=>{"use strict";k.d(Le,{U:()=>Q});var l=k(2085),H=k(8499);function Q(le,fe){return(0,l.e)((pe,Pe)=>{let Se=0;pe.subscribe((0,H.x)(Pe,Ee=>{Pe.next(le.call(fe,Ee,Se++))}))})}},549:(Ct,Le,k)=>{"use strict";k.d(Le,{J:()=>Q});var l=k(4882),H=k(8330);function Q(le=1/0){return(0,l.z)(H.y,le)}},4882:(Ct,Le,k)=>{"use strict";k.d(Le,{z:()=>Se});var l=k(7969),H=k(5955),Q=k(2085),le=k(6903),fe=k(8499),Pe=k(5975);function Se(Ee,q,W=1/0){return(0,Pe.m)(q)?Se((ae,Ve)=>(0,l.U)((ke,je)=>q(ae,ke,Ve,je))((0,H.Xf)(Ee(ae,Ve))),W):("number"==typeof q&&(W=q),(0,Q.e)((ae,Ve)=>function pe(Ee,q,W,ae,Ve,ke,je,Ze){const _e=[];let Ie=0,nt=0,Ge=!1;const Re=()=>{Ge&&!_e.length&&!Ie&&q.complete()},Ne=et=>Ie<ae?Ce(et):_e.push(et),Ce=et=>{ke&&q.next(et),Ie++;let ie=!1;(0,H.Xf)(W(et,nt++)).subscribe((0,fe.x)(q,We=>{null==Ve||Ve(We),ke?Ne(We):q.next(We)},()=>{ie=!0},void 0,()=>{if(ie)try{for(Ie--;_e.length&&Ie<ae;){const We=_e.shift();je?(0,le.f)(q,je,()=>Ce(We)):Ce(We)}Re()}catch(We){q.error(We)}}))};return Ee.subscribe((0,fe.x)(q,Ne,()=>{Ge=!0,Re()})),()=>{null==Ze||Ze()}}(ae,Ve,Ee,W)))}},7513:(Ct,Le,k)=>{"use strict";k.d(Le,{Q:()=>le});var l=k(6903),H=k(2085),Q=k(8499);function le(fe,pe=0){return(0,H.e)((Pe,Se)=>{Pe.subscribe((0,Q.x)(Se,Ee=>(0,l.f)(Se,fe,()=>Se.next(Ee),pe),()=>(0,l.f)(Se,fe,()=>Se.complete(),pe),Ee=>(0,l.f)(Se,fe,()=>Se.error(Ee),pe)))})}},815:(Ct,Le,k)=>{"use strict";k.d(Le,{B:()=>pe});var l=k(237),H=k(5598),Q=k(8023),le=k(2003),fe=k(2085);function pe(Se={}){const{connector:Ee=(()=>new Q.x),resetOnError:q=!0,resetOnComplete:W=!0,resetOnRefCountZero:ae=!0}=Se;return Ve=>{let ke=null,je=null,Ze=null,_e=0,Ie=!1,nt=!1;const Ge=()=>{null==je||je.unsubscribe(),je=null},Re=()=>{Ge(),ke=Ze=null,Ie=nt=!1},Ne=()=>{const Ce=ke;Re(),null==Ce||Ce.unsubscribe()};return(0,fe.e)((Ce,et)=>{_e++,!nt&&!Ie&&Ge();const ie=Ze=null!=Ze?Ze:Ee();et.add(()=>{_e--,0===_e&&!nt&&!Ie&&(je=Pe(Ne,ae))}),ie.subscribe(et),ke||(ke=new le.Hp({next:We=>ie.next(We),error:We=>{nt=!0,Ge(),je=Pe(Re,q,We),ie.error(We)},complete:()=>{Ie=!0,Ge(),je=Pe(Re,W),ie.complete()}}),(0,l.D)(Ce).subscribe(ke))})(Ve)}}function Pe(Se,Ee,...q){return!0===Ee?(Se(),null):!1===Ee?null:Ee(...q).pipe((0,H.q)(1)).subscribe(()=>Se())}},4119:(Ct,Le,k)=>{"use strict";k.d(Le,{R:()=>H});var l=k(2085);function H(Q,le=0){return(0,l.e)((fe,pe)=>{pe.add(Q.schedule(()=>fe.subscribe(pe),le))})}},5598:(Ct,Le,k)=>{"use strict";k.d(Le,{q:()=>le});var l=k(9018),H=k(2085),Q=k(8499);function le(fe){return fe<=0?()=>l.E:(0,H.e)((pe,Pe)=>{let Se=0;pe.subscribe((0,Q.x)(Pe,Ee=>{++Se<=fe&&(Pe.next(Ee),fe<=Se&&Pe.complete())}))})}},8168:(Ct,Le,k)=>{"use strict";k.d(Le,{b:()=>fe});var l=k(5975),H=k(2085),Q=k(8499),le=k(8330);function fe(pe,Pe,Se){const Ee=(0,l.m)(pe)||Pe||Se?{next:pe,error:Pe,complete:Se}:pe;return Ee?(0,H.e)((q,W)=>{var ae;null===(ae=Ee.subscribe)||void 0===ae||ae.call(Ee);let Ve=!0;q.subscribe((0,Q.x)(W,ke=>{var je;null===(je=Ee.next)||void 0===je||je.call(Ee,ke),W.next(ke)},()=>{var ke;Ve=!1,null===(ke=Ee.complete)||void 0===ke||ke.call(Ee),W.complete()},ke=>{var je;Ve=!1,null===(je=Ee.error)||void 0===je||je.call(Ee,ke),W.error(ke)},()=>{var ke,je;Ve&&(null===(ke=Ee.unsubscribe)||void 0===ke||ke.call(Ee)),null===(je=Ee.finalize)||void 0===je||je.call(Ee)}))}):le.y}},2069:(Ct,Le,k)=>{"use strict";k.d(Le,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},4146:(Ct,Le,k)=>{"use strict";k.d(Le,{z:()=>l});const l={setTimeout(H,Q,...le){const{delegate:fe}=l;return(null==fe?void 0:fe.setTimeout)?fe.setTimeout(H,Q,...le):setTimeout(H,Q,...le)},clearTimeout(H){const{delegate:Q}=l;return((null==Q?void 0:Q.clearTimeout)||clearTimeout)(H)},delegate:void 0}},4565:(Ct,Le,k)=>{"use strict";k.d(Le,{h:()=>H});const H=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3122:(Ct,Le,k)=>{"use strict";k.d(Le,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},1635:(Ct,Le,k)=>{"use strict";k.d(Le,{_6:()=>pe,jO:()=>le,yG:()=>fe});var l=k(5975);function Q(Pe){return Pe[Pe.length-1]}function le(Pe){return(0,l.m)(Q(Pe))?Pe.pop():void 0}function fe(Pe){return function H(Pe){return Pe&&(0,l.m)(Pe.schedule)}(Q(Pe))?Pe.pop():void 0}function pe(Pe,Se){return"number"==typeof Q(Pe)?Pe.pop():Se}},8308:(Ct,Le,k)=>{"use strict";function l(H,Q){if(H){const le=H.indexOf(Q);0<=le&&H.splice(le,1)}}k.d(Le,{P:()=>l})},5776:(Ct,Le,k)=>{"use strict";function l(H){const le=H(fe=>{Error.call(fe),fe.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}k.d(Le,{d:()=>l})},1519:(Ct,Le,k)=>{"use strict";k.d(Le,{O:()=>le,x:()=>Q});var l=k(2046);let H=null;function Q(fe){if(l.v.useDeprecatedSynchronousErrorHandling){const pe=!H;if(pe&&(H={errorThrown:!1,error:null}),fe(),pe){const{errorThrown:Pe,error:Se}=H;if(H=null,Pe)throw Se}}else fe()}function le(fe){l.v.useDeprecatedSynchronousErrorHandling&&H&&(H.errorThrown=!0,H.error=fe)}},6903:(Ct,Le,k)=>{"use strict";function l(H,Q,le,fe=0,pe=!1){const Pe=Q.schedule(function(){le(),pe?H.add(this.schedule(null,fe)):this.unsubscribe()},fe);if(H.add(Pe),!pe)return Pe}k.d(Le,{f:()=>l})},8330:(Ct,Le,k)=>{"use strict";function l(H){return H}k.d(Le,{y:()=>l})},6602:(Ct,Le,k)=>{"use strict";k.d(Le,{z:()=>l});const l=H=>H&&"number"==typeof H.length&&"function"!=typeof H},2604:(Ct,Le,k)=>{"use strict";k.d(Le,{D:()=>H});var l=k(5975);function H(Q){return Symbol.asyncIterator&&(0,l.m)(null==Q?void 0:Q[Symbol.asyncIterator])}},5975:(Ct,Le,k)=>{"use strict";function l(H){return"function"==typeof H}k.d(Le,{m:()=>l})},2021:(Ct,Le,k)=>{"use strict";k.d(Le,{c:()=>Q});var l=k(3122),H=k(5975);function Q(le){return(0,H.m)(le[l.L])}},6920:(Ct,Le,k)=>{"use strict";k.d(Le,{T:()=>Q});var l=k(4565),H=k(5975);function Q(le){return(0,H.m)(null==le?void 0:le[l.h])}},9450:(Ct,Le,k)=>{"use strict";k.d(Le,{t:()=>H});var l=k(5975);function H(Q){return(0,l.m)(null==Q?void 0:Q.then)}},1559:(Ct,Le,k)=>{"use strict";k.d(Le,{L:()=>le,Q:()=>Q});var l=k(4762),H=k(5975);function Q(fe){return(0,l.FC)(this,arguments,function*(){const Pe=fe.getReader();try{for(;;){const{value:Se,done:Ee}=yield(0,l.qq)(Pe.read());if(Ee)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(Se)}}finally{Pe.releaseLock()}})}function le(fe){return(0,H.m)(null==fe?void 0:fe.getReader)}},2085:(Ct,Le,k)=>{"use strict";k.d(Le,{A:()=>H,e:()=>Q});var l=k(5975);function H(le){return(0,l.m)(null==le?void 0:le.lift)}function Q(le){return fe=>{if(H(fe))return fe.lift(function(pe){try{return le(pe,this)}catch(Pe){this.error(Pe)}});throw new TypeError("Unable to lift unknown Observable type")}}},4922:(Ct,Le,k)=>{"use strict";k.d(Le,{h:()=>Q});var l=k(2046),H=k(4146);function Q(le){H.z.setTimeout(()=>{const{onUnhandledError:fe}=l.v;if(!fe)throw le;fe(le)})}},5626:(Ct,Le,k)=>{"use strict";function l(H){return new TypeError(`You provided ${null!==H&&"object"==typeof H?"an invalid object":`'${H}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Le,{z:()=>l})},1526:(Ct,Le,k)=>{"use strict";var l=k(9724);let H=null;function Q(){return H}const Pe=new l.OlP("DocumentToken");let Se=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Ee(){return(0,l.LFG)(W)}()},providedIn:"platform"}),n})();const q=new l.OlP("Location Initialized");let W=(()=>{class n extends Se{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Q().getBaseHref(this._doc)}onPopState(t){const r=Q().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Q().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,o){ae()?this._history.pushState(t,r,o):this.location.hash=o}replaceState(t,r,o){ae()?this._history.replaceState(t,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Pe))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Ve(){return new W((0,l.LFG)(Pe))}()},providedIn:"platform"}),n})();function ae(){return!!window.history.pushState}function ke(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function je(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ze(n){return n&&"?"!==n[0]?"?"+n:n}let _e=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Ie(n){const e=(0,l.LFG)(Pe).location;return new Ge((0,l.LFG)(Se),e&&e.origin||"")}()},providedIn:"root"}),n})();const nt=new l.OlP("appBaseHref");let Ge=(()=>{class n extends _e{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ke(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ze(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,c){const p=this.prepareExternalUrl(o+Ze(c));this._platformLocation.pushState(t,r,p)}replaceState(t,r,o,c){const p=this.prepareExternalUrl(o+Ze(c));this._platformLocation.replaceState(t,r,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Se),l.LFG(nt,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Re=(()=>{class n extends _e{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=ke(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,c){let p=this.prepareExternalUrl(o+Ze(c));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.pushState(t,r,p)}replaceState(t,r,o,c){let p=this.prepareExternalUrl(o+Ze(c));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Se),l.LFG(nt,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ne=(()=>{class n{constructor(t,r){this._subject=new l.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const o=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=je(ie(o)),this._platformStrategy.onPopState(c=>{this._subject.emit({url:this.path(!0),pop:!0,state:c.state,type:c.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ze(r))}normalize(t){return n.stripTrailingSlash(function et(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,ie(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._platformStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ze(r)),o)}replaceState(t,r="",o=null){this._platformStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ze(r)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformStrategy).historyGo)||void 0===o||o.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=Ze,n.joinWithSlash=ke,n.stripTrailingSlash=je,n.\u0275fac=function(t){return new(t||n)(l.LFG(_e),l.LFG(Se))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Ce(){return new Ne((0,l.LFG)(_e),(0,l.LFG)(Se))}()},providedIn:"root"}),n})();function ie(n){return n.replace(/\/index.html$/,"")}function Ns(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,c]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(c)}return null}class ci{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ct=(()=>{class n{constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,c,p)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new ci(o.item,this._ngForOf,-1,-1),null===p?void 0:p);else if(null==p)r.remove(null===c?void 0:c);else if(null!==c){const _=r.get(c);r.move(_,p),wn(_,o)}});for(let o=0,c=r.length;o<c;o++){const _=r.get(o).context;_.index=o,_.count=c,_.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{wn(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function wn(n,e){n.context.$implicit=e.item}let Hn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Qt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Lo("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Lo("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Qt{constructor(){this.$implicit=null,this.ngIf=null}}function Lo(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}class ua{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Yn=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),gn=(()=>{class n{constructor(t,r,o){this.ngSwitch=o,o._addCase(),this._view=new ua(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(Yn,9))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),ql=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();let Au=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new ja((0,l.LFG)(Pe),window)}),n})();class ja{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function uo(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const c=o.shadowRoot;if(c){const p=c.getElementById(e)||c.querySelector(`[name="${e}"]`);if(p)return p}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(r-c[0],o-c[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=es(this.window.history)||es(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function es(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Sn{}class Us extends class Vs extends class pe{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function fe(n){H||(H=n)}(new Us)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Es(){return En=En||document.querySelector("base"),En?En.getAttribute("href"):null}();return null==t?null:function bs(n){lo=lo||document.createElement("a"),lo.setAttribute("href",n);const e=lo.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){En=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ns(document.cookie,e)}}let lo,En=null;const xr=new l.OlP("TRANSITION_ID"),zo=[{provide:l.ip1,useFactory:function ir(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const r=Q(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let c=0;c<o.length;c++)r.remove(o[c])})}},deps:[xr,Pe,l.zs3],multi:!0}];class gi{static init(){(0,l.VLi)(new gi)}addToWindow(e){l.dqk.getAngularTestability=(r,o=!0)=>{const c=e.findTestabilityInTree(r,o);if(null==c)throw new Error("Could not find testability for element.");return c},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(r=>{const o=l.dqk.getAllAngularTestabilities();let c=o.length,p=!1;const _=function(C){p=p||C,c--,0==c&&r(p)};o.forEach(function(C){C.whenStable(_)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const o=e.getTestability(t);return null!=o?o:r?Q().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Rr=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const ts=new l.OlP("EventManagerPlugins");let ns=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let c=0;c<o.length;c++){const p=o[c];if(p.supports(t))return this._eventNameToPlugin.set(t,p),p}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ts),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class mi{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=Q().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let Ni=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),jr=(()=>{class n extends Ni{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(c=>{const p=this._doc.createElement("style");p.textContent=c,o.push(r.appendChild(p))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Er),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Er))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Pe))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Er(n){Q().remove(n)}const bt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},da=/%COMP%/g;function xe(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?xe(n,o,t):(o=o.replace(da,n),t.push(o))}return t}function Gt(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let mn=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Ha(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case l.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new js(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case l.ifc.ShadowDom:return new fa(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=xe(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ns),l.LFG(jr),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Ha{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(bt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const c=bt[o];c?e.setAttributeNS(c,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=bt[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,r,o&l.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Gt(r)):this.eventManager.addEventListener(e,t,Gt(r))}}class js extends Ha{constructor(e,t,r,o){super(e),this.component=r;const c=xe(o+"-"+r.id,r.styles,[]);t.addStyles(c),this.contentAttr=function Wl(n){return"_ngcontent-%COMP%".replace(da,n)}(o+"-"+r.id),this.hostAttr=function ha(n){return"_nghost-%COMP%".replace(da,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class fa extends Ha{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=xe(o.id,o.styles,[]);for(let p=0;p<c.length;p++){const _=document.createElement("style");_.textContent=c[p],this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Za=(()=>{class n extends mi{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Pe))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const $a=["alt","control","meta","shift"],Zo={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Nn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Xr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let $o=(()=>{class n extends mi{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const c=n.parseEventName(r),p=n.eventCallback(c.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Q().onAndCancel(t,c.domEventName,p))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const c=n._normalizeKey(r.pop());let p="";if($a.forEach(C=>{const x=r.indexOf(C);x>-1&&(r.splice(x,1),p+=C+".")}),p+=c,0!=r.length||0===c.length)return null;const _={};return _.domEventName=o,_.fullKey=p,_}static getEventFullKey(t){let r="",o=function zs(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Nn.hasOwnProperty(e)&&(e=Nn[e]))}return Zo[e]||e}(t);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),$a.forEach(c=>{c!=o&&Xr[c](t)&&(r+=c+".")}),r+=o,r}static eventCallback(t,r,o){return c=>{n.getEventFullKey(c)===t&&o.runGuarded(()=>r(c))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Pe))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const pa=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:"browser"},{provide:l.g9A,useValue:function ei(){Us.makeCurrent(),gi.init()},multi:!0},{provide:Pe,useFactory:function Go(){return(0,l.RDi)(document),document},deps:[]}]),Li=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function Ts(){return new l.qLn},deps:[]},{provide:ts,useClass:Za,multi:!0,deps:[Pe,l.R0b,l.Lbi]},{provide:ts,useClass:$o,multi:!0,deps:[Pe]},{provide:mn,useClass:mn,deps:[ns,jr,l.AFp]},{provide:l.FYo,useExisting:mn},{provide:Ni,useExisting:jr},{provide:jr,useClass:jr,deps:[Pe]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b]},{provide:ns,useClass:ns,deps:[ts,l.R0b]},{provide:Sn,useClass:Rr,deps:[]}];let Ds=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:xr,useExisting:l.AFp},zo]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(n,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:Li,imports:[ql,l.hGG]}),n})();"undefined"!=typeof window&&window;var Bn=k(237),Qn=k(818);const{isArray:_o}=Array,{getPrototypeOf:al,prototype:qa,keys:is}=Object;function Wa(n){if(1===n.length){const e=n[0];if(_o(e))return{args:e,keys:null};if(function Zn(n){return n&&"object"==typeof n&&al(n)===qa}(e)){const t=is(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var yi=k(5955),Is=k(1635),Xn=k(8499),Xt=k(7969);const{isArray:u}=Array;function v(n){return(0,Xt.U)(e=>function f(n,e){return u(e)?n(...e):n(e)}(n,e))}function T(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}let F=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),$=(()=>{class n extends F{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const ne=new l.OlP("NgValueAccessor"),ye={provide:ne,useExisting:(0,l.Gpc)(()=>Te),multi:!0};let Te=(()=>{class n extends ${writeValue(t){this.setProperty("checked",t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,r){1&t&&l.NdJ("change",function(c){return r.onChange(c.target.checked)})("blur",function(){return r.onTouched()})},features:[l._Bn([ye]),l.qOj]}),n})();const Je={provide:ne,useExisting:(0,l.Gpc)(()=>or),multi:!0},rn=new l.OlP("CompositionEventMode");let or=(()=>{class n extends F{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function pt(){const n=Q()?Q().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(rn,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&l.NdJ("input",function(c){return r._handleInput(c.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(c){return r._compositionEnd(c.target.value)})},features:[l._Bn([Je]),l.qOj]}),n})();const Rn=new l.OlP("NgValidators"),Gs=new l.OlP("NgAsyncValidators");function Vi(n){return null!=n}function Lu(n){const e=(0,l.QGY)(n)?(0,Bn.D)(n):n;return(0,l.CqO)(e),e}function Ja(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function yo(n,e){return e.map(t=>t(n))}function fh(n){return n.map(e=>function rd(n){return!n.validate}(e)?e:t=>e.validate(t))}function id(n){return null!=n?function ar(n){if(!n)return null;const e=n.filter(Vi);return 0==e.length?null:function(t){return Ja(yo(t,e))}}(fh(n)):null}function Jl(n){return null!=n?function ap(n){if(!n)return null;const e=n.filter(Vi);return 0==e.length?null:function(t){return function M(...n){const e=(0,Is.jO)(n),{args:t,keys:r}=Wa(n),o=new Qn.y(c=>{const{length:p}=t;if(!p)return void c.complete();const _=new Array(p);let C=p,x=p;for(let V=0;V<p;V++){let U=!1;(0,yi.Xf)(t[V]).subscribe((0,Xn.x)(c,Y=>{U||(U=!0,x--),_[V]=Y},()=>C--,void 0,()=>{(!C||!U)&&(x||c.next(r?T(r,_):_),c.complete())}))}});return e?o.pipe(v(e)):o}(yo(t,e).map(Lu)).pipe((0,Xt.U)(Ja))}}(fh(n)):null}function sd(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function od(n){return n._rawValidators}function ph(n){return n._rawAsyncValidators}function ll(n){return n?Array.isArray(n)?n:[n]:[]}function ea(n,e){return Array.isArray(n)?n.includes(e):n===e}function Qa(n,e){const t=ll(e);return ll(n).forEach(o=>{ea(t,o)||t.push(o)}),t}function fr(n,e){return ll(e).filter(t=>!ea(n,t))}class ya{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=id(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Jl(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class us extends ya{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Hr extends ya{get formDirective(){return null}get path(){return null}}class vo{constructor(e){this._cd=e}is(e){var t,r,o;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(o=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===o?void 0:o[e])}}let Eo=(()=>{class n extends vo{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(us,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[l.qOj]}),n})(),va=(()=>{class n extends vo{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Hr,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[l.qOj]}),n})();function tu(n,e){return[...e.path,n]}function nu(n,e){Co(n,e),e.valueAccessor.writeValue(n.value),function Ss(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&ta(n,e)})}(n,e),function lp(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function dd(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&ta(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Xl(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function ru(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),iu(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function bi(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Co(n,e){const t=od(n);null!==e.validator?n.setValidators(sd(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=ph(n);null!==e.asyncValidator?n.setAsyncValidators(sd(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();bi(e._rawValidators,o),bi(e._rawAsyncValidators,o)}function iu(n,e){let t=!1;if(null!==n){if(null!==e.validator){const o=od(n);if(Array.isArray(o)&&o.length>0){const c=o.filter(p=>p!==e.validator);c.length!==o.length&&(t=!0,n.setValidators(c))}}if(null!==e.asyncValidator){const o=ph(n);if(Array.isArray(o)&&o.length>0){const c=o.filter(p=>p!==e.asyncValidator);c.length!==o.length&&(t=!0,n.setAsyncValidators(c))}}}const r=()=>{};return bi(e._rawValidators,r),bi(e._rawAsyncValidators,r),t}function ta(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function hl(n,e){Co(n,e)}function S(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function j(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function te(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(c=>{c.constructor===or?t=c:function N(n){return Object.getPrototypeOf(n.constructor)===$}(c)?r=c:o=c}),o||r||t||null}function ce(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const St="VALID",Tt="INVALID",en="PENDING",xt="DISABLED";function ur(n){return(qs(n)?n.validators:n)||null}function To(n){return Array.isArray(n)?id(n):n||null}function na(n,e){return(qs(e)?e.asyncValidators:n)||null}function wa(n){return Array.isArray(n)?Jl(n):n||null}function qs(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const Ws=n=>n instanceof cp,Ks=n=>n instanceof pd,gl=n=>n instanceof ra;function _h(n){return Ws(n)?n.value:n.getRawValue()}function Sm(n,e){const t=Ks(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new l.vHH(1e3,"");if(!r[e])throw new l.vHH(1001,"")}function ml(n,e){Ks(n),n._forEachChild((r,o)=>{if(void 0===e[o])throw new l.vHH(1002,"")})}class yh{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=To(this._rawValidators),this._composedAsyncValidatorFn=wa(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===St}get invalid(){return this.status===Tt}get pending(){return this.status==en}get disabled(){return this.status===xt}get enabled(){return this.status!==xt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=To(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=wa(e)}addValidators(e){this.setValidators(Qa(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Qa(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(fr(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(fr(e,this._rawAsyncValidators))}hasValidator(e){return ea(this._rawValidators,e)}hasAsyncValidator(e){return ea(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=en,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=xt,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=St,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===St||this.status===en)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?xt:St}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=en,this._hasOwnPendingAsyncValidator=!0;const t=Lu(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function ls(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(o=>{r=Ks(r)?r.controls.hasOwnProperty(o)?r.controls[o]:null:gl(r)&&r.at(o)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?xt:this.errors?Tt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(en)?en:this._anyControlsHaveStatus(Tt)?Tt:St}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){qs(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class cp extends yh{constructor(e=null,t,r){super(ur(t),na(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),qs(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ce(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ce(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class pd extends yh{constructor(e,t,r){super(ur(t),na(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){ml(this,e),Object.keys(e).forEach(r=>{Sm(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=_h(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,c)=>{r=t(r,o,c)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class ra extends yh{constructor(e,t,r){super(ur(t),na(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){ml(this,e),e.forEach((r,o)=>{Sm(this,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>_h(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const xm={provide:Hr,useExisting:(0,l.Gpc)(()=>Vu)},su=(()=>Promise.resolve(null))();let Vu=(()=>{class n extends Hr{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new pd({},id(t),Jl(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){su.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),nu(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){su.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){su.then(()=>{const r=this._findContainer(t.path),o=new pd({});hl(o,t),r.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){su.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){su.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,j(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Rn,10),l.Y36(Gs,10))},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&l.NdJ("submit",function(c){return r.onSubmit(c)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([xm]),l.qOj]}),n})(),Uu=(()=>{class n extends Hr{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return tu(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const bh={provide:us,useExisting:(0,l.Gpc)(()=>_l)},Ch=(()=>Promise.resolve(null))();let _l=(()=>{class n extends us{constructor(t,r,o,c,p){super(),this._changeDetectorRef=p,this.control=new cp,this._registered=!1,this.update=new l.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=te(0,c)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),S(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){nu(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Ch.then(()=>{var r;this.control.setValue(t,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,o=""===r||r&&"false"!==r;Ch.then(()=>{var c;o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),null===(c=this._changeDetectorRef)||void 0===c||c.markForCheck()})}_getPath(t){return this._parent?tu(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Hr,9),l.Y36(Rn,10),l.Y36(Gs,10),l.Y36(ne,10),l.Y36(l.sBO,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([bh]),l.qOj,l.TTD]}),n})(),ec=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const Mm={provide:ne,useExisting:(0,l.Gpc)(()=>tc),multi:!0};let tc=(()=>{class n extends ${writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&l.NdJ("input",function(c){return r.onChange(c.target.value)})("blur",function(){return r.onTouched()})},features:[l._Bn([Mm]),l.qOj]}),n})(),Ea=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const Th=new l.OlP("NgModelWithFormControlWarning"),gp={provide:Hr,useExisting:(0,l.Gpc)(()=>Bu)};let Bu=(()=>{class n extends Hr{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(iu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return nu(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){ru(t.control||null,t,!1),ce(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,j(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,o=this.form.get(t.path);r!==o&&(ru(r||null,t),Ws(o)&&(nu(o,t),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);hl(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function hd(n,e){return iu(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Co(this.form,this),this._oldForm&&iu(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Rn,10),l.Y36(Gs,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&l.NdJ("submit",function(c){return r.onSubmit(c)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([gp]),l.qOj,l.TTD]}),n})();const km={provide:Hr,useExisting:(0,l.Gpc)(()=>E)};let E=(()=>{class n extends Uu{constructor(t,r,o){super(),this._parent=t,this._setValidators(r),this._setAsyncValidators(o)}_checkParentType(){D(this._parent)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Hr,13),l.Y36(Rn,10),l.Y36(Gs,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[l._Bn([km]),l.qOj]}),n})();const m={provide:Hr,useExisting:(0,l.Gpc)(()=>y)};let y=(()=>{class n extends Hr{constructor(t,r,o){super(),this._parent=t,this._setValidators(r),this._setAsyncValidators(o)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return tu(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){D(this._parent)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Hr,13),l.Y36(Rn,10),l.Y36(Gs,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[l._Bn([m]),l.qOj]}),n})();function D(n){return!(n instanceof E||n instanceof Bu||n instanceof y)}const R={provide:us,useExisting:(0,l.Gpc)(()=>B)};let B=(()=>{class n extends us{constructor(t,r,o,c,p){super(),this._ngModelWarningConfig=p,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=te(0,c)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),S(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return tu(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(l.Y36(Hr,13),l.Y36(Rn,10),l.Y36(Gs,10),l.Y36(ne,10),l.Y36(Th,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([R]),l.qOj,l.TTD]}),n})(),Db=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Ea]]}),n})(),Ah=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Db]}),n})(),cs=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Th,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Db]}),n})(),md=(()=>{class n{group(t,r=null){const o=this._reduceControls(t);let _,c=null,p=null;return null!=r&&(function Vm(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(r)?(c=null!=r.validators?r.validators:null,p=null!=r.asyncValidators?r.asyncValidators:null,_=null!=r.updateOn?r.updateOn:void 0):(c=null!=r.validator?r.validator:null,p=null!=r.asyncValidator?r.asyncValidator:null)),new pd(o,{asyncValidators:p,updateOn:_,validators:c})}control(t,r,o){return new cp(t,r,o)}array(t,r,o){const c=t.map(p=>this._createControl(p));return new ra(c,r,o)}_reduceControls(t){const r={};return Object.keys(t).forEach(o=>{r[o]=this._createControl(t[o])}),r}_createControl(t){return Ws(t)||Ks(t)||gl(t)?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:cs}),n})();var cr=k(4216);class Lr{static mapToArray(e){const t=[];for(const r in e)e.hasOwnProperty(r)&&t.push(e[r]);return t}static handleEvent(e,t,r){0<t.observers.length&&e.run(()=>{t.emit(r)})}}let Sh=(()=>{class n{constructor(t,r){this.element=t,this.zone=r,this.DEFAULT_ZOOM=1,this.DEFAULT_CENTER=(0,cr.latLng)(38.907192,-77.036871),this.DEFAULT_FPZ_OPTIONS={},this.fitBoundsOptions=this.DEFAULT_FPZ_OPTIONS,this.panOptions=this.DEFAULT_FPZ_OPTIONS,this.zoomOptions=this.DEFAULT_FPZ_OPTIONS,this.zoomPanOptions=this.DEFAULT_FPZ_OPTIONS,this.options={},this.mapReady=new l.vpe,this.zoomChange=new l.vpe,this.centerChange=new l.vpe,this.onClick=new l.vpe,this.onDoubleClick=new l.vpe,this.onMouseDown=new l.vpe,this.onMouseUp=new l.vpe,this.onMouseMove=new l.vpe,this.onMouseOver=new l.vpe,this.onMouseOut=new l.vpe,this.onMapMove=new l.vpe,this.onMapMoveStart=new l.vpe,this.onMapMoveEnd=new l.vpe,this.onMapZoom=new l.vpe,this.onMapZoomStart=new l.vpe,this.onMapZoomEnd=new l.vpe}ngOnInit(){this.zone.runOutsideAngular(()=>{this.map=(0,cr.map)(this.element.nativeElement,this.options),this.addMapEventListeners()}),null!=this.center&&null!=this.zoom&&this.setView(this.center,this.zoom),null!=this.fitBounds&&this.setFitBounds(this.fitBounds),null!=this.maxBounds&&this.setMaxBounds(this.maxBounds),null!=this.minZoom&&this.setMinZoom(this.minZoom),null!=this.maxZoom&&this.setMaxZoom(this.maxZoom),this.doResize(),this.mapReady.emit(this.map)}ngOnChanges(t){t.zoom&&t.center&&null!=this.zoom&&null!=this.center?this.setView(t.center.currentValue,t.zoom.currentValue):t.zoom?this.setZoom(t.zoom.currentValue):t.center&&this.setCenter(t.center.currentValue),t.fitBounds&&this.setFitBounds(t.fitBounds.currentValue),t.maxBounds&&this.setMaxBounds(t.maxBounds.currentValue),t.minZoom&&this.setMinZoom(t.minZoom.currentValue),t.maxZoom&&this.setMaxZoom(t.maxZoom.currentValue)}ngOnDestroy(){null!=this.map&&this.map.remove()}getMap(){return this.map}onResize(){this.delayResize()}addMapEventListeners(){const t=(o,c)=>{this.map.on(o,c)};t("click",o=>Lr.handleEvent(this.zone,this.onClick,o)),t("dblclick",o=>Lr.handleEvent(this.zone,this.onDoubleClick,o)),t("mousedown",o=>Lr.handleEvent(this.zone,this.onMouseDown,o)),t("mouseup",o=>Lr.handleEvent(this.zone,this.onMouseUp,o)),t("mouseover",o=>Lr.handleEvent(this.zone,this.onMouseOver,o)),t("mouseout",o=>Lr.handleEvent(this.zone,this.onMouseOut,o)),t("mousemove",o=>Lr.handleEvent(this.zone,this.onMouseMove,o)),t("zoomstart",o=>Lr.handleEvent(this.zone,this.onMapZoomStart,o)),t("zoom",o=>Lr.handleEvent(this.zone,this.onMapZoom,o)),t("zoomend",o=>Lr.handleEvent(this.zone,this.onMapZoomEnd,o)),t("movestart",o=>Lr.handleEvent(this.zone,this.onMapMoveStart,o)),t("move",o=>Lr.handleEvent(this.zone,this.onMapMove,o)),t("moveend",o=>Lr.handleEvent(this.zone,this.onMapMoveEnd,o));const r=()=>{const o=this.map.getZoom();o!==this.zoom&&(this.zoom=o,Lr.handleEvent(this.zone,this.zoomChange,o));const c=this.map.getCenter();(null!=c||null!=this.center)&&((null==c||null==this.center)&&c!==this.center||c.lat!==this.center.lat||c.lng!==this.center.lng)&&(this.center=c,Lr.handleEvent(this.zone,this.centerChange,c))};t("moveend",r),t("zoomend",r)}doResize(){this.zone.runOutsideAngular(()=>{null!=this.map&&this.map.invalidateSize({})})}delayResize(){null!=this.resizeTimer&&clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(this.doResize.bind(this),200)}setView(t,r){null!=this.map&&null!=t&&null!=r&&this.map.setView(t,r,this.zoomPanOptions)}setZoom(t){null!=this.map&&null!=t&&this.map.setZoom(t,this.zoomOptions)}setCenter(t){null!=this.map&&null!=t&&this.map.panTo(t,this.panOptions)}setFitBounds(t){null!=this.map&&null!=t&&this.map.fitBounds(t,this.fitBoundsOptions)}setMaxBounds(t){null!=this.map&&null!=t&&this.map.setMaxBounds(t)}setMinZoom(t){null!=this.map&&null!=t&&this.map.setMinZoom(t)}setMaxZoom(t){null!=this.map&&null!=t&&this.map.setMaxZoom(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,selectors:[["","leaflet",""]],hostBindings:function(t,r){1&t&&l.NdJ("resize",function(){return r.onResize()},!1,l.Jf7)},inputs:{fitBoundsOptions:["leafletFitBoundsOptions","fitBoundsOptions"],panOptions:["leafletPanOptions","panOptions"],zoomOptions:["leafletZoomOptions","zoomOptions"],zoomPanOptions:["leafletZoomPanOptions","zoomPanOptions"],options:["leafletOptions","options"],zoom:["leafletZoom","zoom"],center:["leafletCenter","center"],fitBounds:["leafletFitBounds","fitBounds"],maxBounds:["leafletMaxBounds","maxBounds"],minZoom:["leafletMinZoom","minZoom"],maxZoom:["leafletMaxZoom","maxZoom"]},outputs:{mapReady:"leafletMapReady",zoomChange:"leafletZoomChange",centerChange:"leafletCenterChange",onClick:"leafletClick",onDoubleClick:"leafletDoubleClick",onMouseDown:"leafletMouseDown",onMouseUp:"leafletMouseUp",onMouseMove:"leafletMouseMove",onMouseOver:"leafletMouseOver",onMouseOut:"leafletMouseOut",onMapMove:"leafletMapMove",onMapMoveStart:"leafletMapMoveStart",onMapMoveEnd:"leafletMapMoveEnd",onMapZoom:"leafletMapZoom",onMapZoomStart:"leafletMapZoomStart",onMapZoomEnd:"leafletMapZoomEnd"},features:[l.TTD]}),n})();class Bv{constructor(e){this.leafletDirective=e}init(){}getMap(){return this.leafletDirective.getMap()}}let Ab=(()=>{class n{constructor(t,r){this.zone=r,this.onAdd=new l.vpe,this.onRemove=new l.vpe,this.leafletDirective=new Bv(t)}ngOnInit(){this.leafletDirective.init()}ngOnDestroy(){null!=this.layer&&(this.removeLayerEventListeners(this.layer),this.layer.remove())}ngOnChanges(t){if(t.layer){const r=t.layer.previousValue,o=t.layer.currentValue;this.zone.runOutsideAngular(()=>{null!=r&&(this.removeLayerEventListeners(r),r.remove()),null!=o&&(this.addLayerEventListeners(o),this.leafletDirective.getMap().addLayer(o))})}}addLayerEventListeners(t){this.onAddLayerHandler=r=>Lr.handleEvent(this.zone,this.onAdd,r),t.on("add",this.onAddLayerHandler),this.onRemoveLayerHandler=r=>Lr.handleEvent(this.zone,this.onRemove,r),t.on("remove",this.onRemoveLayerHandler)}removeLayerEventListeners(t){t.off("add",this.onAddLayerHandler),t.off("remove",this.onRemoveLayerHandler)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Sh),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,selectors:[["","leafletLayer",""]],inputs:{layer:["leafletLayer","layer"]},outputs:{onAdd:"leafletLayerAdd",onRemove:"leafletLayerRemove"},features:[l.TTD]}),n})(),jv=(()=>{class n{constructor(t,r,o){this.differs=r,this.zone=o,this.leafletDirective=new Bv(t),this.layersDiffer=this.differs.find([]).create()}set layers(t){this.layersValue=t,this.updateLayers()}get layers(){return this.layersValue}ngDoCheck(){this.updateLayers()}ngOnInit(){this.leafletDirective.init(),this.updateLayers()}ngOnDestroy(){this.layers=[]}updateLayers(){const t=this.leafletDirective.getMap();if(null!=t&&null!=this.layersDiffer){const r=this.layersDiffer.diff(this.layersValue);null!=r&&this.zone.runOutsideAngular(()=>{r.forEachRemovedItem(o=>{t.removeLayer(o.item)}),r.forEachAddedItem(o=>{t.addLayer(o.item)})})}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Sh),l.Y36(l.ZZ4),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,selectors:[["","leafletLayers",""]],inputs:{layers:["leafletLayers","layers"]}}),n})(),Mb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();var sc=k(8939);function $t(...n){const e=(0,Is.yG)(n);return(0,Bn.D)(n,e)}var ba=k(8023);class Ca extends ba.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var wp=k(8330),Ep=k(6903);function zv(n,e,t){n?(0,Ep.f)(t,n,e):e()}var Bm=k(5975);function bp(n,e){const t=(0,Bm.m)(n)?n:()=>n,r=o=>o.error(t());return new Qn.y(e?o=>e.schedule(r,0,o):r)}const Mh=(0,k(5776).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Cp=k(549);function jm(...n){return function Nb(){return(0,Cp.J)(1)}()((0,Bn.D)(n,(0,Is.yG)(n)))}function Zv(n){return new Qn.y(e=>{(0,yi.Xf)(n()).subscribe(e)})}var oc=k(9018),$v=k(4813),Ta=k(2085);function ac(){return(0,Ta.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Xn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,c=t;t=null,o&&(!c||o===c)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class au extends Qn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Ta.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new $v.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Xn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=$v.w0.EMPTY)}return e}refCount(){return ac()(this)}}function Ys(n,e){return(0,Ta.e)((t,r)=>{let o=null,c=0,p=!1;const _=()=>p&&!o&&r.complete();t.subscribe((0,Xn.x)(r,C=>{null==o||o.unsubscribe();let x=0;const V=c++;(0,yi.Xf)(n(C,V)).subscribe(o=(0,Xn.x)(r,U=>r.next(e?e(C,U,V,x++):U),()=>{o=null,_()}))},()=>{p=!0,_()}))})}var Gv=k(5598);function $I(n,e,t,r,o){return(c,p)=>{let _=t,C=e,x=0;c.subscribe((0,Xn.x)(p,V=>{const U=x++;C=_?n(C,V,U):(_=!0,V),r&&p.next(C)},o&&(()=>{_&&p.next(C),p.complete()})))}}function Da(n,e){return(0,Ta.e)($I(n,e,arguments.length>=2,!0))}function uu(n,e){return(0,Ta.e)((t,r)=>{let o=0;t.subscribe((0,Xn.x)(r,c=>n.call(e,c,o++)&&r.next(c)))})}function lu(n){return(0,Ta.e)((e,t)=>{let c,r=null,o=!1;r=e.subscribe((0,Xn.x)(t,void 0,void 0,p=>{c=(0,yi.Xf)(n(p,lu(n)(e))),r?(r.unsubscribe(),r=null,c.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,c.subscribe(t))})}var ds=k(4882);function uc(n,e){return(0,Bm.m)(e)?(0,ds.z)(n,e,1):(0,ds.z)(n,1)}function lc(n){return n<=0?()=>oc.E:(0,Ta.e)((e,t)=>{let r=[];e.subscribe((0,Xn.x)(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function zm(n=Wv){return(0,Ta.e)((e,t)=>{let r=!1;e.subscribe((0,Xn.x)(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function Wv(){return new Mh}function Tp(n){return(0,Ta.e)((e,t)=>{let r=!1;e.subscribe((0,Xn.x)(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function El(n,e){const t=arguments.length>=2;return r=>r.pipe(n?uu((o,c)=>n(o,c,r)):wp.y,(0,Gv.q)(1),t?Tp(e):zm(()=>new Mh))}var Do=k(8168);class Ia{constructor(e,t){this.id=e,this.url=t}}class Dp extends Ia{constructor(e,t,r="imperative",o=null){super(e,t),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ph extends Ia{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ip extends Ia{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Rb extends Ia{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class kb extends Ia{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lb extends Ia{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fb extends Ia{constructor(e,t,r,o,c){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=c}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Vb extends Ia{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ub extends Ia{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zm{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ap{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Kv{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $m{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bb{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jb{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gm{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const un="primary";class cc{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function dc(n){return new cc(n)}const qm="ngNavigationCancelingError";function Wm(n){const e=Error("NavigationCancelingError: "+n);return e[qm]=!0,e}function zb(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let c=0;c<r.length;c++){const p=r[c],_=n[c];if(p.startsWith(":"))o[p.substring(1)]=_;else if(p!==_.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function Aa(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let c=0;c<t.length;c++)if(o=t[c],!Km(n[o],e[o]))return!1;return!0}function Km(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,c)=>r[c]===o)}return n===e}function xp(n){return Array.prototype.concat.apply([],n)}function Ym(n){return n.length>0?n[n.length-1]:null}function $r(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Sa(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,Bn.D)(Promise.resolve(n)):$t(n)}const Jv={exact:function Xm(n,e,t){if(!Cl(n.segments,e.segments)||!vd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Xm(n.children[r],e.children[r],t))return!1;return!0},subset:Qv},Mp={exact:function Hb(n,e){return Aa(n,e)},subset:function Zb(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Km(n[t],e[t]))},ignored:()=>!0};function yd(n,e,t){return Jv[t.paths](n.root,e.root,t.matrixParams)&&Mp[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Qv(n,e,t){return e_(n,e,e.segments,t)}function e_(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!Cl(o,t)||e.hasChildren()||!vd(o,t,r))}if(n.segments.length===t.length){if(!Cl(n.segments,t)||!vd(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!Qv(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),c=t.slice(n.segments.length);return!!(Cl(n.segments,o)&&vd(n.segments,o,r)&&n.children[un])&&e_(n.children[un],e,c,r)}}function vd(n,e,t){return e.every((r,o)=>Mp[t](n[o].parameters,r.parameters))}class bl{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=dc(this.queryParams)),this._queryParamMap}toString(){return qb.serialize(this)}}class bn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,$r(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Oh(this)}}class wd{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=dc(this.parameters)),this._parameterMap}toString(){return nw(this)}}function Cl(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class Xv{}class sa{parse(e){const t=new t_(e);return new bl(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Nh(e.root,!0)}`,r=function rw(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${Pp(t)}=${Pp(o)}`).join("&"):`${Pp(t)}=${Pp(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Wb(n){return encodeURI(n)}(e.fragment)}`:""}`}}const qb=new sa;function Oh(n){return n.segments.map(e=>nw(e)).join("/")}function Nh(n,e){if(!n.hasChildren())return Oh(n);if(e){const t=n.children[un]?Nh(n.children[un],!1):"",r=[];return $r(n.children,(o,c)=>{c!==un&&r.push(`${c}:${Nh(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Gb(n,e){let t=[];return $r(n.children,(r,o)=>{o===un&&(t=t.concat(e(r,o)))}),$r(n.children,(r,o)=>{o!==un&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===un?[Nh(n.children[un],!1)]:[`${o}:${Nh(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[un]?`${Oh(n)}/${t[0]}`:`${Oh(n)}/(${t.join("//")})`}}function ew(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Pp(n){return ew(n).replace(/%3B/gi,";")}function Op(n){return ew(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Np(n){return decodeURIComponent(n)}function tw(n){return Np(n.replace(/\+/g,"%20"))}function nw(n){return`${Op(n.path)}${function Kt(n){return Object.keys(n).map(e=>`;${Op(e)}=${Op(n[e])}`).join("")}(n.parameters)}`}const iw=/^[^\/()?;=#]+/;function Rh(n){const e=n.match(iw);return e?e[0]:""}const Rp=/^[^=?&#]+/,sw=/^[^&#]+/;class t_{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new bn([],{}):new bn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[un]=new bn(e,t)),r}parseSegment(){const e=Rh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new wd(Np(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Rh(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=Rh(this.remaining);o&&(r=o,this.capture(r))}e[Np(t)]=Np(r)}parseQueryParam(e){const t=function xa(n){const e=n.match(Rp);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const p=function Kb(n){const e=n.match(sw);return e?e[0]:""}(this.remaining);p&&(r=p,this.capture(r))}const o=tw(t),c=tw(r);if(e.hasOwnProperty(o)){let p=e[o];Array.isArray(p)||(p=[p],e[o]=p),p.push(c)}else e[o]=c}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Rh(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let c;r.indexOf(":")>-1?(c=r.substr(0,r.indexOf(":")),this.capture(c),this.capture(":")):e&&(c=un);const p=this.parseChildren();t[c]=1===Object.keys(p).length?p[un]:new bn([],p),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class cu{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=kh(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=kh(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=kp(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return kp(e,this._root).map(t=>t.value)}}function kh(n,e){if(n===e.value)return e;for(const t of e.children){const r=kh(n,t);if(r)return r}return null}function kp(n,e){if(n===e.value)return[e];for(const t of e.children){const r=kp(n,t);if(r.length)return r.unshift(e),r}return[]}class Ma{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Lh(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class n_ extends cu{constructor(e,t){super(e),this.snapshot=t,i_(this,e)}toString(){return this.snapshot.toString()}}function Yb(n,e){const t=function Lp(n,e){const p=new Ed([],{},{},"",{},un,e,null,n.root,-1,{});return new Jb("",new Ma(p,[]))}(n,e),r=new Ca([new wd("",{})]),o=new Ca({}),c=new Ca({}),p=new Ca({}),_=new Ca(""),C=new zu(r,o,p,_,c,un,e,t.root);return C.snapshot=t.root,new n_(new Ma(C,[]),t)}class zu{constructor(e,t,r,o,c,p,_,C){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=c,this.outlet=p,this.component=_,this._futureSnapshot=C}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Xt.U)(e=>dc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Xt.U)(e=>dc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Fp(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],c=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(c.component)break;r--}}return function r_(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Ed{constructor(e,t,r,o,c,p,_,C,x,V,U){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=c,this.outlet=p,this.component=_,this.routeConfig=C,this._urlSegment=x,this._lastPathIndex=V,this._resolve=U}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=dc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=dc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Jb extends cu{constructor(e,t){super(t),this.url=e,i_(this,t)}toString(){return ow(this._root)}}function i_(n,e){e.value._routerState=n,e.children.forEach(t=>i_(n,t))}function ow(n){const e=n.children.length>0?` { ${n.children.map(ow).join(", ")} } `:"";return`${n.value}${e}`}function s_(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Aa(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Aa(e.params,t.params)||n.params.next(t.params),function Yv(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Aa(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Aa(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function o_(n,e){const t=Aa(n.params,e.params)&&function $b(n,e){return Cl(n,e)&&n.every((t,r)=>Aa(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||o_(n.parent,e.parent))}function Vp(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function Qb(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Vp(n,r,o);return Vp(n,r)})}(n,e,t);return new Ma(r,o)}{if(n.shouldAttach(e.value)){const c=n.retrieve(e.value);if(null!==c){const p=c.route;return p.value._futureSnapshot=e.value,p.children=e.children.map(_=>Vp(n,_)),p}}const r=function GI(n){return new zu(new Ca(n.url),new Ca(n.params),new Ca(n.queryParams),new Ca(n.fragment),new Ca(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(c=>Vp(n,c));return new Ma(r,o)}}function Fh(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Vh(n){return"object"==typeof n&&null!=n&&n.outlets}function Uh(n,e,t,r,o){let c={};if(r&&$r(r,(_,C)=>{c[C]=Array.isArray(_)?_.map(x=>`${x}`):`${_}`}),n===e)return new bl(t,c,o);const p=Xb(n,e,t);return new bl(p,c,o)}function Xb(n,e,t){const r={};return $r(n.children,(o,c)=>{r[c]=o===e?t:Xb(o,e,t)}),new bn(n.segments,r)}class eC{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Fh(r[0]))throw new Error("Root segment cannot have matrix parameters");const o=r.find(Vh);if(o&&o!==Ym(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class lw{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function tC(n,e,t){if(n||(n=new bn([],{})),0===n.segments.length&&n.hasChildren())return a_(n,e,t);const r=function JI(n,e,t){let r=0,o=e;const c={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return c;const p=n.segments[o],_=t[r];if(Vh(_))break;const C=`${_}`,x=r<t.length-1?t[r+1]:null;if(o>0&&void 0===C)break;if(C&&x&&"object"==typeof x&&void 0===x.outlets){if(!l_(C,x,p))return c;r+=2}else{if(!l_(C,{},p))return c;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const c=new bn(n.segments.slice(0,r.pathIndex),{});return c.children[un]=new bn(n.segments.slice(r.pathIndex),n.children),a_(c,0,o)}return r.match&&0===o.length?new bn(n.segments,{}):r.match&&!n.hasChildren()?du(n,e,t):r.match?a_(n,0,o):du(n,e,t)}function a_(n,e,t){if(0===t.length)return new bn(n.segments,{});{const r=function YI(n){return Vh(n[0])?n[0].outlets:{[un]:n}}(t),o={};return $r(r,(c,p)=>{"string"==typeof c&&(c=[c]),null!==c&&(o[p]=tC(n.children[p],e,c))}),$r(n.children,(c,p)=>{void 0===r[p]&&(o[p]=c)}),new bn(n.segments,o)}}function du(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const c=t[o];if(Vh(c)){const C=u_(c.outlets);return new bn(r,C)}if(0===o&&Fh(t[0])){r.push(new wd(n.segments[e].path,cw(t[0]))),o++;continue}const p=Vh(c)?c.outlets[un]:`${c}`,_=o<t.length-1?t[o+1]:null;p&&_&&Fh(_)?(r.push(new wd(p,cw(_))),o+=2):(r.push(new wd(p,{})),o++)}return new bn(r,{})}function u_(n){const e={};return $r(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=du(new bn([],{}),0,t))}),e}function cw(n){const e={};return $r(n,(t,r)=>e[r]=`${t}`),e}function l_(n,e,t){return n==t.path&&Aa(e,t.parameters)}class dw{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),s_(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=Lh(t);e.children.forEach(c=>{const p=c.value.outlet;this.deactivateRoutes(c,o[p],r),delete o[p]}),$r(o,(c,p)=>{this.deactivateRouteAndItsChildren(c,r)})}deactivateRoutes(e,t,r){const o=e.value,c=t?t.value:null;if(o===c)if(o.component){const p=r.getContext(o.outlet);p&&this.deactivateChildRoutes(e,t,p.children)}else this.deactivateChildRoutes(e,t,r);else c&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,c=Lh(e);for(const p of Object.keys(c))this.deactivateRouteAndItsChildren(c[p],o);if(r&&r.outlet){const p=r.outlet.detach(),_=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:p,route:e,contexts:_})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,c=Lh(e);for(const p of Object.keys(c))this.deactivateRouteAndItsChildren(c[p],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=Lh(t);e.children.forEach(c=>{this.activateRoutes(c,o[c.value.outlet],r),this.forwardEvent(new jb(c.value.snapshot))}),e.children.length&&this.forwardEvent(new $m(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,c=t?t.value:null;if(s_(o),o===c)if(o.component){const p=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,p.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const p=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const _=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),p.children.onOutletReAttached(_.contexts),p.attachRef=_.componentRef,p.route=_.route.value,p.outlet&&p.outlet.attach(_.componentRef,_.route.value),s_(_.route.value),this.activateChildRoutes(e,null,p.children)}else{const _=function d_(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(o.snapshot),C=_?_.module.componentFactoryResolver:null;p.attachRef=null,p.route=o,p.resolver=C,p.outlet&&p.outlet.activateWith(o,C),this.activateChildRoutes(e,null,p.children)}}else this.activateChildRoutes(e,null,r)}}class h_{constructor(e,t){this.routes=e,this.module=t}}function xs(n){return"function"==typeof n}function hc(n){return n instanceof bl}const Bh=Symbol("INITIAL_VALUE");function Hu(){return Ys(n=>function Pb(...n){const e=(0,Is.yG)(n),t=(0,Is.jO)(n),{args:r,keys:o}=Wa(n);if(0===r.length)return(0,Bn.D)([],e);const c=new Qn.y(function Ob(n,e,t=wp.y){return r=>{zv(e,()=>{const{length:o}=n,c=new Array(o);let p=o,_=o;for(let C=0;C<o;C++)zv(e,()=>{const x=(0,Bn.D)(n[C],e);let V=!1;x.subscribe((0,Xn.x)(r,U=>{c[C]=U,V||(V=!0,_--),_||r.next(t(c.slice()))},()=>{--p||r.complete()}))},r)},r)}}(r,e,o?p=>T(o,p):wp.y));return t?c.pipe(v(t)):c}(n.map(e=>e.pipe((0,Gv.q)(1),function qv(...n){const e=(0,Is.yG)(n);return(0,Ta.e)((t,r)=>{(e?jm(n,t,e):jm(n,t)).subscribe(r)})}(Bh)))).pipe(Da((e,t)=>{let r=!1;return t.reduce((o,c,p)=>o!==Bh?o:(c===Bh&&(r=!0),r||!1!==c&&p!==t.length-1&&!hc(c)?o:c),e)},Bh),uu(e=>e!==Bh),(0,Xt.U)(e=>hc(e)?e:!0===e),(0,Gv.q)(1)))}class bd{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new fc,this.attachRef=null}}class fc{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new bd,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let pc=(()=>{class n{constructor(t,r,o,c,p){this.parentContexts=t,this.location=r,this.resolver=o,this.changeDetector=p,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=c||un,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const p=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),_=this.parentContexts.getOrCreateContext(this.name).children,C=new jh(t,_,this.location.injector);this.activated=this.location.createComponent(p,this.location.length,C),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(fc),l.Y36(l.s_b),l.Y36(l._Vd),l.$8M("name"),l.Y36(l.sBO))},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class jh{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===zu?this.route:e===fc?this.childContexts:this.parent.get(e,t)}}let gc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&l._UZ(0,"router-outlet")},directives:[pc],encapsulation:2}),n})();function pw(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];gw(r,mw(e,r))}}function gw(n,e){n.children&&pw(n.children,e)}function mw(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function zh(n){const e=n.children&&n.children.map(zh),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==un&&(t.component=gc),t}function Js(n){return n.outlet||un}function p_(n,e){const t=n.filter(r=>Js(r)===e);return t.push(...n.filter(r=>Js(r)!==e)),t}const Hh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Up(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},Hh):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const c=(e.matcher||zb)(t,n,e);if(!c)return Object.assign({},Hh);const p={};$r(c.posParams,(C,x)=>{p[x]=C.path});const _=c.consumed.length>0?Object.assign(Object.assign({},p),c.consumed[c.consumed.length-1].parameters):p;return{matched:!0,consumedSegments:c.consumed,remainingSegments:t.slice(c.consumed.length),parameters:_,positionalParamSegments:null!==(r=c.posParams)&&void 0!==r?r:{}}}function Zh(n,e,t,r,o="corrected"){if(t.length>0&&function yw(n,e,t){return t.some(r=>$h(n,e,r)&&Js(r)!==un)}(n,t,r)){const p=new bn(e,function _w(n,e,t,r){const o={};o[un]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const c of t)if(""===c.path&&Js(c)!==un){const p=new bn([],{});p._sourceSegment=n,p._segmentIndexShift=e.length,o[Js(c)]=p}return o}(n,e,r,new bn(t,n.children)));return p._sourceSegment=n,p._segmentIndexShift=e.length,{segmentGroup:p,slicedSegments:[]}}if(0===t.length&&function iC(n,e,t){return t.some(r=>$h(n,e,r))}(n,t,r)){const p=new bn(n.segments,function QI(n,e,t,r,o,c){const p={};for(const _ of r)if($h(n,t,_)&&!o[Js(_)]){const C=new bn([],{});C._sourceSegment=n,C._segmentIndexShift="legacy"===c?n.segments.length:e.length,p[Js(_)]=C}return Object.assign(Object.assign({},o),p)}(n,e,t,r,n.children,o));return p._sourceSegment=n,p._segmentIndexShift=e.length,{segmentGroup:p,slicedSegments:t}}const c=new bn(n.segments,n.children);return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}function $h(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function vw(n,e,t,r){return!!(Js(n)===r||r!==un&&$h(e,t,n))&&("**"===n.path||Up(e,n,t).matched)}function ww(n,e,t){return 0===e.length&&!n.children[t]}class hs{constructor(e){this.segmentGroup=e||null}}class Ew{constructor(e){this.urlTree=e}}function Gh(n){return bp(new hs(n))}function sC(n){return bp(new Ew(n))}class oC{constructor(e,t,r,o,c){this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=c,this.allowRedirects=!0,this.ngModule=e.get(l.h0i)}apply(){const e=Zh(this.urlTree.root,[],[],this.config).segmentGroup,t=new bn(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,un).pipe((0,Xt.U)(c=>this.createUrlTree(Bp(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(lu(c=>{if(c instanceof Ew)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof hs?this.noMatchError(c):c}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,un).pipe((0,Xt.U)(o=>this.createUrlTree(Bp(o),e.queryParams,e.fragment))).pipe(lu(o=>{throw o instanceof hs?this.noMatchError(o):o}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const o=e.segments.length>0?new bn([],{[un]:e}):e;return new bl(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Xt.U)(c=>new bn([],c))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const c of Object.keys(r.children))"primary"===c?o.unshift(c):o.push(c);return(0,Bn.D)(o).pipe(uc(c=>{const p=r.children[c],_=p_(t,c);return this.expandSegmentGroup(e,_,p,c).pipe((0,Xt.U)(C=>({segment:C,outlet:c})))}),Da((c,p)=>(c[p.outlet]=p.segment,c),{}),function Hm(n,e){const t=arguments.length>=2;return r=>r.pipe(n?uu((o,c)=>n(o,c,r)):wp.y,lc(1),t?Tp(e):zm(()=>new Mh))}())}expandSegment(e,t,r,o,c,p){return(0,Bn.D)(r).pipe(uc(_=>this.expandSegmentAgainstRoute(e,t,r,_,o,c,p).pipe(lu(x=>{if(x instanceof hs)return $t(null);throw x}))),El(_=>!!_),lu((_,C)=>{if(_ instanceof Mh||"EmptyError"===_.name)return ww(t,o,c)?$t(new bn([],{})):Gh(t);throw _}))}expandSegmentAgainstRoute(e,t,r,o,c,p,_){return vw(o,t,c,p)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,c,p):_&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,c,p):Gh(t):Gh(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,c,p){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,p):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,c,p)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const c=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?sC(c):this.lineralizeSegments(r,c).pipe((0,ds.z)(p=>{const _=new bn(p,{});return this.expandSegment(e,_,t,p,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,c,p){const{matched:_,consumedSegments:C,remainingSegments:x,positionalParamSegments:V}=Up(t,o,c);if(!_)return Gh(t);const U=this.applyRedirectCommands(C,o.redirectTo,V);return o.redirectTo.startsWith("/")?sC(U):this.lineralizeSegments(o,U).pipe((0,ds.z)(Y=>this.expandSegment(e,t,r,Y.concat(x),p,!1)))}matchSegmentAgainstRoute(e,t,r,o,c){if("**"===r.path)return r.loadChildren?(r._loadedConfig?$t(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,Xt.U)(U=>(r._loadedConfig=U,new bn(o,{})))):$t(new bn(o,{}));const{matched:p,consumedSegments:_,remainingSegments:C}=Up(t,r,o);return p?this.getChildConfig(e,r,o).pipe((0,ds.z)(V=>{const U=V.module,Y=V.routes,{segmentGroup:X,slicedSegments:de}=Zh(t,_,C,Y),He=new bn(X.segments,X.children);if(0===de.length&&He.hasChildren())return this.expandChildren(U,Y,He).pipe((0,Xt.U)(Mn=>new bn(_,Mn)));if(0===Y.length&&0===de.length)return $t(new bn(_,{}));const gt=Js(r)===c;return this.expandSegment(U,He,Y,de,gt?un:c,!0).pipe((0,Xt.U)(cn=>new bn(_.concat(cn.segments),cn.children)))})):Gh(t)}getChildConfig(e,t,r){return t.children?$t(new h_(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?$t(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,ds.z)(o=>o?this.configLoader.load(e.injector,t).pipe((0,Xt.U)(c=>(t._loadedConfig=c,c))):function bw(n){return bp(Wm(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):$t(new h_([],e))}runCanLoadGuards(e,t,r){const o=t.canLoad;return o&&0!==o.length?$t(o.map(p=>{const _=e.get(p);let C;if(function f_(n){return n&&xs(n.canLoad)}(_))C=_.canLoad(t,r);else{if(!xs(_))throw new Error("Invalid CanLoad guard");C=_(t,r)}return Sa(C)})).pipe(Hu(),(0,Do.b)(p=>{if(!hc(p))return;const _=Wm(`Redirecting to "${this.urlSerializer.serialize(p)}"`);throw _.url=p,_}),(0,Xt.U)(p=>!0===p)):$t(!0)}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return $t(r);if(o.numberOfChildren>1||!o.children[un])return bp(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));o=o.children[un]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,o){const c=this.createSegmentGroup(e,t.root,r,o);return new bl(c,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return $r(e,(o,c)=>{if("string"==typeof o&&o.startsWith(":")){const _=o.substring(1);r[c]=t[_]}else r[c]=o}),r}createSegmentGroup(e,t,r,o){const c=this.createSegments(e,t.segments,r,o);let p={};return $r(t.children,(_,C)=>{p[C]=this.createSegmentGroup(e,_,r,o)}),new bn(c,p)}createSegments(e,t,r,o){return t.map(c=>c.path.startsWith(":")?this.findPosParam(e,c,o):this.findOrReturn(c,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}function Bp(n){const e={};for(const r of Object.keys(n.children)){const c=Bp(n.children[r]);(c.segments.length>0||c.hasChildren())&&(e[r]=c)}return function g_(n){if(1===n.numberOfChildren&&n.children[un]){const e=n.children[un];return new bn(n.segments.concat(e.segments),e.children)}return n}(new bn(n.segments,e))}class Cw{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class jp{constructor(e,t){this.component=e,this.route=t}}function Tw(n,e,t){const r=n._root;return Wh(r,e?e._root:null,t,[r.value])}function qh(n,e,t){const r=function lC(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Wh(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const c=Lh(e);return n.children.forEach(p=>{(function Dw(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,p=e?e.value:null,_=t?t.getContext(n.value.outlet):null;if(p&&c.routeConfig===p.routeConfig){const C=function Iw(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Cl(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Cl(n.url,e.url)||!Aa(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!o_(n,e)||!Aa(n.queryParams,e.queryParams);default:return!o_(n,e)}}(p,c,c.routeConfig.runGuardsAndResolvers);C?o.canActivateChecks.push(new Cw(r)):(c.data=p.data,c._resolvedData=p._resolvedData),Wh(n,e,c.component?_?_.children:null:t,r,o),C&&_&&_.outlet&&_.outlet.isActivated&&o.canDeactivateChecks.push(new jp(_.outlet.component,p))}else p&&Kh(e,_,o),o.canActivateChecks.push(new Cw(r)),Wh(n,null,c.component?_?_.children:null:t,r,o)})(p,c[p.value.outlet],t,r.concat([p.value]),o),delete c[p.value.outlet]}),$r(c,(p,_)=>Kh(p,t.getContext(_),o)),o}function Kh(n,e,t){const r=Lh(n),o=n.value;$r(r,(c,p)=>{Kh(c,o.component?e?e.children.getContext(p):null:e,t)}),t.canDeactivateChecks.push(new jp(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}class pC{}function zp(n){return new Qn.y(e=>e.error(n))}class mC{constructor(e,t,r,o,c,p){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=p}recognize(){const e=Zh(this.urlTree.root,[],[],this.config.filter(p=>void 0===p.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,un);if(null===t)return null;const r=new Ed([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},un,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Ma(r,t),c=new Jb(this.url,o);return this.inheritParamsAndData(c._root),c}inheritParamsAndData(e){const t=e.value,r=Fp(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const c of Object.keys(t.children)){const p=t.children[c],_=p_(e,c),C=this.processSegmentGroup(_,p,c);if(null===C)return null;r.push(...C)}const o=Zp(r);return function Hp(n){n.sort((e,t)=>e.value.outlet===un?-1:t.value.outlet===un?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}processSegment(e,t,r,o){for(const c of e){const p=this.processSegmentAgainstRoute(c,t,r,o);if(null!==p)return p}return ww(t,r,o)?[]:null}processSegmentAgainstRoute(e,t,r,o){if(e.redirectTo||!vw(e,t,r,o))return null;let c,p=[],_=[];if("**"===e.path){const X=r.length>0?Ym(r).parameters:{};c=new Ed(r,X,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Mw(e),Js(e),e.component,e,y_(t),xw(t)+r.length,$p(e))}else{const X=Up(t,e,r);if(!X.matched)return null;p=X.consumedSegments,_=X.remainingSegments,c=new Ed(p,X.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Mw(e),Js(e),e.component,e,y_(t),xw(t)+p.length,$p(e))}const C=function __(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:x,slicedSegments:V}=Zh(t,p,_,C.filter(X=>void 0===X.redirectTo),this.relativeLinkResolution);if(0===V.length&&x.hasChildren()){const X=this.processChildren(C,x);return null===X?null:[new Ma(c,X)]}if(0===C.length&&0===V.length)return[new Ma(c,[])];const U=Js(e)===o,Y=this.processSegment(C,x,V,U?un:o);return null===Y?null:[new Ma(c,Y)]}}function _C(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Zp(n){const e=[],t=new Set;for(const r of n){if(!_C(r)){e.push(r);continue}const o=e.find(c=>r.value.routeConfig===c.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=Zp(r.children);e.push(new Ma(r.value,o))}return e.filter(r=>!t.has(r))}function y_(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function xw(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function Mw(n){return n.data||{}}function $p(n){return n.resolve||{}}function v_(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Gp(n){return Ys(e=>{const t=n(e);return t?(0,Bn.D)(t).pipe((0,Xt.U)(()=>e)):$t(e)})}class vC extends class qp{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const w_=new l.OlP("ROUTES");class wC{constructor(e,t,r,o){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=o}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const o=this.loadModuleFactory(t.loadChildren).pipe((0,Xt.U)(c=>{this.onLoadEndListener&&this.onLoadEndListener(t);const p=c.create(e);return new h_(xp(p.injector.get(w_,void 0,l.XFs.Self|l.XFs.Optional)).map(zh),p)}),lu(c=>{throw t._loader$=void 0,c}));return t._loader$=new au(o,()=>new ba.x).pipe(ac()),t._loader$}loadModuleFactory(e){return Sa(e()).pipe((0,ds.z)(t=>t instanceof l.YKP?$t(t):(0,Bn.D)(this.compiler.compileModuleAsync(t))))}}class Rw{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function b_(n){throw n}function Yh(n,e,t){return e.parse("/")}function kw(n,e){return $t(null)}const C_={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Lw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Qs=(()=>{class n{constructor(t,r,o,c,p,_,C){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=o,this.location=c,this.config=C,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ba.x,this.errorHandler=b_,this.malformedUriErrorHandler=Yh,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:kw,afterPreactivation:kw},this.urlHandlingStrategy=new Rw,this.routeReuseStrategy=new vC,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=p.get(l.h0i),this.console=p.get(l.c2e);const U=p.get(l.R0b);this.isNgZoneEnabled=U instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(C),this.currentUrlTree=function Qm(){return new bl(new bn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new wC(p,_,Y=>this.triggerEvent(new Zm(Y)),Y=>this.triggerEvent(new Ap(Y))),this.routerState=Yb(this.currentUrlTree,this.rootComponentType),this.transitions=new Ca({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(uu(o=>0!==o.id),(0,Xt.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Ys(o=>{let c=!1,p=!1;return $t(o).pipe((0,Do.b)(_=>{this.currentNavigation={id:_.id,initialUrl:_.currentRawUrl,extractedUrl:_.extractedUrl,trigger:_.source,extras:_.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ys(_=>{const C=this.browserUrlTree.toString(),x=!this.navigated||_.extractedUrl.toString()!==C||C!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||x)&&this.urlHandlingStrategy.shouldProcessUrl(_.rawUrl))return Vw(_.source)&&(this.browserUrlTree=_.extractedUrl),$t(_).pipe(Ys(U=>{const Y=this.transitions.getValue();return r.next(new Dp(U.id,this.serializeUrl(U.extractedUrl),U.source,U.restoredState)),Y!==this.transitions.getValue()?oc.E:Promise.resolve(U)}),function aC(n,e,t,r){return Ys(o=>function eA(n,e,t,r,o){return new oC(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,Xt.U)(c=>Object.assign(Object.assign({},o),{urlAfterRedirects:c}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Do.b)(U=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:U.urlAfterRedirects})}),function nA(n,e,t,r,o){return(0,ds.z)(c=>function gC(n,e,t,r,o="emptyOnly",c="legacy"){try{const p=new mC(n,e,t,r,o,c).recognize();return null===p?zp(new pC):$t(p)}catch(p){return zp(p)}}(n,e,c.urlAfterRedirects,t(c.urlAfterRedirects),r,o).pipe((0,Xt.U)(p=>Object.assign(Object.assign({},c),{targetSnapshot:p}))))}(this.rootComponentType,this.config,U=>this.serializeUrl(U),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Do.b)(U=>{if("eager"===this.urlUpdateStrategy){if(!U.extras.skipLocationChange){const X=this.urlHandlingStrategy.merge(U.urlAfterRedirects,U.rawUrl);this.setBrowserUrl(X,U)}this.browserUrlTree=U.urlAfterRedirects}const Y=new kb(U.id,this.serializeUrl(U.extractedUrl),this.serializeUrl(U.urlAfterRedirects),U.targetSnapshot);r.next(Y)}));if(x&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Y,extractedUrl:X,source:de,restoredState:He,extras:gt}=_,kt=new Dp(Y,this.serializeUrl(X),de,He);r.next(kt);const cn=Yb(X,this.rootComponentType).snapshot;return $t(Object.assign(Object.assign({},_),{targetSnapshot:cn,urlAfterRedirects:X,extras:Object.assign(Object.assign({},gt),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=_.rawUrl,_.resolve(null),oc.E}),Gp(_=>{const{targetSnapshot:C,id:x,extractedUrl:V,rawUrl:U,extras:{skipLocationChange:Y,replaceUrl:X}}=_;return this.hooks.beforePreactivation(C,{navigationId:x,appliedUrlTree:V,rawUrlTree:U,skipLocationChange:!!Y,replaceUrl:!!X})}),(0,Do.b)(_=>{const C=new Lb(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(C)}),(0,Xt.U)(_=>Object.assign(Object.assign({},_),{guards:Tw(_.targetSnapshot,_.currentSnapshot,this.rootContexts)})),function hu(n,e){return(0,ds.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:c,canDeactivateChecks:p}}=t;return 0===p.length&&0===c.length?$t(Object.assign(Object.assign({},t),{guardsResult:!0})):function m_(n,e,t,r){return(0,Bn.D)(n).pipe((0,ds.z)(o=>function fC(n,e,t,r,o){const c=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return c&&0!==c.length?$t(c.map(_=>{const C=qh(_,e,o);let x;if(function rC(n){return n&&xs(n.canDeactivate)}(C))x=Sa(C.canDeactivate(n,e,t,r));else{if(!xs(C))throw new Error("Invalid CanDeactivate guard");x=Sa(C(n,e,t,r))}return x.pipe(El())})).pipe(Hu()):$t(!0)}(o.component,o.route,t,e,r)),El(o=>!0!==o,!0))}(p,r,o,n).pipe((0,ds.z)(_=>_&&function hw(n){return"boolean"==typeof n}(_)?function cC(n,e,t,r){return(0,Bn.D)(e).pipe(uc(o=>jm(function tA(n,e){return null!==n&&e&&e(new Kv(n)),$t(!0)}(o.route.parent,r),function dC(n,e){return null!==n&&e&&e(new Bb(n)),$t(!0)}(o.route,r),function hC(n,e,t){const r=e[e.length-1],c=e.slice(0,e.length-1).reverse().map(p=>function uC(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(p)).filter(p=>null!==p).map(p=>Zv(()=>$t(p.guards.map(C=>{const x=qh(C,p.node,t);let V;if(function fw(n){return n&&xs(n.canActivateChild)}(x))V=Sa(x.canActivateChild(r,n));else{if(!xs(x))throw new Error("Invalid CanActivateChild guard");V=Sa(x(r,n))}return V.pipe(El())})).pipe(Hu())));return $t(c).pipe(Hu())}(n,o.path,t),function Aw(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return $t(!0);const o=r.map(c=>Zv(()=>{const p=qh(c,e,t);let _;if(function nC(n){return n&&xs(n.canActivate)}(p))_=Sa(p.canActivate(e,n));else{if(!xs(p))throw new Error("Invalid CanActivate guard");_=Sa(p(e,n))}return _.pipe(El())}));return $t(o).pipe(Hu())}(n,o.route,t))),El(o=>!0!==o,!0))}(r,c,n,e):$t(_)),(0,Xt.U)(_=>Object.assign(Object.assign({},t),{guardsResult:_})))})}(this.ngModule.injector,_=>this.triggerEvent(_)),(0,Do.b)(_=>{if(hc(_.guardsResult)){const x=Wm(`Redirecting to "${this.serializeUrl(_.guardsResult)}"`);throw x.url=_.guardsResult,x}const C=new Fb(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot,!!_.guardsResult);this.triggerEvent(C)}),uu(_=>!!_.guardsResult||(this.restoreHistory(_),this.cancelNavigationTransition(_,""),!1)),Gp(_=>{if(_.guards.canActivateChecks.length)return $t(_).pipe((0,Do.b)(C=>{const x=new Vb(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);this.triggerEvent(x)}),Ys(C=>{let x=!1;return $t(C).pipe(function yC(n,e){return(0,ds.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return $t(t);let c=0;return(0,Bn.D)(o).pipe(uc(p=>function Pw(n,e,t,r){return function Ow(n,e,t,r){const o=v_(n);if(0===o.length)return $t({});const c={};return(0,Bn.D)(o).pipe((0,ds.z)(p=>function Nw(n,e,t,r){const o=qh(n,e,r);return Sa(o.resolve?o.resolve(e,t):o(e,t))}(n[p],e,t,r).pipe((0,Do.b)(_=>{c[p]=_}))),lc(1),(0,ds.z)(()=>v_(c).length===o.length?$t(c):oc.E))}(n._resolve,n,e,r).pipe((0,Xt.U)(c=>(n._resolvedData=c,n.data=Object.assign(Object.assign({},n.data),Fp(n,t).resolve),null)))}(p.route,r,n,e)),(0,Do.b)(()=>c++),lc(1),(0,ds.z)(p=>c===o.length?$t(t):oc.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Do.b)({next:()=>x=!0,complete:()=>{x||(this.restoreHistory(C),this.cancelNavigationTransition(C,"At least one route resolver didn't emit any value."))}}))}),(0,Do.b)(C=>{const x=new Ub(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);this.triggerEvent(x)}))}),Gp(_=>{const{targetSnapshot:C,id:x,extractedUrl:V,rawUrl:U,extras:{skipLocationChange:Y,replaceUrl:X}}=_;return this.hooks.afterPreactivation(C,{navigationId:x,appliedUrlTree:V,rawUrlTree:U,skipLocationChange:!!Y,replaceUrl:!!X})}),(0,Xt.U)(_=>{const C=function aw(n,e,t){const r=Vp(n,e._root,t?t._root:void 0);return new n_(r,e)}(this.routeReuseStrategy,_.targetSnapshot,_.currentRouterState);return Object.assign(Object.assign({},_),{targetRouterState:C})}),(0,Do.b)(_=>{this.currentUrlTree=_.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(_.urlAfterRedirects,_.rawUrl),this.routerState=_.targetRouterState,"deferred"===this.urlUpdateStrategy&&(_.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,_),this.browserUrlTree=_.urlAfterRedirects)}),((n,e,t)=>(0,Xt.U)(r=>(new dw(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,_=>this.triggerEvent(_)),(0,Do.b)({next(){c=!0},complete(){c=!0}}),function _d(n){return(0,Ta.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var _;c||p||this.cancelNavigationTransition(o,`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`),(null===(_=this.currentNavigation)||void 0===_?void 0:_.id)===o.id&&(this.currentNavigation=null)}),lu(_=>{if(p=!0,function Sp(n){return n&&n[qm]}(_)){const C=hc(_.url);C||(this.navigated=!0,this.restoreHistory(o,!0));const x=new Ip(o.id,this.serializeUrl(o.extractedUrl),_.message);r.next(x),C?setTimeout(()=>{const V=this.urlHandlingStrategy.merge(_.url,this.rawUrlTree),U={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Vw(o.source)};this.scheduleNavigation(V,"imperative",null,U,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const C=new Rb(o.id,this.serializeUrl(o.extractedUrl),_);r.next(C);try{o.resolve(this.errorHandler(_))}catch(x){o.reject(x)}}return oc.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var o;const c={replaceUrl:!0},p=(null===(o=t.state)||void 0===o?void 0:o.navigationId)?t.state:null;if(p){const C=Object.assign({},p);delete C.navigationId,delete C.\u0275routerPageId,0!==Object.keys(C).length&&(c.state=C)}const _=this.parseUrl(t.url);this.scheduleNavigation(_,r,p,c)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){pw(t),this.config=t.map(zh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:c,fragment:p,queryParamsHandling:_,preserveFragment:C}=r,x=o||this.routerState.root,V=C?this.currentUrlTree.fragment:p;let U=null;switch(_){case"merge":U=Object.assign(Object.assign({},this.currentUrlTree.queryParams),c);break;case"preserve":U=this.currentUrlTree.queryParams;break;default:U=c||null}return null!==U&&(U=this.removeEmptyProps(U)),function uw(n,e,t,r,o){if(0===t.length)return Uh(e.root,e.root,e.root,r,o);const c=function qI(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new eC(!0,0,n);let e=0,t=!1;const r=n.reduce((o,c,p)=>{if("object"==typeof c&&null!=c){if(c.outlets){const _={};return $r(c.outlets,(C,x)=>{_[x]="string"==typeof C?C.split("/"):C}),[...o,{outlets:_}]}if(c.segmentPath)return[...o,c.segmentPath]}return"string"!=typeof c?[...o,c]:0===p?(c.split("/").forEach((_,C)=>{0==C&&"."===_||(0==C&&""===_?t=!0:".."===_?e++:""!=_&&o.push(_))}),o):[...o,c]},[]);return new eC(t,e,r)}(t);if(c.toRoot())return Uh(e.root,e.root,new bn([],{}),r,o);const p=function WI(n,e,t){if(n.isAbsolute)return new lw(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const c=t.snapshot._urlSegment;return new lw(c,c===e.root,0)}const r=Fh(n.commands[0])?0:1;return function KI(n,e,t){let r=n,o=e,c=t;for(;c>o;){if(c-=o,r=r.parent,!r)throw new Error("Invalid number of '../'");o=r.segments.length}return new lw(r,!1,o-c)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(c,e,n),_=p.processChildren?a_(p.segmentGroup,p.index,c.commands):tC(p.segmentGroup,p.index,c.commands);return Uh(e.root,p.segmentGroup,_,r,o)}(x,this.currentUrlTree,t,U,null!=V?V:null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=hc(t)?t:this.parseUrl(t),c=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(c,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function Fw(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?Object.assign({},C_):!1===r?Object.assign({},Lw):r,hc(t))return yd(this.currentUrlTree,t,o);const c=this.parseUrl(t);return yd(this.currentUrlTree,c,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const c=t[o];return null!=c&&(r[o]=c),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Ph(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,o,c,p){var _,C;if(this.disposed)return Promise.resolve(!1);let x,V,U;p?(x=p.resolve,V=p.reject,U=p.promise):U=new Promise((de,He)=>{x=de,V=He});const Y=++this.navigationId;let X;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),X=o&&o.\u0275routerPageId?o.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?null!==(_=this.browserPageId)&&void 0!==_?_:0:(null!==(C=this.browserPageId)&&void 0!==C?C:0)+1):X=0,this.setTransition({id:Y,targetPageId:X,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:c,resolve:x,reject:V,promise:U,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),U.catch(de=>Promise.reject(de))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),c=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",c):this.location.go(o,"",c)}restoreHistory(t,r=!1){var o,c;if("computed"===this.canceledNavigationResolution){const p=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===p?this.currentUrlTree===(null===(c=this.currentNavigation)||void 0===c?void 0:c.finalUrl)&&0===p&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(p)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const o=new Ip(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Vw(n){return"imperative"!==n}class D_{}class Bw{preload(e,t){return $t(null)}}let mc=(()=>{class n{constructor(t,r,o,c){this.router=t,this.injector=o,this.preloadingStrategy=c,this.loader=new wC(o,r,C=>t.triggerEvent(new Zm(C)),C=>t.triggerEvent(new Ap(C)))}setUpPreloading(){this.subscription=this.router.events.pipe(uu(t=>t instanceof Ph),uc(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(l.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const c of r)if(c.loadChildren&&!c.canLoad&&c._loadedConfig){const p=c._loadedConfig;o.push(this.processRoutes(p.module,p.routes))}else c.loadChildren&&!c.canLoad?o.push(this.preloadConfig(t,c)):c.children&&o.push(this.processRoutes(t,c.children));return(0,Bn.D)(o).pipe((0,Cp.J)(),(0,Xt.U)(c=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?$t(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,ds.z)(c=>(r._loadedConfig=c,this.processRoutes(c.module,c.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Qs),l.LFG(l.Sil),l.LFG(l.zs3),l.LFG(D_))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),I_=(()=>{class n{constructor(t,r,o={}){this.router=t,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Dp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ph&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Gm&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Gm(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const _c=new l.OlP("ROUTER_CONFIGURATION"),jw=new l.OlP("ROUTER_FORROOT_GUARD"),fu=[Ne,{provide:Xv,useClass:sa},{provide:Qs,useFactory:function bC(n,e,t,r,o,c,p={},_,C){const x=new Qs(null,n,e,t,r,o,xp(c));return _&&(x.urlHandlingStrategy=_),C&&(x.routeReuseStrategy=C),function CC(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(p,x),p.enableTracing&&x.events.subscribe(V=>{var U,Y;null===(U=console.group)||void 0===U||U.call(console,`Router Event: ${V.constructor.name}`),console.log(V.toString()),console.log(V),null===(Y=console.groupEnd)||void 0===Y||Y.call(console)}),x},deps:[Xv,fc,Ne,l.zs3,l.Sil,w_,_c,[class E_{},new l.FiY],[class Zu{},new l.FiY]]},fc,{provide:zu,useFactory:function TC(n){return n.routerState.root},deps:[Qs]},mc,Bw,class EC{preload(e,t){return t().pipe(lu(()=>$t(null)))}},{provide:_c,useValue:{enableTracing:!1}}];function A_(){return new l.PXZ("Router",Qs)}let S_=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[fu,$w(t),{provide:jw,useFactory:Zw,deps:[[Qs,new l.FiY,new l.tp0]]},{provide:_c,useValue:r||{}},{provide:_e,useFactory:Hw,deps:[Se,[new l.tBr(nt),new l.FiY],_c]},{provide:I_,useFactory:zw,deps:[Qs,Au,_c]},{provide:D_,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Bw},{provide:l.PXZ,multi:!0,useFactory:A_},[Wp,{provide:l.ip1,multi:!0,useFactory:iA,deps:[Wp]},{provide:qw,useFactory:Gw,deps:[Wp]},{provide:l.tb,multi:!0,useExisting:qw}]]}}static forChild(t){return{ngModule:n,providers:[$w(t)]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(jw,8),l.LFG(Qs,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function zw(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new I_(n,e,t)}function Hw(n,e,t={}){return t.useHash?new Re(n,e):new Ge(n,e)}function Zw(n){return"guarded"}function $w(n){return[{provide:l.deG,multi:!0,useValue:n},{provide:w_,multi:!0,useValue:n}]}let Wp=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ba.x}appInitializer(){return this.injector.get(q,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const o=new Promise(_=>r=_),c=this.injector.get(Qs),p=this.injector.get(_c);return"disabled"===p.initialNavigation?(c.setUpLocationChangeListener(),r(!0)):"enabled"===p.initialNavigation||"enabledBlocking"===p.initialNavigation?(c.hooks.afterPreactivation=()=>this.initNavigation?$t(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),c.initialNavigation()):r(!0),o})}bootstrapListener(t){const r=this.injector.get(_c),o=this.injector.get(mc),c=this.injector.get(I_),p=this.injector.get(Qs),_=this.injector.get(l.z2F);t===_.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&p.initialNavigation(),o.setUpPreloading(),c.init(),p.resetRootComponentType(_.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function iA(n){return n.appInitializer.bind(n)}function Gw(n){return n.bootstrapListener.bind(n)}const qw=new l.OlP("Router Initializer"),sA=[];let x_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[S_.forRoot(sA)],S_]}),n})();var dt,$n=k(8239),yc=(()=>{return(n=yc||(yc={}))[n.enigme=0]="enigme",n[n.challenge=1]="challenge",yc;var n})(),vc=(()=>{return(n=vc||(vc={}))[n.distanciel=0]="distanciel",n[n.presentiel=1]="presentiel",vc;var n})(),Tl=k(8026),Io=k(3910),M_=k(5422),Qh=k(3854),Ww="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},pu={},P_=P_||{},Yt=Ww||self;function Xh(){}function ef(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function tf(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var N_="closure_uid_"+(1e9*Math.random()>>>0),IC=0;function AC(n,e,t){return n.call.apply(n.bind,arguments)}function SC(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function Bi(n,e,t){return(Bi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?AC:SC).apply(null,arguments)}function Kp(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Gr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,o,c){for(var p=Array(arguments.length-2),_=2;_<arguments.length;_++)p[_-2]=arguments[_];return e.prototype[o].apply(r,p)}}function Ao(){this.s=this.s,this.o=this.o}var nf={};Ao.prototype.s=!1,Ao.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function O_(n){return Object.prototype.hasOwnProperty.call(n,N_)&&n[N_]||(n[N_]=++IC)}(this);delete nf[n]}},Ao.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Kw=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Yw=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,o="string"==typeof n?n.split(""):n;for(let c=0;c<r;c++)c in o&&e.call(t,o[c],c,n)};function Pa(n){return Array.prototype.concat.apply([],arguments)}function wc(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function ti(n){return/^[\s\xa0]*$/.test(n)}var ji,Dl=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Ci(n,e){return-1!=n.indexOf(e)}function Xs(n,e){return n<e?-1:n>e?1:0}e:{var Ec=Yt.navigator;if(Ec){var bc=Ec.userAgent;if(bc){ji=bc;break e}}ji=""}function Il(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Cc(n){const e={};for(const t in n)e[t]=n[t];return e}var Tc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Dc(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let c=0;c<Tc.length;c++)t=Tc[c],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Al(n){return Al[" "](n),n}Al[" "]=Xh;var rf,n,Id=Ci(ji,"Opera"),Ic=Ci(ji,"Trident")||Ci(ji,"MSIE"),k_=Ci(ji,"Edge"),Yp=k_||Ic,L_=Ci(ji,"Gecko")&&!(Ci(ji.toLowerCase(),"webkit")&&!Ci(ji,"Edge"))&&!(Ci(ji,"Trident")||Ci(ji,"MSIE"))&&!Ci(ji,"Edge"),Jw=Ci(ji.toLowerCase(),"webkit")&&!Ci(ji,"Edge");function F_(){var n=Yt.document;return n?n.documentMode:void 0}e:{var Jp="",Qp=(n=ji,L_?/rv:([^\);]+)(\)|;)/.exec(n):k_?/Edge\/([\d\.]+)/.exec(n):Ic?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Jw?/WebKit\/(\S+)/.exec(n):Id?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Qp&&(Jp=Qp?Qp[1]:""),Ic){var V_=F_();if(null!=V_&&V_>parseFloat(Jp)){rf=String(V_);break e}}rf=Jp}var Qw={};var PC=Yt.document&&Ic&&(F_()||parseInt(rf,10))||void 0,OC=function(){if(!Yt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Yt.addEventListener("test",Xh,e),Yt.removeEventListener("test",Xh,e)}catch(t){}return n}();function zi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function sf(n,e){if(zi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(L_){e:{try{Al(e.nodeName);var o=!0;break e}catch(c){}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Xw[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&sf.Z.h.call(this)}}zi.prototype.h=function(){this.defaultPrevented=!0},Gr(sf,zi);var Xw={2:"touch",3:"pen",4:"mouse"};sf.prototype.h=function(){sf.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var of="closure_listenable_"+(1e6*Math.random()|0),NC=0;function oA(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=o,this.key=++NC,this.ca=this.fa=!1}function eg(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Ad(n){this.src=n,this.g={},this.h=0}function af(n,e){var t=e.type;if(t in n.g){var c,r=n.g[t],o=Kw(r,e);(c=0<=o)&&Array.prototype.splice.call(r,o,1),c&&(eg(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function B_(n,e,t,r){for(var o=0;o<n.length;++o){var c=n[o];if(!c.ca&&c.listener==e&&c.capture==!!t&&c.ia==r)return o}return-1}Ad.prototype.add=function(n,e,t,r,o){var c=n.toString();(n=this.g[c])||(n=this.g[c]=[],this.h++);var p=B_(n,e,r,o);return-1<p?(e=n[p],t||(e.fa=!1)):((e=new oA(e,this.src,c,!!r,o)).fa=t,n.push(e)),e};var e0="closure_lm_"+(1e6*Math.random()|0),t0={};function RC(n,e,t,r,o){if(r&&r.once)return kC(n,e,t,r,o);if(Array.isArray(e)){for(var c=0;c<e.length;c++)RC(n,e[c],t,r,o);return null}return t=Sd(t),n&&n[of]?n.N(e,t,tf(r)?!!r.capture:!!r,o):n0(n,e,t,!1,r,o)}function n0(n,e,t,r,o,c){if(!e)throw Error("Invalid event type");var p=tf(o)?!!o.capture:!!o,_=j_(n);if(_||(n[e0]=_=new Ad(n)),(t=_.add(e,t,r,p,c)).proxy)return t;if(r=function r0(){var e=a0;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)OC||(o=p),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(o0(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function kC(n,e,t,r,o){if(Array.isArray(e)){for(var c=0;c<e.length;c++)kC(n,e[c],t,r,o);return null}return t=Sd(t),n&&n[of]?n.O(e,t,tf(r)?!!r.capture:!!r,o):n0(n,e,t,!0,r,o)}function s0(n,e,t,r,o){if(Array.isArray(e))for(var c=0;c<e.length;c++)s0(n,e[c],t,r,o);else r=tf(r)?!!r.capture:!!r,t=Sd(t),n&&n[of]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=B_(c=n.g[e],t,r,o))&&(eg(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete n.g[e],n.h--))):n&&(n=j_(n))&&(e=n.g[e.toString()],n=-1,e&&(n=B_(e,t,r,o)),(t=-1<n?e[n]:null)&&Sl(t))}function Sl(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[of])af(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(o0(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=j_(e))?(af(t,n),0==t.h&&(t.src=null,e[e0]=null)):eg(n)}}}function o0(n){return n in t0?t0[n]:t0[n]="on"+n}function a0(n,e){if(n.ca)n=!0;else{e=new sf(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&Sl(n),n=t.call(r,e)}return n}function j_(n){return(n=n[e0])instanceof Ad?n:null}var tg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sd(n){return"function"==typeof n?n:(n[tg]||(n[tg]=function(e){return n.handleEvent(e)}),n[tg])}function Ti(){Ao.call(this),this.i=new Ad(this),this.P=this,this.I=null}function Di(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new zi(e,n);else if(e instanceof zi)e.target=e.target||n;else{var o=e;Dc(e=new zi(r,n),o)}if(o=!0,t)for(var c=t.length-1;0<=c;c--){var p=e.g=t[c];o=ng(p,r,!0,e)&&o}if(o=ng(p=e.g=n,r,!0,e)&&o,o=ng(p,r,!1,e)&&o,t)for(c=0;c<t.length;c++)o=ng(p=e.g=t[c],r,!1,e)&&o}function ng(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,c=0;c<e.length;++c){var p=e[c];if(p&&!p.ca&&p.capture==t){var _=p.listener,C=p.ia||p.src;p.fa&&af(n.i,p),o=!1!==_.call(C,r)&&o}}return o&&!r.defaultPrevented}Gr(Ti,Ao),Ti.prototype[of]=!0,Ti.prototype.removeEventListener=function(n,e,t,r){s0(this,n,e,t,r)},Ti.prototype.M=function(){if(Ti.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)eg(t[r]);delete n.g[e],n.h--}}this.I=null},Ti.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Ti.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var z_=Yt.JSON.stringify;function LC(){var n=sg;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var ig,u0=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new l0,n=>n.reset());class l0{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function VC(n){Yt.setTimeout(()=>{throw n},0)}function rg(n,e){ig||function H_(){var n=Yt.Promise.resolve(void 0);ig=function(){n.then(UC)}}(),c0||(ig(),c0=!0),sg.add(n,e)}var c0=!1,sg=new class FC{constructor(){this.h=this.g=null}add(e,t){const r=u0.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function UC(){for(var n;n=LC();){try{n.h.call(n.g)}catch(t){VC(t)}var e=u0;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}c0=!1}function Z_(n,e){Ti.call(this),this.h=n||1,this.g=e||Yt,this.j=Bi(this.kb,this),this.l=Date.now()}function Ac(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function og(n,e,t){if("function"==typeof n)t&&(n=Bi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Bi(n.handleEvent,n)}return 2147483647<Number(e)?-1:Yt.setTimeout(n,e||0)}function ag(n){n.g=og(()=>{n.g=null,n.i&&(n.i=!1,ag(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Gr(Z_,Ti),(dt=Z_.prototype).da=!1,dt.S=null,dt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Di(this,"tick"),this.da&&(Ac(this),this.start()))}},dt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},dt.M=function(){Z_.Z.M.call(this),Ac(this),delete this.g};class $_ extends Ao{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ag(this)}M(){super.M(),this.g&&(Yt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function uf(n){Ao.call(this),this.h=n,this.g={}}Gr(uf,Ao);var lf=[];function cf(n,e,t,r){Array.isArray(t)||(t&&(lf[0]=t.toString()),t=lf);for(var o=0;o<t.length;o++){var c=RC(e,t[o],r||n.handleEvent,!1,n.h||n);if(!c)break;n.g[c.key]=c}}function ug(n){Il(n.g,function(e,t){this.g.hasOwnProperty(t)&&Sl(e)},n),n.g={}}function G_(){this.g=!0}function xl(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function d0(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var c=o[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var p=1;p<o.length;p++)o[p]=""}}}return z_(t)}catch(_){return e}}(n,t)+(r?" "+r:"")})}uf.prototype.M=function(){uf.Z.M.call(this),ug(this)},uf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},G_.prototype.Aa=function(){this.g=!1},G_.prototype.info=function(){};var $u={},K_=null;function df(){return K_=K_||new Ti}function lg(n){zi.call(this,$u.Ma,n)}function xd(n){const e=df();Di(e,new lg(e,n))}function h0(n,e){zi.call(this,$u.STAT_EVENT,n),this.stat=e}function fs(n){const e=df();Di(e,new h0(e,n))}function Y_(n,e){zi.call(this,$u.Na,n),this.size=e}function Sc(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Yt.setTimeout(function(){n()},e)}$u.Ma="serverreachability",Gr(lg,zi),$u.STAT_EVENT="statevent",Gr(h0,zi),$u.Na="timingevent",Gr(Y_,zi);var hf={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},f0={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function cg(){}function Q_(){}cg.prototype.h=null;var fg,xc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function dg(){zi.call(this,"d")}function hg(){zi.call(this,"c")}function ff(){}function Md(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new uf(this),this.P=p0,this.W=new Z_(n=Yp?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new X_}function X_(){this.i=null,this.g="",this.h=!1}Gr(dg,zi),Gr(hg,zi),Gr(ff,cg),ff.prototype.g=function(){return new XMLHttpRequest},ff.prototype.i=function(){return{}},fg=new ff;var p0=45e3,pg={},ey={};function ty(n,e,t){n.K=1,n.v=eo(gu(e)),n.s=t,n.U=!0,g0(n,null)}function g0(n,e){n.F=Date.now(),Pd(n),n.A=gu(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),mf(t.h,"t",r),n.C=0,t=n.l.H,n.h=new X_,n.g=Cf(n.l,t?e:null,!n.s),0<n.O&&(n.L=new $_(Bi(n.Ia,n,n.g),n.O)),cf(n.V,n.g,"readystatechange",n.gb),e=n.H?Cc(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),xd(1),function BC(n,e,t,r,o,c){n.info(function(){if(n.g)if(c)for(var p="",_=c.split("&"),C=0;C<_.length;C++){var x=_[C].split("=");if(1<x.length){var V=x[0];x=x[1];var U=V.split("_");p=2<=U.length&&"type"==U[1]?p+(V+"=")+x+"&":p+(V+"=redacted&")}}else p=null;else p=c;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+p})}(n.j,n.u,n.A,n.m,n.X,n.s)}function ny(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function m0(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=ni(n,t),o==ey){4==e&&(n.o=4,fs(14),r=!1),xl(n.j,n.m,null,"[Incomplete Response]");break}if(o==pg){n.o=4,fs(15),xl(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}xl(n.j,n.m,o,null),mg(n,o)}ny(n)&&o!=ey&&o!=pg&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,fs(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),O0(e),e.L=!0,fs(11))):(xl(n.j,n.m,t,"[Invalid Chunked Response]"),Mc(n),Od(n))}function ni(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?ey:(t=Number(e.substring(t,r)),isNaN(t)?pg:(r+=1)+t>e.length?ey:(e=e.substr(r,t),n.C=r+t,e))}function Pd(n){n.Y=Date.now()+n.P,_0(n,n.P)}function _0(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Sc(Bi(n.eb,n),e)}function gg(n){n.B&&(Yt.clearTimeout(n.B),n.B=null)}function Od(n){0==n.l.G||n.I||N0(n.l,n)}function Mc(n){gg(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Ac(n.W),ug(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function mg(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||wg(t.i,n)))if(t.I=n.N,!n.J&&wg(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(x){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0])e:if(t.u)t.ta=o[1],0<t.ta-t.U&&37500>o[2]&&t.N&&0==t.A&&!t.v&&(t.v=Sc(Bi(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;xg(t),Ef(t)}Sg(t),fs(18)}if(1>=uy(t.i)&&t.ka){try{t.ka()}catch(x){}t.ka=void 0}}else _u(t,11)}else if((n.J||t.g==n)&&xg(t),!ti(e))for(o=t.Ca.g.parse(e),e=0;e<o.length;e++){let x=o[e];if(t.U=x[0],x=x[1],2==t.G)if("c"==x[0]){t.J=x[1],t.la=x[2];const V=x[3];null!=V&&(t.ma=V,t.h.info("VER="+t.ma));const U=x[4];null!=U&&(t.za=U,t.h.info("SVER="+t.za));const Y=x[5];null!=Y&&"number"==typeof Y&&0<Y&&(t.K=r=1.5*Y,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const X=n.g;if(X){const de=X.g?X.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(de){var c=r.i;!c.g&&(Ci(de,"spdy")||Ci(de,"quic")||Ci(de,"h2"))&&(c.j=c.l,c.g=new Set,c.h&&(Eg(c,c.h),c.h=null))}if(r.D){const He=X.g?X.g.getResponseHeader("X-HTTP-Session-Id"):null;He&&(r.sa=He,Dn(r.F,r.D,He))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var p=n;if((r=t).oa=bf(r,r.H?r.la:null,r.W),p.J){ly(r.i,p);var _=p,C=r.K;C&&_.setTimeout(C),_.B&&(gg(_),Pd(_)),r.g=p}else _y(r);0<t.l.length&&Ag(t)}else"stop"!=x[0]&&"close"!=x[0]||_u(t,7);else 3==t.G&&("stop"==x[0]||"close"==x[0]?"stop"==x[0]?_u(t,7):Ig(t):"noop"!=x[0]&&t.j&&t.j.wa(x),t.A=0)}xd(4)}catch(x){}}function Ml(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(ef(n)||"string"==typeof n)Yw(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(ef(n)||"string"==typeof n){t=[];for(var r=n.length,o=0;o<r;o++)t.push(o)}else for(o in t=[],r=0,n)t[r++]=o;r=function y0(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(ef(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length;for(var c=0;c<o;c++)e.call(void 0,r[c],t&&t[c],n)}}function Nd(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Nd)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function ry(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Pl(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var o={};for(t=e=0;e<n.g.length;)Pl(o,r=n.g[e])||(n.g[t++]=r,o[r]=1),e++;n.g.length=t}}function Pl(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(dt=Md.prototype).setTimeout=function(n){this.P=n},dt.gb=function(n){n=n.target;const e=this.L;e&&3==mu(n)?e.l():this.Ia(n)},dt.Ia=function(n){try{if(n==this.g)e:{const V=mu(this.g);var e=this.g.Da();const U=this.g.ba();if(!(3>V)&&(3!=V||Yp||this.g&&(this.h.h||this.g.ga()||py(this.g)))){this.I||4!=V||7==e||xd(8==e||0>=U?3:2),gg(this);var t=this.g.ba();this.N=t;t:if(ny(this)){var r=py(this.g);n="";var o=r.length,c=4==mu(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Mc(this),Od(this);var p="";break t}this.h.i=new Yt.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:c&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,p=this.h.g}else p=this.g.ga();if(this.i=200==t,function q_(n,e,t,r,o,c,p){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+c+" "+p})}(this.j,this.u,this.A,this.m,this.X,V,t),this.i){if(this.$&&!this.J){t:{if(this.g){var _,C=this.g;if((_=C.g?C.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ti(_)){var x=_;break t}}x=null}if(!(t=x)){this.i=!1,this.o=3,fs(12),Mc(this),Od(this);break e}xl(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,mg(this,t)}this.U?(m0(this,V,p),Yp&&this.i&&3==V&&(cf(this.V,this.W,"tick",this.fb),this.W.start())):(xl(this.j,this.m,p,null),mg(this,p)),4==V&&Mc(this),this.i&&!this.I&&(4==V?N0(this.l,this):(this.i=!1,Pd(this)))}else 400==t&&0<p.indexOf("Unknown SID")?(this.o=3,fs(12)):(this.o=0,fs(13)),Mc(this),Od(this)}}}catch(V){}},dt.fb=function(){if(this.g){var n=mu(this.g),e=this.g.ga();this.C<e.length&&(gg(this),m0(this,n,e),this.i&&4!=n&&Pd(this))}},dt.cancel=function(){this.I=!0,Mc(this)},dt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function W_(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(xd(3),fs(17)),Mc(this),this.o=2,Od(this)):_0(this,this.Y-n)},(dt=Nd.prototype).R=function(){ry(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},dt.T=function(){return ry(this),this.g.concat()},dt.get=function(n,e){return Pl(this.h,n)?this.h[n]:e},dt.set=function(n,e){Pl(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},dt.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var o=t[r],c=this.get(o);n.call(e,c,o,this)}};var v0=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Rd(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Rd){this.g=void 0!==e?e:n.g,kd(this,n.j),this.s=n.s,So(this,n.i),_g(this,n.m),this.l=n.l,e=n.h;var t=new Fd;t.i=e.i,e.g&&(t.g=new Nd(e.g),t.h=e.h),E0(this,t),this.o=n.o}else n&&(t=String(n).match(v0))?(this.g=!!e,kd(this,t[1]||"",!0),this.s=Ld(t[2]||""),So(this,t[3]||"",!0),_g(this,t[4]),this.l=Ld(t[5]||"",!0),E0(this,t[6]||"",!0),this.o=Ld(t[7]||"")):(this.g=!!e,this.h=new Fd(null,this.g))}function gu(n){return new Rd(n)}function kd(n,e,t){n.j=t?Ld(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function So(n,e,t){n.i=t?Ld(e,!0):e}function _g(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function E0(n,e,t){e instanceof Fd?(n.h=e,function T0(n,e){e&&!n.j&&(Ol(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(sy(this,r),mf(this,o,t))},n)),n.j=e}(n.h,n.g)):(t||(e=pf(e,gf)),n.h=new Fd(e,n.g))}function Dn(n,e,t){n.h.set(e,t)}function eo(n){return Dn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Ld(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function pf(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,jC),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function jC(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Rd.prototype.toString=function(){var n=[],e=this.j;e&&n.push(pf(e,C0,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(pf(e,C0,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(pf(t,"/"==t.charAt(0)?iy:zC,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",pf(t,HC)),n.join("")};var C0=/[#\/\?@]/g,zC=/[#\?:]/g,iy=/[#\?]/g,gf=/[#\?@]/g,HC=/#/g;function Fd(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ol(n){n.g||(n.g=new Nd,n.h=0,n.i&&function w0(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var c=n[t].substring(0,r);o=n[t].substring(r+1)}else c=n[t];e(c,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function sy(n,e){Ol(n),e=Vd(n,e),Pl(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Pl((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&ry(n)))}function oy(n,e){return Ol(n),e=Vd(n,e),Pl(n.g.h,e)}function mf(n,e,t){sy(n,e),0<t.length&&(n.i=null,n.g.set(Vd(n,e),wc(t)),n.h+=t.length)}function Vd(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function yg(n){this.l=n||vg,n=Yt.PerformanceNavigationTiming?0<(n=Yt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Yt.g&&Yt.g.Ea&&Yt.g.Ea()&&Yt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(dt=Fd.prototype).add=function(n,e){Ol(this),this.i=null,n=Vd(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},dt.forEach=function(n,e){Ol(this),this.g.forEach(function(t,r){Yw(t,function(o){n.call(e,o,r,this)},this)},this)},dt.T=function(){Ol(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var o=n[r],c=0;c<o.length;c++)t.push(e[r]);return t},dt.R=function(n){Ol(this);var e=[];if("string"==typeof n)oy(this,n)&&(e=Pa(e,this.g.get(Vd(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=Pa(e,n[t])}return e},dt.set=function(n,e){return Ol(this),this.i=null,oy(this,n=Vd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},dt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},dt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],o=encodeURIComponent(String(r));r=this.R(r);for(var c=0;c<r.length;c++){var p=o;""!==r[c]&&(p+="="+encodeURIComponent(String(r[c]))),n.push(p)}}return this.i=n.join("&")};var vg=10;function ay(n){return!!n.h||!!n.g&&n.g.size>=n.j}function uy(n){return n.h?1:n.g?n.g.size:0}function wg(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Eg(n,e){n.g?n.g.add(e):n.h=e}function ly(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function cy(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return wc(n.i)}function bg(){}function I0(){this.g=new bg}function ZC(n,e,t){const r=t||"";try{Ml(n,function(o,c){let p=o;tf(o)&&(p=z_(o)),e.push(r+c+"="+encodeURIComponent(p))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function Cg(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch(c){}}function _f(n){this.l=n.$b||null,this.j=n.ib||!1}function Tg(n,e){Ti.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=dy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}yg.prototype.cancel=function(){if(this.i=cy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},bg.prototype.stringify=function(n){return Yt.JSON.stringify(n,void 0)},bg.prototype.parse=function(n){return Yt.JSON.parse(n,void 0)},Gr(_f,cg),_f.prototype.g=function(){return new Tg(this.l,this.j)},_f.prototype.i=function(n){return function(){return n}}({}),Gr(Tg,Ti);var dy=0;function A0(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function yf(n){n.readyState=4,n.l=null,n.j=null,n.A=null,vf(n)}function vf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(dt=Tg.prototype).open=function(n,e){if(this.readyState!=dy)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,vf(this)},dt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Yt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},dt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,yf(this)),this.readyState=dy},dt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,vf(this)),this.g&&(this.readyState=3,vf(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Yt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;A0(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},dt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?yf(this):vf(this),3==this.readyState&&A0(this)}},dt.Ua=function(n){this.g&&(this.response=this.responseText=n,yf(this))},dt.Ta=function(n){this.g&&(this.response=n,yf(this))},dt.ha=function(){this.g&&yf(this)},dt.setRequestHeader=function(n,e){this.v.append(n,e)},dt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},dt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Tg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var GC=Yt.JSON.parse;function qr(n){Ti.call(this),this.headers=new Nd,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=S0,this.K=this.L=!1}Gr(qr,Ti);var S0="",qC=/^https?$/i,WC=["POST","PUT"];function YC(n){return"content-type"==n.toLowerCase()}function x0(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,M0(n),wf(n)}function M0(n){n.D||(n.D=!0,Di(n,"complete"),Di(n,"error"))}function hy(n){if(n.h&&void 0!==P_&&(!n.C[1]||4!=mu(n)||2!=n.ba()))if(n.v&&4==mu(n))og(n.Fa,0,n);else if(Di(n,"readystatechange"),4==mu(n)){n.h=!1;try{const _=n.ba();e:switch(_){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===_){var o=String(n.H).match(v0)[1]||null;if(!o&&Yt.self&&Yt.self.location){var c=Yt.self.location.protocol;o=c.substr(0,c.length-1)}r=!qC.test(o?o.toLowerCase():"")}t=r}if(t)Di(n,"complete"),Di(n,"success");else{n.m=6;try{var p=2<mu(n)?n.g.statusText:""}catch(C){p=""}n.j=p+" ["+n.ba()+"]",M0(n)}}finally{wf(n)}}}function wf(n,e){if(n.g){fy(n);const t=n.g,r=n.C[0]?Xh:null;n.g=null,n.C=null,e||Di(n,"ready");try{t.onreadystatechange=r}catch(o){}}}function fy(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Yt.clearTimeout(n.A),n.A=null)}function mu(n){return n.g?n.g.readyState:0}function py(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case S0:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Dg(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function P0(n){let e="";return Il(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Dn(n,e,t))}function Ud(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function gy(n){this.za=0,this.l=[],this.h=new G_,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ud("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ud("baseRetryDelayMs",5e3,n),this.$a=Ud("retryDelaySeedMs",1e4,n),this.Ya=Ud("forwardChannelMaxRetries",2,n),this.ra=Ud("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new yg(n&&n.concurrentRequestLimit),this.Ca=new I0,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Ig(n){if(Nl(n),3==n.G){var e=n.V++,t=gu(n.F);Dn(t,"SID",n.J),Dn(t,"RID",e),Dn(t,"TYPE","terminate"),Pc(n,t),(e=new Md(n,n.h,e,void 0)).K=2,e.v=eo(gu(t)),t=!1,Yt.navigator&&Yt.navigator.sendBeacon&&(t=Yt.navigator.sendBeacon(e.v.toString(),"")),!t&&Yt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Cf(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Pd(e)}k0(n)}function Ef(n){n.g&&(O0(n),n.g.cancel(),n.g=null)}function Nl(n){Ef(n),n.u&&(Yt.clearTimeout(n.u),n.u=null),xg(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Yt.clearTimeout(n.m),n.m=null)}function my(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Ag(n)}function Ag(n){ay(n.i)||n.m||(n.m=!0,rg(n.Ha,n),n.C=0)}function JC(n,e){var t;t=e?e.m:n.V++;const r=gu(n.F);Dn(r,"SID",n.J),Dn(r,"RID",t),Dn(r,"AID",n.U),Pc(n,r),n.o&&n.s&&Dg(r,n.o,n.s),t=new Md(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=QC(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Eg(n.i,t),ty(t,r,e)}function Pc(n,e){n.j&&Ml({},function(t,r){Dn(e,r,t)})}function QC(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Bi(n.j.Oa,n.j,n):null;e:{var o=n.l;let c=-1;for(;;){const p=["count="+t];-1==c?0<t?(c=o[0].h,p.push("ofs="+c)):c=0:p.push("ofs="+c);let _=!0;for(let C=0;C<t;C++){let x=o[C].h;const V=o[C].g;if(x-=c,0>x)c=Math.max(0,o[C].h-100),_=!1;else try{ZC(V,p,"req"+x+"_")}catch(U){r&&r(V)}}if(_){r=p.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function _y(n){n.g||n.u||(n.Y=1,rg(n.Ga,n),n.A=0)}function Sg(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Sc(Bi(n.Ga,n),R0(n,n.A)),n.A++,0))}function O0(n){null!=n.B&&(Yt.clearTimeout(n.B),n.B=null)}function Mt(n){n.g=new Md(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=gu(n.oa);Dn(e,"RID","rpc"),Dn(e,"SID",n.J),Dn(e,"CI",n.N?"0":"1"),Dn(e,"AID",n.U),Pc(n,e),Dn(e,"TYPE","xmlhttp"),n.o&&n.s&&Dg(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=eo(gu(e)),t.s=null,t.U=!0,g0(t,n)}function xg(n){null!=n.v&&(Yt.clearTimeout(n.v),n.v=null)}function N0(n,e){var t=null;if(n.g==e){xg(n),O0(n),n.g=null;var r=2}else{if(!wg(n.i,e))return;t=e.D,ly(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;Di(r=df(),new Y_(r,t,e,o)),Ag(n)}else _y(n);else if(3==(o=e.o)||0==o&&0<n.I||!(1==r&&function Bd(n,e){return!(uy(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Sc(Bi(n.Ha,n,e),R0(n,n.C)),n.C++,0)))}(n,e)||2==r&&Sg(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:_u(n,5);break;case 4:_u(n,10);break;case 3:_u(n,6);break;default:_u(n,2)}}function R0(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function _u(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Bi(n.jb,n);t||(t=new Rd("//www.google.com/images/cleardot.gif"),Yt.location&&"http"==Yt.location.protocol||kd(t,"https"),eo(t)),function $C(n,e){const t=new G_;if(Yt.Image){const r=new Image;r.onload=Kp(Cg,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Kp(Cg,t,r,"TestLoadImage: error",!1,e),r.onabort=Kp(Cg,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Kp(Cg,t,r,"TestLoadImage: timeout",!1,e),Yt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else fs(2);n.G=0,n.j&&n.j.va(e),k0(n),Nl(n)}function k0(n){n.G=0,n.I=-1,n.j&&((0!=cy(n.i).length||0!=n.l.length)&&(n.i.i.length=0,wc(n.l),n.l.length=0),n.j.ua())}function bf(n,e,t){let r=function Oa(n){return n instanceof Rd?gu(n):new Rd(n,void 0)}(t);if(""!=r.i)e&&So(r,e+"."+r.i),_g(r,r.m);else{const o=Yt.location;r=function b0(n,e,t,r){var o=new Rd(null,void 0);return n&&kd(o,n),e&&So(o,e),t&&_g(o,t),r&&(o.l=r),o}(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,t)}return n.aa&&Il(n.aa,function(o,c){Dn(r,c,o)}),t=n.sa,(e=n.D)&&t&&Dn(r,e,t),Dn(r,"VER",n.ma),Pc(n,r),r}function Cf(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new qr(t&&n.Ba&&!n.qa?new _f({ib:!0}):n.qa)).L=n.H,e}function Cr(){}function yy(){if(Ic&&!(10<=Number(PC)))throw Error("Environmental error: no available transport.")}function to(n,e){Ti.call(this),this.g=new gy(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!ti(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ti(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Oc(this)}function L0(n){dg.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function F0(){hg.call(this),this.status=1}function Oc(n){this.g=n}(dt=qr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():fg.g(),this.C=function J_(n){return n.h||(n.h=n.i())}(this.u?this.u:fg),this.g.onreadystatechange=Bi(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(c){return void x0(this,c)}n=t||"";const o=new Nd(this.headers);r&&Ml(r,function(c,p){o.set(p,c)}),r=function R_(n){e:{var e=YC;const t=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<t;o++)if(o in r&&e.call(void 0,r[o],o,n)){e=o;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(o.T()),t=Yt.FormData&&n instanceof Yt.FormData,!(0<=Kw(WC,e))||r||t||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(c,p){this.g.setRequestHeader(p,c)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{fy(this),0<this.B&&((this.K=function KC(n){return Ic&&function MC(){return function Dd(n){var e=Qw;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Dl(String(rf)).split("."),t=Dl("9").split("."),r=Math.max(e.length,t.length);for(let p=0;0==n&&p<r;p++){var o=e[p]||"",c=t[p]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],0==o[0].length&&0==c[0].length)break;n=Xs(0==o[1].length?0:parseInt(o[1],10),0==c[1].length?0:parseInt(c[1],10))||Xs(0==o[2].length,0==c[2].length)||Xs(o[2],c[2]),o=o[3],c=c[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Bi(this.pa,this)):this.A=og(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(c){x0(this,c)}},dt.pa=function(){void 0!==P_&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Di(this,"timeout"),this.abort(8))},dt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Di(this,"complete"),Di(this,"abort"),wf(this))},dt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),wf(this,!0)),qr.Z.M.call(this)},dt.Fa=function(){this.s||(this.F||this.v||this.l?hy(this):this.cb())},dt.cb=function(){hy(this)},dt.ba=function(){try{return 2<mu(this)?this.g.status:-1}catch(n){return-1}},dt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},dt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),GC(e)}},dt.Da=function(){return this.m},dt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(dt=gy.prototype).ma=8,dt.G=1,dt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},dt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const o=new Md(this,this.h,n,void 0);let c=this.s;if(this.P&&(c?(c=Cc(c),Dc(c,this.P)):c=this.P),null===this.o&&(o.H=c),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=QC(this,o,e),Dn(t=gu(this.F),"RID",n),Dn(t,"CVER",22),this.D&&Dn(t,"X-HTTP-Session-Id",this.D),Pc(this,t),this.o&&c&&Dg(t,this.o,c),Eg(this.i,o),this.Ra&&Dn(t,"TYPE","init"),this.ja?(Dn(t,"$req",e),Dn(t,"SID","null"),o.$=!0,ty(o,t,null)):ty(o,t,e),this.G=2}}else 3==this.G&&(n?JC(this,n):0==this.l.length||ay(this.i)||JC(this))},dt.Ga=function(){if(this.u=null,Mt(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Sc(Bi(this.bb,this),n)}},dt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,fs(10),Ef(this),Mt(this))},dt.ab=function(){null!=this.v&&(this.v=null,Ef(this),Sg(this),fs(19))},dt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),fs(2)):(this.h.info("Failed to ping google.com"),fs(1))},(dt=Cr.prototype).xa=function(){},dt.wa=function(){},dt.va=function(){},dt.ua=function(){},dt.Oa=function(){},yy.prototype.g=function(n,e){return new to(n,e)},Gr(to,Ti),to.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),rg(Bi(n.hb,n,e))),fs(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=bf(n,null,n.W),Ag(n)},to.prototype.close=function(){Ig(this.g)},to.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,my(this.g,e)}else this.v?((e={}).__data__=z_(n),my(this.g,e)):my(this.g,n)},to.prototype.M=function(){this.g.j=null,delete this.j,Ig(this.g),delete this.g,to.Z.M.call(this)},Gr(L0,dg),Gr(F0,hg),Gr(Oc,Cr),Oc.prototype.xa=function(){Di(this.g,"a")},Oc.prototype.wa=function(n){Di(this.g,new L0(n))},Oc.prototype.va=function(n){Di(this.g,new F0(n))},Oc.prototype.ua=function(){Di(this.g,"b")},yy.prototype.createWebChannel=yy.prototype.g,to.prototype.send=to.prototype.u,to.prototype.open=to.prototype.m,to.prototype.close=to.prototype.close,hf.NO_ERROR=0,hf.TIMEOUT=8,hf.HTTP_ERROR=6,f0.COMPLETE="complete",Q_.EventType=xc,xc.OPEN="a",xc.CLOSE="b",xc.ERROR="c",xc.MESSAGE="d",Ti.prototype.listen=Ti.prototype.N,qr.prototype.listenOnce=qr.prototype.O,qr.prototype.getLastError=qr.prototype.La,qr.prototype.getLastErrorCode=qr.prototype.Da,qr.prototype.getStatus=qr.prototype.ba,qr.prototype.getResponseJson=qr.prototype.Qa,qr.prototype.getResponseText=qr.prototype.ga,qr.prototype.send=qr.prototype.ea,pu.createWebChannelTransport=function(){return new yy},pu.getStatEventTarget=function(){return df()},pu.ErrorCode=hf,pu.EventType=f0,pu.Event=$u,pu.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},pu.FetchXmlHttpFactory=_f,pu.WebChannel=Q_,pu.XhrIo=qr;const V0="@firebase/firestore";class Wr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wr.UNAUTHENTICATED=new Wr(null),Wr.GOOGLE_CREDENTIALS=new Wr("google-credentials-uid"),Wr.FIRST_PARTY=new Wr("first-party-uid"),Wr.MOCK_USER=new Wr("mock-user");let jd="9.6.11";const Gu=new M_.Yd("@firebase/firestore");function ze(n,...e){if(Gu.logLevel<=M_.in.DEBUG){const t=e.map(wy);Gu.debug(`Firestore (${jd}): ${n}`,...t)}}function pr(n,...e){if(Gu.logLevel<=M_.in.ERROR){const t=e.map(wy);Gu.error(`Firestore (${jd}): ${n}`,...t)}}function wy(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function yt(n="Unexpected state"){const e=`FIRESTORE (${jd}) INTERNAL ASSERTION FAILED: `+n;throw pr(e),new Error(e)}function Bt(n,e){n||yt()}const we_CANCELLED="cancelled",we_INVALID_ARGUMENT="invalid-argument",we_FAILED_PRECONDITION="failed-precondition",we_UNAVAILABLE="unavailable";class Ue extends Qh.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ii{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class U0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Wr.UNAUTHENTICATED))}shutdown(){}}class gA{constructor(e){this.t=e,this.currentUser=Wr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const c=x=>this.i!==o?(o=this.i,t(x)):Promise.resolve();let p=new Ii;this.o=()=>{this.i++,this.currentUser=this.u(),p.resolve(),p=new Ii,e.enqueueRetryable(()=>c(this.currentUser))};const _=()=>{const x=p;e.enqueueRetryable((0,$n.Z)(function*(){yield x.promise,yield c(r.currentUser)}))},C=x=>{ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=x,this.auth.addAuthTokenListener(this.o),_()};this.t.onInit(x=>C(x)),setTimeout(()=>{if(!this.auth){const x=this.t.getImmediate({optional:!0});x?C(x):(ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),p.resolve(),p=new Ii)}},0),_()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Bt("string"==typeof r.accessToken),new U0(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Bt(null===e||"string"==typeof e),new Wr(e)}}class mA{constructor(e,t,r){this.type="FirstParty",this.user=Wr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const o=e.auth.getAuthHeaderValueForFirstParty([]);o&&this.headers.set("Authorization",o),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class B0{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new mA(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Wr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Tf{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rT{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=c=>{null!=c.error&&ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const p=c.token!==this.p;return this.p=c.token,ze("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>r(c))};const o=c=>{ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.g.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.g.getImmediate({optional:!0});c?o(c):ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Bt("string"==typeof t.token),this.p=t.token,new Tf(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Df(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function sn(n,e){return n<e?-1:n>e?1:0}class gr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ue(we_INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ue(we_INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ue(we_INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ue(we_INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return gr.fromMillis(Date.now())}static fromDate(e){return gr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new gr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?sn(this.nanoseconds,e.nanoseconds):sn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Og{constructor(e,t,r){void 0===t?t=0:t>e.length&&yt(),void 0===r?r=e.length-t:r>e.length-t&&yt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Og.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Og?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const c=e.get(o),p=t.get(o);if(c<p)return-1;if(c>p)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Cn extends Og{construct(e,t,r){return new Cn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ue(we_INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new Cn(t)}static emptyPath(){return new Cn([])}}class ri{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new ri(t)}static fromUint8Array(e){const t=function(r){let o="";for(let c=0;c<r.length;++c)o+=String.fromCharCode(r[c]);return o}(e);return new ri(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return sn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}function Tr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}ri.EMPTY_BYTE_STRING=new ri("");class Cy{constructor(e,t,r,o,c,p,_,C){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=p,this.autoDetectLongPolling=_,this.useFetchStreams=C}}class Ll{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ll("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ll&&e.projectId===this.projectId&&e.database===this.database}}class Xe{constructor(e){this.path=e}static fromPath(e){return new Xe(Cn.fromString(e))}static fromName(e){return new Xe(Cn.fromString(e).popFirst(5))}static empty(){return new Xe(Cn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Cn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Cn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Xe(new Cn(e.slice()))}}var ii,_n;(_n=ii||(ii={}))[_n.OK=0]="OK",_n[_n.CANCELLED=1]="CANCELLED",_n[_n.UNKNOWN=2]="UNKNOWN",_n[_n.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_n[_n.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_n[_n.NOT_FOUND=5]="NOT_FOUND",_n[_n.ALREADY_EXISTS=6]="ALREADY_EXISTS",_n[_n.PERMISSION_DENIED=7]="PERMISSION_DENIED",_n[_n.UNAUTHENTICATED=16]="UNAUTHENTICATED",_n[_n.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_n[_n.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_n[_n.ABORTED=10]="ABORTED",_n[_n.OUT_OF_RANGE=11]="OUT_OF_RANGE",_n[_n.UNIMPLEMENTED=12]="UNIMPLEMENTED",_n[_n.INTERNAL=13]="INTERNAL",_n[_n.UNAVAILABLE=14]="UNAVAILABLE",_n[_n.DATA_LOSS=15]="DATA_LOSS";class Dr{constructor(e,t){this.comparator=e,this.root=t||Zi.EMPTY}insert(e,t){return new Dr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zi.BLACK,null,null))}remove(e){return new Dr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qg(this.root,e,this.comparator,!1)}getReverseIterator(){return new qg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qg(this.root,e,this.comparator,!0)}}class qg{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?r(e.key,t):1,t&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zi{constructor(e,t,r,o,c){this.key=e,this.value=t,this.color=null!=r?r:Zi.RED,this.left=null!=o?o:Zi.EMPTY,this.right=null!=c?c:Zi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,c){return new Zi(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=c?c:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===c?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Zi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return Zi.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw yt();const e=this.left.check();if(e!==this.right.check())throw yt();return e+(this.isRed()?0:1)}}Zi.EMPTY=null,Zi.RED=!0,Zi.BLACK=!1,Zi.EMPTY=new class{constructor(){this.size=0}get key(){throw yt()}get value(){throw yt()}get color(){throw yt()}get left(){throw yt()}get right(){throw yt()}copy(n,e,t,r,o){return this}insert(n,e,t){return new Zi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class dr{constructor(e){this.comparator=e,this.data=new Dr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new cE(this.data.getIterator())}getIteratorFrom(e){return new cE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof dr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=r.getNext().key;if(0!==this.comparator(o,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new dr(this.comparator);return t.data=e,t}}class cE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}new Dr(Xe.comparator),new Dr(Xe.comparator),new Dr(Xe.comparator),new dr(Xe.comparator),new dr(sn);function oh(n){return"IndexedDbTransactionError"===n.name}class Hl{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Tr(e.integerValue));else if("doubleValue"in e){const r=Tr(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),function Af(n){return 0===n&&1/n==-1/0}(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(function kl(n){return"string"==typeof n?ri.fromBase64String(n):ri.fromUint8Array(n)}(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?function Rg(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):yt()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const o of Object.keys(r))this.re(o,t),this.te(r[o],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const o of r)this.te(o,t)}ae(e,t){this.ne(t,37),Xe.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}Hl.fe=new Hl,new Uint8Array(0);class No{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new No(e,No.DEFAULT_COLLECTION_PERCENTILE,No.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function XE(){return"undefined"!=typeof document?document:null}No.DEFAULT_COLLECTION_PERCENTILE=10,No.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,No.DEFAULT=new No(41943040,No.DEFAULT_COLLECTION_PERCENTILE,No.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),No.DISABLED=new No(-1,0,0);class YT{constructor(e,t,r=1e3,o=1.5,c=6e4){this.Yn=e,this.timerId=t,this.fo=r,this._o=o,this.wo=c,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}reset(){this.mo=0}Io(){this.mo=this.wo}To(e){this.cancel();const t=Math.floor(this.mo+this.Eo()),r=Math.max(0,Date.now()-this.po),o=Math.max(0,t-r);o>0&&ze("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.mo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.yo=this.Yn.enqueueAfterDelay(this.timerId,o,()=>(this.po=Date.now(),e())),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}Ao(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}cancel(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}Eo(){return(Math.random()-.5)*this.mo}}class pD{constructor(e,t,r,o,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new Ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}static createAndSchedule(e,t,r,o,c){const p=Date.now()+r,_=new pD(e,t,p,o,c);return _.start(r),_}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ue(we_CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}class _M{constructor(e,t,r,o){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Wr.UNAUTHENTICATED,this.clientId=class j0{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=Df(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<t&&(r+=e.charAt(o[c]%e.length))}return r}}.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var p=(0,$n.Z)(function*(_){ze("FirestoreClient","Received user=",_.uid),yield c.authCredentialListener(_),c.user=_});return function(_){return p.apply(this,arguments)}}()),this.appCheckCredentials.start(r,p=>(ze("FirestoreClient","Received new app check token=",p),this.appCheckCredentialListener(p,this.user)))}getConfiguration(){var e=this;return(0,$n.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ue(we_FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,$n.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=function gm(n,e){if(pr("AsyncQueue",`${e}: ${n}`),oh(n))return new Ue(we_UNAVAILABLE,`${e}: ${n}`);throw n}(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}const sS=new Map;class lS{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ue(we_INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ue(we_INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function IM(n,e,t,r){if(!0===e&&!0===r)throw new Ue(we_INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xM{constructor(){this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new YT(this,"async_queue_retry"),this.qa=()=>{const t=XE();t&&ze("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Do.Ao()};const e=XE();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qa)}get isShuttingDown(){return this.Oa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ka(),this.Ga(e)}enterRestrictedMode(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;const t=XE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qa)}}enqueue(e){if(this.Ka(),this.Oa)return new Promise(()=>{});const t=new Ii;return this.Ga(()=>this.Oa&&this.La?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ma.push(e),this.Qa()))}Qa(){var e=this;return(0,$n.Z)(function*(){if(0!==e.Ma.length){try{yield e.Ma[0](),e.Ma.shift(),e.Do.reset()}catch(t){if(!oh(t))throw t;ze("AsyncQueue","Operation failed with retryable error: "+t)}e.Ma.length>0&&e.Do.To(()=>e.Qa())}})()}Ga(e){const t=this.ka.then(()=>(this.Ba=!0,e().catch(r=>{throw this.$a=r,this.Ba=!1,pr("INTERNAL UNHANDLED ERROR: ",function(c){let p=c.message||"";return c.stack&&(p=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),p}(r)),r}).then(r=>(this.Ba=!1,r))));return this.ka=t,t}enqueueAfterDelay(e,t,r){this.Ka(),this.Ua.indexOf(e)>-1&&(t=0);const o=pD.createAndSchedule(this,e,t,r,c=>this.ja(c));return this.Fa.push(o),o}Ka(){this.$a&&yt()}verifyOperationInProgress(){}Wa(){var e=this;return(0,$n.Z)(function*(){let t;do{t=e.ka,yield t}while(t!==e.ka)})()}za(e){for(const t of this.Fa)if(t.timerId===e)return!0;return!1}Ha(e){return this.Wa().then(()=>{this.Fa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Fa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Wa()})}Ja(e){this.Ua.push(e)}ja(e){const t=this.Fa.indexOf(e);this.Fa.splice(t,1)}}class Mr extends class Av{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lS({}),this._settingsFrozen=!1,e instanceof Ll?this._databaseId=e:(this._app=e,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new Ue(we_INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ll(o.options.projectId)}(e))}get app(){if(!this._app)throw new Ue(we_FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ue(we_FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lS(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new fA;switch(t.type){case"gapi":const r=t.client;return Bt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new B0(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ue(we_INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=sS.get(e);t&&(ze("ComponentProvider","Removing Datastore"),sS.delete(e),t.terminate())}(this),Promise.resolve()}}{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new xM,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||function cS(n){var e;const t=n._freezeSettings(),r=(c=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Cy(n._databaseId,c,n._persistenceKey,(_=t).host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,_.useFetchStreams));var c,_;n._firestoreClient=new _M(n._authCredentials,n._appCheckCredentials,n._queue,r)}(this),this._firestoreClient.terminate()}}function PM(n=(0,Tl.getApp)()){return(0,Tl._getProvider)(n,"firestore").getImmediate()}!function(n,e=!0){jd=Tl.SDK_VERSION,(0,Tl._registerComponent)(new Io.wA("firestore",(t,{options:r})=>{const o=t.getProvider("app").getImmediate(),c=new Mr(o,new gA(t.getProvider("auth-internal")),new rT(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),c._setSettings(r),c},"PUBLIC")),(0,Tl.registerVersion)(V0,"3.4.8",n),(0,Tl.registerVersion)(V0,"3.4.8","esm2017")}();var GM=k(1860),db=k(7513),qM=k(2069);class WM extends ba.x{constructor(e=1/0,t=1/0,r=qM.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:c,_windowTime:p}=this;t||(r.push(e),!o&&r.push(c.now()+p)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,c=o.slice();for(let p=0;p<c.length&&!e.closed;p+=r?1:2)e.next(c[p]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,c=(o?1:2)*e;if(e<1/0&&c<r.length&&r.splice(0,r.length-c),!o){const p=t.now();let _=0;for(let C=1;C<r.length&&r[C]<=p;C+=2)_=C;_&&r.splice(0,_+1)}}}var KM=k(815);function OS(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,KM.B)({connector:()=>new WM(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function NS(n,e){return(0,Bm.m)(e)?Ys(()=>n,e):Ys(()=>n)}var cI=k(4119),ps=k(9954),dh=k(2329);class Cm{constructor(e){return e}}class dI{constructor(){return(0,dh.C6)()}}const hI=new l.OlP("angularfire2._apps"),JM={provide:Cm,useFactory:function YM(n){return n&&1===n.length?n[0]:new Cm((0,dh.Mq)())},deps:[[new l.FiY,hI]]},QM={provide:dI,deps:[[new l.FiY,hI]]};function XM(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Cm(r)}}let eP=(()=>{class n{constructor(t){(0,dh.KN)("angularfire",ps.q4.full,"core"),(0,dh.KN)("angularfire",ps.q4.full,"app"),(0,dh.KN)("angular",l.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[JM,QM]}),n})();function tP(n,...e){return{ngModule:eP,providers:[{provide:hI,useFactory:XM(n),multi:!0,deps:[l.R0b,l.zs3,ps.HU,...e]}]}}const nP=(0,ps.u3)(dh.ZF,!0),RS=new Map,rP={activated:!1,tokenObservers:[]},iP={initialized:!1,enabled:!1};function gs(n){return RS.get(n)||rP}function Xu(n,e){RS.set(n,e)}function hb(){return iP}class lP{constructor(e,t,r,o,c){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=o,o>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,$n.Z)(function*(){t.stop();try{t.pending=new Qh.BH,yield function cP(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Qh.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ko=new Qh.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function LS(n){if(!gs(n).activated)throw ko.create("use-before-activation",{appName:n.name})}function gI(n,e){return mI.apply(this,arguments)}function mI(){return mI=(0,$n.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const U=yield o.getHeartbeatsHeader();U&&(r["X-Firebase-Client"]=U)}const c={method:"POST",body:JSON.stringify(e),headers:r};let p,_;try{p=yield fetch(n,c)}catch(U){throw ko.create("fetch-network-error",{originalErrorMessage:U.message})}if(200!==p.status)throw ko.create("fetch-status-error",{httpStatus:p.status});try{_=yield p.json()}catch(U){throw ko.create("fetch-parse-error",{originalErrorMessage:U.message})}const C=_.ttl.match(/^([\d.]+)(s)$/);if(!C||!C[2]||isNaN(Number(C[1])))throw ko.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${_.ttl}`});const x=1e3*Number(C[1]),V=Date.now();return{token:_.attestationToken,expireTimeMillis:V+x,issuedAtTimeMillis:V}}),mI.apply(this,arguments)}function gP(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const Pv="firebase-app-check-store";let gb=null;function VS(){return gb||(gb=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(ko.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Pv,{keyPath:"compositeKey"})}}catch(t){e(ko.create("storage-open",{originalErrorMessage:t.message}))}}),gb)}function _I(){return _I=(0,$n.Z)(function*(n,e){const r=(yield VS()).transaction(Pv,"readwrite"),c=r.objectStore(Pv).put({compositeKey:n,value:e});return new Promise((p,_)=>{c.onsuccess=C=>{p()},r.onerror=C=>{var x;_(ko.create("storage-set",{originalErrorMessage:null===(x=C.target.error)||void 0===x?void 0:x.message}))}})}),_I.apply(this,arguments)}const Ov=new M_.Yd("@firebase/app-check");function zS(n,e){return(0,Qh.hl)()?function vP(n,e){return function US(n,e){return _I.apply(this,arguments)}(function jS(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Ov.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function HS(){return hb().enabled}function ZS(){return EI.apply(this,arguments)}function EI(){return EI=(0,$n.Z)(function*(){const n=hb();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),EI.apply(this,arguments)}const DP={error:"UNKNOWN_ERROR"};function IP(n){return Qh.US.encodeString(JSON.stringify(n),!1)}function mb(n){return bI.apply(this,arguments)}function bI(){return bI=(0,$n.Z)(function*(n,e=!1){const t=n.app;LS(t);const r=gs(t);let c,o=r.token;if(!o){const C=yield r.cachedTokenPromise;C&&_b(C)&&(o=C)}if(!e&&o&&_b(o))return{token:o.token};let _,p=!1;if(HS()){r.exchangeTokenPromise||(r.exchangeTokenPromise=gI(gP(t,yield ZS()),n.heartbeatServiceProvider).then(x=>(r.exchangeTokenPromise=void 0,x)),p=!0);const C=yield r.exchangeTokenPromise;return yield zS(t,C),Xu(t,Object.assign(Object.assign({},r),{token:C})),{token:C.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(C=>(r.exchangeTokenPromise=void 0,C)),p=!0),o=yield r.exchangeTokenPromise}catch(C){"appCheck/throttled"===C.code?Ov.warn(C.message):Ov.error(C),c=C}return o?(_={token:o.token},Xu(t,Object.assign(Object.assign({},r),{token:o})),yield zS(t,o)):_=SP(c),p&&GS(t,_),_}),bI.apply(this,arguments)}function TI(n,e){const t=gs(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Xu(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function $S(n){const{app:e}=n,t=gs(e);let r=t.tokenRefresher;r||(r=function AP(n){const{app:e}=n;return new lP((0,$n.Z)(function*(){let r;if(r=gs(e).token?yield mb(n,!0):yield mb(n),r.error)throw r.error}),()=>!0,()=>{const t=gs(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Xu(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function GS(n,e){const t=gs(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(o){}}function _b(n){return n.expireTimeMillis-Date.now()>0}function SP(n){return{token:IP(DP),error:n}}class xP{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=gs(this.app);for(const t of e)TI(this.app,t.next);return Promise.resolve()}}const ex="app-check-internal";!function HP(){(0,Tl._registerComponent)(new Io.wA("app-check",n=>function MP(n,e){return new xP(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(ex).initialize()})),(0,Tl._registerComponent)(new Io.wA(ex,n=>function PP(n){return{getToken:e=>mb(n,e),addTokenListener:e=>function CI(n,e,t,r){const{app:o}=n,c=gs(o),p={next:t,error:r,type:e};if(Xu(o,Object.assign(Object.assign({},c),{tokenObservers:[...c.tokenObservers,p]})),c.token&&_b(c.token)){const _=c.token;Promise.resolve().then(()=>{t({token:_.token}),$S(n)}).catch(()=>{})}c.cachedTokenPromise.then(()=>$S(n))}(n,"INTERNAL",e),removeTokenListener:e=>TI(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Tl.registerVersion)("@firebase/app-check","0.5.6")}();class vb{constructor(){return(0,ps.vb)("app-check")}}"undefined"!=typeof window&&window;var nx=k(7841);const KP=new l.OlP("angularfire2.auth.use-emulator"),YP=new l.OlP("angularfire2.auth.settings"),JP=new l.OlP("angularfire2.auth.tenant-id"),QP=new l.OlP("angularfire2.auth.langugage-code"),XP=new l.OlP("angularfire2.auth.use-device-language"),e1=new l.OlP("angularfire.auth.persistence");let xI=(()=>{class n{constructor(t,r,o,c,p,_,C,x,V,U,Y,X){const de=new ba.x,He=$t(void 0).pipe((0,db.Q)(p.outsideAngular),Ys(()=>c.runOutsideAngular(()=>k.e(94).then(k.bind(k,4094)))),(0,Xt.U)(()=>(0,sc.on)(t,c,r)),(0,Xt.U)(gt=>((n,e,t,r,o,c,p,_)=>(0,sc.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const C=e.runOutsideAngular(()=>n.auth());if(t&&C.useEmulator(...t),r&&(C.tenantId=r),C.languageCode=o,c&&C.useDeviceLanguage(),p)for(const[x,V]of Object.entries(p))C.settings[x]=V;return _&&C.setPersistence(_),C},[t,r,o,c,p,_]))(gt,c,_,x,V,U,C,Y)),OS({bufferSize:1,refCount:!1}));if(function jo(n){return"server"===n}(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=$t(null);else{He.pipe(El()).subscribe();const kt=He.pipe(Ys(dn=>dn.getRedirectResult().then(Ln=>Ln,()=>null)),ps.iC,OS({bufferSize:1,refCount:!1})),cn=He.pipe(Ys(dn=>new Qn.y(Ln=>({unsubscribe:c.runOutsideAngular(()=>dn.onAuthStateChanged(Gn=>Ln.next(Gn),Gn=>Ln.error(Gn),()=>Ln.complete()))})))),Mn=He.pipe(Ys(dn=>new Qn.y(Ln=>({unsubscribe:c.runOutsideAngular(()=>dn.onIdTokenChanged(Gn=>Ln.next(Gn),Gn=>Ln.error(Gn),()=>Ln.complete()))}))));this.authState=kt.pipe(NS(cn),(0,cI.R)(p.outsideAngular),(0,db.Q)(p.insideAngular)),this.user=kt.pipe(NS(Mn),(0,cI.R)(p.outsideAngular),(0,db.Q)(p.insideAngular)),this.idToken=this.user.pipe(Ys(dn=>dn?(0,Bn.D)(dn.getIdToken()):$t(null))),this.idTokenResult=this.user.pipe(Ys(dn=>dn?(0,Bn.D)(dn.getIdTokenResult()):$t(null))),this.credential=(0,GM.T)(kt,de,this.authState.pipe(uu(dn=>!dn))).pipe((0,Xt.U)(dn=>(null==dn?void 0:dn.user)?dn:null),(0,cI.R)(p.outsideAngular),(0,db.Q)(p.insideAngular))}return(0,sc.pX)(this,He,c,{spy:{apply:(gt,kt,cn)=>{(gt.startsWith("signIn")||gt.startsWith("createUser"))&&cn.then(Mn=>de.next(Mn))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(sc.Dh),l.LFG(sc.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(ps.HU),l.LFG(KP,8),l.LFG(YP,8),l.LFG(JP,8),l.LFG(QP,8),l.LFG(XP,8),l.LFG(e1,8),l.LFG(vb,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();class rx{}class ix{}class La{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const o=t.slice(0,r),c=o.toLowerCase(),p=t.slice(r+1).trim();this.maybeSetNormalizedName(o,c),this.headers.has(c)?this.headers.get(c).push(p):this.headers.set(c,[p])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const o=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(o,r),this.maybeSetNormalizedName(t,o))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof La?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new La;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof La?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const o=("a"===e.op?this.headers.get(t):void 0)||[];o.push(...r),this.headers.set(t,o);break;case"d":const c=e.value;if(c){let p=this.headers.get(t);if(!p)return;p=p.filter(_=>-1===c.indexOf(_)),0===p.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,p)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class n1{encodeKey(e){return sx(e)}encodeValue(e){return sx(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const i1=/%(\d[a-f0-9])/gi,s1={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function sx(n){return encodeURIComponent(n).replace(i1,(e,t)=>{var r;return null!==(r=s1[t])&&void 0!==r?r:e})}function ox(n){return`${n}`}class hh{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new n1,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function r1(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const c=o.indexOf("="),[p,_]=-1==c?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,c)),e.decodeValue(o.slice(c+1))],C=t.get(p)||[];C.push(_),t.set(p,C)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const o=e[r];Array.isArray(o)?o.forEach(c=>{t.push({param:r,value:c,op:"a"})}):t.push({param:r,value:o,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new hh({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(ox(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const o=r.indexOf(ox(e.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class o1{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function ax(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function ux(n){return"undefined"!=typeof Blob&&n instanceof Blob}function lx(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Nv{constructor(e,t,r,o){let c;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function a1(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,c=o):c=r,c&&(this.reportProgress=!!c.reportProgress,this.withCredentials=!!c.withCredentials,c.responseType&&(this.responseType=c.responseType),c.headers&&(this.headers=c.headers),c.context&&(this.context=c.context),c.params&&(this.params=c.params)),this.headers||(this.headers=new La),this.context||(this.context=new o1),this.params){const p=this.params.toString();if(0===p.length)this.urlWithParams=t;else{const _=t.indexOf("?");this.urlWithParams=t+(-1===_?"?":_<t.length-1?"&":"")+p}}else this.params=new hh,this.urlWithParams=t}serializeBody(){return null===this.body?null:ax(this.body)||ux(this.body)||lx(this.body)||function u1(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof hh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||lx(this.body)?null:ux(this.body)?this.body.type||null:ax(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof hh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,o=e.url||this.url,c=e.responseType||this.responseType,p=void 0!==e.body?e.body:this.body,_=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,C=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let x=e.headers||this.headers,V=e.params||this.params;const U=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(x=Object.keys(e.setHeaders).reduce((Y,X)=>Y.set(X,e.setHeaders[X]),x)),e.setParams&&(V=Object.keys(e.setParams).reduce((Y,X)=>Y.set(X,e.setParams[X]),V)),new Nv(r,o,p,{params:V,headers:x,context:U,reportProgress:C,responseType:c,withCredentials:_})}}var Si=(()=>((Si=Si||{})[Si.Sent=0]="Sent",Si[Si.UploadProgress=1]="UploadProgress",Si[Si.ResponseHeader=2]="ResponseHeader",Si[Si.DownloadProgress=3]="DownloadProgress",Si[Si.Response=4]="Response",Si[Si.User=5]="User",Si))();class MI{constructor(e,t=200,r="OK"){this.headers=e.headers||new La,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class PI extends MI{constructor(e={}){super(e),this.type=Si.ResponseHeader}clone(e={}){return new PI({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class wb extends MI{constructor(e={}){super(e),this.type=Si.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new wb({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class cx extends MI{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function OI(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Tm=(()=>{class n{constructor(t){this.handler=t}request(t,r,o={}){let c;if(t instanceof Nv)c=t;else{let C,x;C=o.headers instanceof La?o.headers:new La(o.headers),o.params&&(x=o.params instanceof hh?o.params:new hh({fromObject:o.params})),c=new Nv(t,r,void 0!==o.body?o.body:null,{headers:C,context:o.context,params:x,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const p=$t(c).pipe(uc(C=>this.handler.handle(C)));if(t instanceof Nv||"events"===o.observe)return p;const _=p.pipe(uu(C=>C instanceof wb));switch(o.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return _.pipe((0,Xt.U)(C=>{if(null!==C.body&&!(C.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return C.body}));case"blob":return _.pipe((0,Xt.U)(C=>{if(null!==C.body&&!(C.body instanceof Blob))throw new Error("Response is not a Blob.");return C.body}));case"text":return _.pipe((0,Xt.U)(C=>{if(null!==C.body&&"string"!=typeof C.body)throw new Error("Response is not a string.");return C.body}));default:return _.pipe((0,Xt.U)(C=>C.body))}case"response":return _;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new hh).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,o={}){return this.request("PATCH",t,OI(o,r))}post(t,r,o={}){return this.request("POST",t,OI(o,r))}put(t,r,o={}){return this.request("PUT",t,OI(o,r))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(rx))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class dx{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const hx=new l.OlP("HTTP_INTERCEPTORS");let l1=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const c1=/^\)\]\}',?\n/;let fx=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Qn.y(r=>{const o=this.xhrFactory.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((X,de)=>o.setRequestHeader(X,de.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const X=t.detectContentTypeHeader();null!==X&&o.setRequestHeader("Content-Type",X)}if(t.responseType){const X=t.responseType.toLowerCase();o.responseType="json"!==X?X:"text"}const c=t.serializeBody();let p=null;const _=()=>{if(null!==p)return p;const X=o.statusText||"OK",de=new La(o.getAllResponseHeaders()),He=function d1(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||t.url;return p=new PI({headers:de,status:o.status,statusText:X,url:He}),p},C=()=>{let{headers:X,status:de,statusText:He,url:gt}=_(),kt=null;204!==de&&(kt=void 0===o.response?o.responseText:o.response),0===de&&(de=kt?200:0);let cn=de>=200&&de<300;if("json"===t.responseType&&"string"==typeof kt){const Mn=kt;kt=kt.replace(c1,"");try{kt=""!==kt?JSON.parse(kt):null}catch(dn){kt=Mn,cn&&(cn=!1,kt={error:dn,text:kt})}}cn?(r.next(new wb({body:kt,headers:X,status:de,statusText:He,url:gt||void 0})),r.complete()):r.error(new cx({error:kt,headers:X,status:de,statusText:He,url:gt||void 0}))},x=X=>{const{url:de}=_(),He=new cx({error:X,status:o.status||0,statusText:o.statusText||"Unknown Error",url:de||void 0});r.error(He)};let V=!1;const U=X=>{V||(r.next(_()),V=!0);let de={type:Si.DownloadProgress,loaded:X.loaded};X.lengthComputable&&(de.total=X.total),"text"===t.responseType&&!!o.responseText&&(de.partialText=o.responseText),r.next(de)},Y=X=>{let de={type:Si.UploadProgress,loaded:X.loaded};X.lengthComputable&&(de.total=X.total),r.next(de)};return o.addEventListener("load",C),o.addEventListener("error",x),o.addEventListener("timeout",x),o.addEventListener("abort",x),t.reportProgress&&(o.addEventListener("progress",U),null!==c&&o.upload&&o.upload.addEventListener("progress",Y)),o.send(c),r.next({type:Si.Sent}),()=>{o.removeEventListener("error",x),o.removeEventListener("abort",x),o.removeEventListener("load",C),o.removeEventListener("timeout",x),t.reportProgress&&(o.removeEventListener("progress",U),null!==c&&o.upload&&o.upload.removeEventListener("progress",Y)),o.readyState!==o.DONE&&o.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Sn))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const NI=new l.OlP("XSRF_COOKIE_NAME"),RI=new l.OlP("XSRF_HEADER_NAME");class px{}let h1=(()=>{class n{constructor(t,r,o){this.doc=t,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ns(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Pe),l.LFG(l.Lbi),l.LFG(NI))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),kI=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const o=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||o.startsWith("http://")||o.startsWith("https://"))return r.handle(t);const c=this.tokenService.getToken();return null!==c&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,c)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(px),l.LFG(RI))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),f1=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(hx,[]);this.chain=r.reduceRight((o,c)=>new dx(o,c),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ix),l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),p1=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:kI,useClass:l1}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:NI,useValue:t.cookieName}:[],t.headerName?{provide:RI,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[kI,{provide:hx,useExisting:kI,multi:!0},{provide:px,useClass:h1},{provide:NI,useValue:"XSRF-TOKEN"},{provide:RI,useValue:"X-XSRF-TOKEN"}]}),n})(),g1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Tm,{provide:rx,useClass:f1},fx,{provide:ix,useExisting:fx}],imports:[[p1.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();function ed(n,e){const t="object"==typeof e;return new Promise((r,o)=>{let p,c=!1;n.subscribe({next:_=>{p=_,c=!0},error:o,complete:()=>{c?r(p):t?r(e.defaultValue):o(new Mh)}})})}let sp=(()=>{class n{constructor(t){this.http=t,this.userPost="https://projet-integrateur-2022.herokuapp.com/api/chamis/",this.visitePost="https://projet-integrateur-2022.herokuapp.com/api/visite/",this.defiPost="https://projet-integrateur-2022.herokuapp.com/api/defis/",this.httpOptions={headers:new La({"Content-type":"application/json"}),observe:"response"},this._refreshrequired=new ba.x}get Refreshrequired(){return this._refreshrequired}postingUsers(t){console.log("vnutri postingUsers"),this.http.post(this.userPost,t,this.httpOptions).pipe((0,Do.b)(()=>{this.Refreshrequired.next()}))}postingUsersPromise(t){var r=this;return(0,$n.Z)(function*(){try{const o=yield ed(r.http.post(r.userPost,t,r.httpOptions));return 200==o.status&&(r.Refreshrequired.next(),console.log("observable in postingUsers with value ",o),!0)}catch(o){return console.error("Error postingUsers",t,"\n",o),!1}})()}postingVisite(t){console.log("vnutri postingVisite"),this.http.post(this.visitePost,t,this.httpOptions).subscribe(r=>{console.log("observable in postingVisite with value ",r)},r=>{console.log("error is posting Visite ",r)},()=>{console.log("observable finished")})}postingDefiPromise(t){var r=this;return(0,$n.Z)(function*(){try{let o=yield ed(r.http.post(r.defiPost,t,r.httpOptions));return 200==o.status&&(r.Refreshrequired.next(),console.log("observable in postingDefi with value ",o),!0)}catch(o){return console.error("Error postingUsers",t,"\n",o),!1}})()}postingVisitePromise(t){var r=this;return(0,$n.Z)(function*(){try{const o=yield ed(r.http.post(r.visitePost,t,r.httpOptions));return 200==o.status&&(r.Refreshrequired.next(),console.log("observable in postingVisite with value ",o),!0)}catch(o){return console.error("Error postingUsers",t,"\n",o),!1}})()}postingDefi(t){console.log("vnutri postingDefi"),this.http.post(this.defiPost,t,this.httpOptions).subscribe(r=>{console.log("observable in postingDefi with value ",r)},r=>{console.log("error is posting Defi ",r)},()=>{console.log("observable finished")})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Tm))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gx=(()=>{class n{constructor(t,r){this.http=t,this.post=r,this.userPut="https://projet-integrateur-2022.herokuapp.com/api/chamis/",this.visitePut="https://projet-integrateur-2022.herokuapp.com/api/visite/",this.defiPut="https://projet-integrateur-2022.herokuapp.com/api/defis/",this.httpOptions={headers:new La({"Content-type":"application/json"}),observe:"resposnse"}}updateUser(t,r){var o=this;return(0,$n.Z)(function*(){try{let c="";for(let _=0;_<t.length;_++)c+=" "===t[_]?"%20":t[_];console.log("temp in put pls",o.userPut+c),console.log(r);const p=yield ed(o.http.put(o.userPut+c,r,o.httpOptions));return 200==p.status&&(o.post.Refreshrequired.next(),console.log("observable in PUTINTG USER with value ",p),!0)}catch(c){return console.error("Error postingUsers",t,"\n",c),!1}})()}updateDefi(t,r){var o=this;return(0,$n.Z)(function*(){try{const c=yield ed(o.http.put(o.defiPut+t,r,o.httpOptions));return 200==c.status&&(o.post.Refreshrequired.next(),console.log("observable in PUTING DEFI with value ",c),!0)}catch(c){return console.error("Error postingUsers",o.defiPut,"\n",c),!1}})()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Tm),l.LFG(sp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Dm=(()=>{class n{constructor(t,r){this.http=t,this.put=r,this.apiUsers="https://projet-integrateur-2022.herokuapp.com/api/chamis/",this.apiDefis="https://projet-integrateur-2022.herokuapp.com/api/defis/",this.allUsers=[],this.allDefis=[],this.allNames=[],this.pointsOfCurrentUser=0,this.httpOptions={headers:new La({"Content-type":"application/json"})}}getResponseUsers(){var t=this;return(0,$n.Z)(function*(){t.allUsers=yield ed(t.http.get(t.apiUsers))})()}getResponseUsers2(){return this.http.get(this.apiUsers)}getResponseDefi2(){return this.http.get(this.apiDefis)}getResponseDefis(){var t=this;return(0,$n.Z)(function*(){t.allDefis=yield ed(t.http.get(t.apiDefis))})()}checkExistingUser(t){let r=0;for(;r<this.allUsers.length;){if(this.allUsers[r].login===t)return!0;r++}return!1}getCurrentUser(){try{for(let t=0;t<this.allUsers.length;t++)if(this.allUsers[t].login===this.loginUser)return this.allUsers[t];return null}catch(t){return console.log("Error in getChamis ,couldnt set up users ",t),alert("YOU HAVENT SIGN UP "),null}}countForEachAuthor(t,r,o){let c=0;for(let p=0;p<o.length;p++)o[p].login===t&&c++;return{auteur:t,age:r,defiCreated:c}}getDefis(){return this.allDefis}getUsers(){return this.allUsers}usersDefi(t){try{return this.allDefis.filter(function(r){return"string"==typeof r.auteur?r.auteur===t:r.auteur.login===t})}catch(r){return[]}}UpdatePointOfUser(t,r){if(this.loginUser){const o=this.getCurrentUser();console.log("current user is ",o),null!=o&&(r?(o.pointTotal=o.pointTotal+t,this.pointsOfCurrentUser=this.pointsOfCurrentUser+t):(o.pointTotal=o.pointTotal-t,this.pointsOfCurrentUser=this.pointsOfCurrentUser-t),this.put.updateUser(o.login,o).then(c=>{console.log(c?"user have been updated with new points ":"error occured while updating users points ")}))}else alert("you are not loggin your points would be count bitch")}instanceOfChami(t){try{return"login"in t}catch(r){return!1}}setAllNames(){for(let t=0;t<this.allDefis.length;t++)this.instanceOfChami(this.allDefis[t].auteur)?this.allNames.push(this.allDefis[t].auteur.login):this.allNames.push(this.allDefis[t].auteur)}getAllNames(){return this.allNames}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Tm),l.LFG(gx))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Im=(()=>{class n{constructor(t,r){this.http=t,this.postServ=r,this.apiVisites="https://projet-integrateur-2022.herokuapp.com/api/visites/",this.allVisites=[],this.userLong=0,this.userLat=0,this.accesVisite=!1,this.isUserNear=!1,this.optionsGeo={enableHighAccuracy:!0,timeout:1e4,maximumAge:0},this.currentLocation()}getResponseVisites(){var t=this;return(0,$n.Z)(function*(){t.allVisites=yield ed(t.http.get(t.apiVisites))})()}getResponseVisites2(){return this.http.get(this.apiVisites)}getVisites(){return this.allVisites}setToZero(){this.userLat=0,this.userLong=0}isUserOnPlace(t){let r=t.arret,o=this.getDistanceFromLatLonInKm(r.latitude,r.longitude,this.userLat,this.userLong);return this.setToZero(),!(o>.1||(console.log(o),this.accesVisite=!0,this.tempDefi=t,0))}getDistanceFromLatLonInKm(t,r,o,c){var _=this.deg2rad(o-t),C=this.deg2rad(c-r),x=Math.sin(_/2)*Math.sin(_/2)+Math.cos(this.deg2rad(t))*Math.cos(this.deg2rad(o))*Math.sin(C/2)*Math.sin(C/2);return 2*Math.atan2(Math.sqrt(x),Math.sqrt(1-x))*6371}deg2rad(t){return t*(Math.PI/180)}currentLocation(){navigator.geolocation?navigator.geolocation.getCurrentPosition(this.setLatLongUsers.bind(this),this.errorFunction,this.optionsGeo):console.log("Your browser doesnt support geolocation feature\n")}setLatLongUsers(t){console.log("our position",t),this.userLong=t.coords.longitude,this.userLat=t.coords.latitude}errorFunction(t){console.warn("you have got error: ",t)}userVisites(t){try{return this.allVisites.filter(function(r){return r.chami.login===t})}catch(r){return[]}}notification(t){alert(t)}visiteOfDefi(t){return void 0===t?[]:this.allVisites.filter(function(r){return r.defi===t})}updateVisite(t){this.currentVisite&&(this.currentVisite.temps=t,this.postServ.postingVisitePromise(this.currentVisite))}updatingTimePoints(t){const r=this.currentVisite.dateDebut,c=gr.now().seconds-r.seconds;this.currentVisite.pointsTotal=t,this.currentVisite.score<=t?this.currentVisite.score=t:this.updateVisite(c.toString())}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Tm),l.LFG(sp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),td=(()=>{class n{constructor(){this.modals=[]}add(t){this.modals.push(t)}remove(t){this.modals=this.modals.filter(r=>r.id!==t)}open(t){this.modals.find(o=>o.id===t).open()}close(t){this.modals.find(o=>o.id===t).close()}next(t,r){this.close(t),this.open(r)}previous(t,r){this.close(t),this.open(r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const m1=["*"];let Am=(()=>{class n{constructor(t,r){this.modalService=t,this.el=r,this.element=r.nativeElement}ngOnInit(){this.id?(document.body.appendChild(this.element),this.element.addEventListener("click",t=>{}),this.modalService.add(this)):console.error("modal must have an id")}ngOnDestroy(){this.id&&this.modalService.remove(this.id),this.element.remove()}open(){this.element.style.display="block",document.body.classList.add("jw-modal-open")}close(){this.element.style.display="none",document.body.classList.remove("jw-modal-open")}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(td),l.Y36(l.SBq))},n.\u0275cmp=l.Xpm({type:n,selectors:[["jw-modal"]],inputs:{id:"id",defiAffichage:"defiAffichage"},ngContentSelectors:m1,decls:4,vars:0,consts:[[1,"jw-modal"],[1,"jw-modal-body"],[1,"jw-modal-background"]],template:function(t,r){1&t&&(l.F$t(),l.TgZ(0,"div",0)(1,"div",1),l.Hsn(2),l.qZA()(),l._UZ(3,"div",2))},encapsulation:2}),n})(),_1=(()=>{class n{constructor(t,r,o){this.post=t,this.modalService=r,this.formBuilder=o,this.checkoutForm=this.formBuilder.group({nom:"",prenom:"",ville:"",age:"",description:"",login:""})}ngOnInit(){this.bodyText="Thanks for your information"}openModal(t){this.modalService.open(t)}closeModal(t){this.modalService.close(t)}onSubmit(){console.warn("Your order has been submitted",this.checkoutForm.value),this.login&&(this.checkoutForm.patchValue({login:this.login}),this.post.postingUsersPromise(this.checkoutForm.value).then(t=>{console.log(t?"ok, we posted User in Db":"error ,post user doesnt have status 200")})),this.checkoutForm.reset(),this.indetificator&&this.closeModal(this.indetificator)}ngAfterViewInit(){this.indetificator&&this.openModal(this.indetificator)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(sp),l.Y36(td),l.Y36(md))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-regstration-frame"]],inputs:{login:"login",indetificator:"indetificator",trigger:"trigger"},decls:26,vars:3,consts:[[3,"id"],[3,"formGroup"],["for","firstname"],["type","text","id","firstname","name","firstname","formControlName","prenom"],["for","surname"],["type","text","id","surname","name","surname","formControlName","nom"],["for","city"],["type","text","id","city","name","city","formControlName","ville"],["for","age"],["type","text","id","age","name","age","formControlName","age"],["for","description"],["type","text","id","description","name","description","formControlName","description"],[3,"click"]],template:function(t,r){1&t&&(l.TgZ(0,"jw-modal",0)(1,"form",1)(2,"p")(3,"label",2),l._uU(4,"First Name "),l.qZA(),l._UZ(5,"input",3),l.qZA(),l.TgZ(6,"p")(7,"label",4),l._uU(8,"Surname "),l.qZA(),l._UZ(9,"input",5),l.qZA(),l.TgZ(10,"p")(11,"label",6),l._uU(12,"City "),l.qZA(),l._UZ(13,"input",7),l.qZA(),l.TgZ(14,"p")(15,"label",8),l._uU(16,"Age"),l.qZA(),l._UZ(17,"input",9),l.qZA(),l.TgZ(18,"p")(19,"label",10),l._uU(20,"Description"),l.qZA(),l._UZ(21,"input",11),l.qZA()(),l.TgZ(22,"p"),l._uU(23),l.qZA(),l.TgZ(24,"button",12),l.NdJ("click",function(){return r.onSubmit()}),l._uU(25,"Send"),l.qZA()()),2&t&&(l.Q6J("id","registreForm"),l.xp6(1),l.Q6J("formGroup",r.checkoutForm),l.xp6(22),l.Oqu(r.bodyText))},directives:[Am,ec,va,Bu,or,Eo,B],styles:[""]}),n})(),y1=(()=>{class n{constructor(t,r){this.http=t,this.post=r,this.userDelete="https://projet-integrateur-2022.herokuapp.com/api/chamis/",this.visiteDelete="https://projet-integrateur-2022.herokuapp.com/api/visite/",this.defiDelete="https://projet-integrateur-2022.herokuapp.com/api/defis/",this.httpOptions={headers:new La({"Content-type":"application/json"}),observe:"resposnse"}}deleteDefi(t){var r=this;return(0,$n.Z)(function*(){try{const o=yield ed(r.http.delete(r.defiDelete+t,r.httpOptions));return 200==o.status&&(r.post.Refreshrequired.next(),console.log("observable in deleting DEFI with value ",o),!0)}catch(o){return console.error("Error postingUsers",r.defiDelete,"\n",o),!1}})()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Tm),l.LFG(sp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Eb=(()=>{class n{constructor(t,r,o,c){this.post=t,this.put=r,this.deleting=o,this.modal=c,this.editingDefi=!1,this.etapesEditing=[],this.creatingDefi=!1,this.registre=!1}initEditingEtapes(t){this.etapesEditing.fill(!1,0,t)}switchingEditEtape(t){}updateDefi(t){this.put.updateDefi(this.currentDefi.idDefi,t),this.currentDefi=t}addDefi(t){this.post.postingDefiPromise(t),this.creatingDefi=!1}deleteDefi(t){this.deleting.deleteDefi(t.idDefi)}openEtape(t){console.log("openEtap in defi ->",t+"-first"),console.log(this.modal),this.modal.open(t+"-first"),this.modal.close(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(sp),l.LFG(gx),l.LFG(y1),l.LFG(td))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function v1(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div")(1,"label",3),l._uU(2),l.qZA(),l.TgZ(3,"input",4),l.NdJ("click",function(){const c=l.CHM(t).index;return l.oxw().setAnswer(c)}),l.qZA()()}if(2&n){const t=e.$implicit;l.xp6(2),l.Oqu(t.choix)}}function w1(n,e){if(1&n&&(l.TgZ(0,"div")(1,"p"),l._uU(2),l.qZA()()),2&n){const t=l.oxw();l.xp6(2),l.hij(" ",t.question.indice.indiceText," ")}}let E1=(()=>{class n{constructor(t,r){this.fb=t,this.auth=r,this.correctAnswer=new l.vpe,this.incorrectAnswer=new l.vpe,this.answers=[],this.usingIndice=!1}ngOnInit(){this.initFormQuestion()}initFormQuestion(){this.question.choixPossibles.forEach(t=>{this.answers.push(!1)})}checkAnswer(){var t,r;console.log(),this.question.choixPossibles[this.getAnswer()].choix===(null===(t=this.question)||void 0===t?void 0:t.solution)?this.correctAnswer.emit(null===(r=this.question)||void 0===r?void 0:r.point):this.question&&this.incorrectAnswer.emit(this.question.point/this.question.choixPossibles.length)}useIndice(){this.usingIndice=!0,this.auth.UpdatePointOfUser(this.question.indice.point,!1)}getAnswer(){let t=0;for(;t<this.answers.length;){if(1==this.answers[t])return t;t++}return-1}setAnswer(t){console.log("seting answer on this index ",t),this.answers[t]=!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(md),l.Y36(Dm))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-question"]],inputs:{question:"question"},outputs:{correctAnswer:"correctAnswer",incorrectAnswer:"incorrectAnswer"},decls:10,vars:3,consts:[[4,"ngFor","ngForOf"],[3,"click"],[4,"ngIf"],["for","choixPos"],["type","checkbox","id","choixPos",3,"click"]],template:function(t,r){1&t&&(l.TgZ(0,"p"),l._uU(1),l.qZA(),l.TgZ(2,"h4"),l._uU(3,"Select one answer possible"),l.qZA(),l.YNc(4,v1,4,1,"div",0),l.TgZ(5,"button",1),l.NdJ("click",function(){return r.useIndice()}),l._uU(6,"Want to use Indice?"),l.qZA(),l.YNc(7,w1,3,1,"div",2),l.TgZ(8,"button",1),l.NdJ("click",function(){return r.checkAnswer()}),l._uU(9," Submit\n"),l.qZA()),2&t&&(l.xp6(1),l.Oqu(r.question.questionText),l.xp6(3),l.Q6J("ngForOf",r.question.choixPossibles),l.xp6(3),l.Q6J("ngIf",r.usingIndice))},directives:[ct,Hn],styles:[""]}),n})();function b1(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div")(1,"button",3),l.NdJ("click",function(){return l.CHM(t),l.oxw().next()}),l._uU(2,"Next"),l.qZA()()}}function C1(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div")(1,"button",3),l.NdJ("click",function(){return l.CHM(t),l.oxw().previous()}),l._uU(2,"Previous"),l.qZA()()}}function T1(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div")(1,"jw-modal",0)(2,"p"),l._uU(3,"Hey how about to chage your opinion on this defi?"),l.qZA(),l.TgZ(4,"h1"),l._uU(5,"^_^"),l.qZA(),l.TgZ(6,"button",3),l.NdJ("click",function(){return l.CHM(t),l.oxw().changingInfoVisite()}),l._uU(7," Ok,I would like to change my opinion "),l.qZA(),l.TgZ(8,"button",3),l.NdJ("click",function(){l.CHM(t);const o=l.oxw();return o.modal.close(o.getCurrentIdEtape())}),l._uU(9," Nah,I am good "),l.qZA()(),l._UZ(10,"div"),l.qZA()}2&n&&(l.xp6(1),l.Q6J("id","TempForVisiteRegistre"))}let D1=(()=>{class n{constructor(t,r,o,c){this.modal=t,this.auth=r,this.visiteServ=o,this.defiServ=c,this.usingIndice=!1,this.registrationYourVisite=!1,this.firstEtape=!1,this.lastEtape=!1,this.visiteServ.currentVisite?this.visiteServInEtape=this.visiteServ.currentVisite:console.log()}ngOnInit(){this.firstEtapeRef=this.getPreviousId(),this.lastEtapeRef=this.getNextId(),this.currentEtapeId=this.firstEtape?this.firstEtapeRef:this.lastEtape?this.lastEtapeRef:this.getCurrentIdEtape()}getCurrentIdEtape(){var t,r;return(null===(t=this.defiOfEtape)||void 0===t?void 0:t.idDefi)+"-"+(null===(r=this.defiOfEtape)||void 0===r?void 0:r.etapes.indexOf(this.etape))}getNextId(){var t,r,o,c;return(null===(t=this.defiOfEtape)||void 0===t?void 0:t.etapes.indexOf(this.etape))===this.defiOfEtape.etapes.length-1?(this.lastEtape=!0,console.log("the last etape"),(null===(r=this.defiOfEtape)||void 0===r?void 0:r.idDefi)+"-last"):(null===(o=this.defiOfEtape)||void 0===o?void 0:o.idDefi)+"-"+(null===(c=this.defiOfEtape)||void 0===c?void 0:c.etapes.indexOf(this.etape))+1}getPreviousId(){var t,r,o,c;if(0===(null===(t=this.defiOfEtape)||void 0===t?void 0:t.etapes.indexOf(this.etape)))return console.log("the first etape"),this.firstEtape=!0,console.log("opening ->",(null===(r=this.defiOfEtape)||void 0===r?void 0:r.idDefi)+"-first"),(null===(o=this.defiOfEtape)||void 0===o?void 0:o.idDefi)+"-first";const p=this.defiOfEtape.etapes.indexOf(this.etape)-1;return(null===(c=this.defiOfEtape)||void 0===c?void 0:c.idDefi)+"-"+p}next(){var t,r,o;(null===(t=this.defiOfEtape)||void 0===t?void 0:t.etapes.indexOf(this.etape))===this.defiOfEtape.etapes.length-2?this.modal.next(this.currentEtapeId,this.defiOfEtape.idDefi+"-last"):this.modal.next(this.currentEtapeId,(null===(r=this.defiOfEtape)||void 0===r?void 0:r.idDefi)+"-"+(null===(o=this.defiOfEtape)||void 0===o?void 0:o.etapes.indexOf(this.etape))+1)}previous(){this.defiOfEtape.etapes.indexOf(this.etape)-1==0?this.modal.previous(this.currentEtapeId,this.defiOfEtape.idDefi+"-first"):this.modal.previous(this.currentEtapeId,this.getPreviousId())}correctAnswer(t){this.auth.UpdatePointOfUser(t,!0)}incorrectAnswer(t){this.auth.UpdatePointOfUser(t,!1)}close(){this.visiteServInEtape?(this.registrationYourVisite=!0,this.modal.open("TempForVisiteRegistre"),this.registrationYourVisite=!1):(this.defiOfEtape.etapes.indexOf(this.etape)-2==0?this.modal.close(this.defiOfEtape.idDefi+"-first"):this.modal.close(this.currentEtapeId),this.defiServ.registre&&this.visiteServ.updatingTimePoints(this.auth.pointsOfCurrentUser))}changingInfoVisite(){this.modal.close("TempForVisiteRegistre"),this.visiteServ.updatingTimePoints(this.auth.pointsOfCurrentUser),this.modal.open("Visite")}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(td),l.Y36(Dm),l.Y36(Im),l.Y36(Eb))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-etape"]],inputs:{defiOfEtape:"defiOfEtape",etape:"etape"},decls:9,vars:6,consts:[[3,"id"],[3,"question","correctAnswer","incorrectAnswer"],[4,"ngIf"],[3,"click"]],template:function(t,r){1&t&&(l.TgZ(0,"jw-modal",0)(1,"p"),l._uU(2),l.qZA(),l.TgZ(3,"app-question",1),l.NdJ("correctAnswer",function(c){return r.correctAnswer(c)})("incorrectAnswer",function(c){return r.incorrectAnswer(c)}),l.qZA(),l.YNc(4,b1,3,0,"div",2),l.YNc(5,C1,3,0,"div",2),l.TgZ(6,"button",3),l.NdJ("click",function(){return r.close()}),l._uU(7," Close "),l.qZA()(),l.YNc(8,T1,11,1,"div",2)),2&t&&(l.Q6J("id",r.currentEtapeId),l.xp6(2),l.Oqu(r.etape.description),l.xp6(1),l.Q6J("question",r.etape.question),l.xp6(1),l.Q6J("ngIf",r.firstEtape),l.xp6(1),l.Q6J("ngIf",r.lastEtape),l.xp6(3),l.Q6J("ngIf",r.registrationYourVisite))},directives:[Am,E1,Hn],styles:[""]}),n})();function I1(n,e){1&n&&(l.TgZ(0,"form",6)(1,"label",7),l._uU(2,"Give me your reponse"),l.qZA(),l._UZ(3,"input",8),l.qZA()),2&n&&l.Q6J("formGroupName",e.index)}let A1=(()=>{class n{constructor(t){this.formBuilder=t,this.editing=!1,this.creating=!1,this.numChoixPossible=0,this.sendingBack=new l.vpe,this.ChoixForm=this.formBuilder.group({choix:""}),this.ChoixFormArr=this.formBuilder.group({choices:new ra([])}),this.currentChoices=[]}ngOnInit(){this.initFormCreating()}initFormCreating(){this.fill.clear();for(let t=0;t<this.numChoixPossible;t++)this.fill.push(this.ChoixForm)}get fill(){return this.ChoixFormArr.get("choices")}saveEditing(){this.ChoixFormArr.value.choices.forEach(r=>{this.currentChoices.push({choix:r.choix})}),this.sendOutPut()}sendOutPut(){this.sendingBack.emit(this.currentChoices)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(md))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-choix-possible"]],inputs:{editing:"editing",creating:"creating",numChoixPossible:"numChoixPossible"},outputs:{sendingBack:"sendingBack"},decls:10,vars:3,consts:[["type","text","id","sentences","name","sentences",3,"ngModel","ngModelChange"],["for","sentences"],[3,"formGroup"],["formArrayName","choices"],[3,"formGroupName",4,"ngFor","ngForOf"],[3,"click"],[3,"formGroupName"],["for","choixPossible"],["type","text","formControlName","choix","id","choixPossible"]],template:function(t,r){1&t&&(l.TgZ(0,"p"),l._uU(1,"choix-possible works!"),l.qZA(),l.TgZ(2,"input",0),l.NdJ("ngModelChange",function(c){return r.numChoixPossible=c})("ngModelChange",function(){return r.ngOnInit()}),l.qZA(),l.TgZ(3,"label",1),l._uU(4,"How many sentences you want? "),l.qZA(),l.TgZ(5,"form",2)(6,"div",3),l.YNc(7,I1,4,1,"form",4),l.TgZ(8,"button",5),l.NdJ("click",function(){return r.saveEditing()}),l._uU(9,"Accept"),l.qZA()()()),2&t&&(l.xp6(2),l.Q6J("ngModel",r.numChoixPossible),l.xp6(3),l.Q6J("formGroup",r.ChoixFormArr),l.xp6(2),l.Q6J("ngForOf",r.fill.controls))},directives:[or,Eo,_l,ec,va,Bu,y,ct,Vu,E,B],styles:[""]}),n})();const S1=["choices"];function x1(n,e){if(1&n&&(l.TgZ(0,"div"),l._UZ(1,"app-etape",23),l.qZA()),2&n){const t=e.$implicit,r=l.oxw();l.xp6(1),l.Q6J("etape",t)("defiOfEtape",r.defi)}}function M1(n,e){if(1&n&&(l.TgZ(0,"form",49)(1,"p")(2,"label",50),l._uU(3),l.qZA(),l._UZ(4,"input",51),l.qZA()()),2&n){const t=e.index;l.Q6J("formGroupName",t),l.xp6(3),l.hij("Choix ",t+1,"")}}function P1(n,e){if(1&n&&(l.TgZ(0,"div")(1,"form",8)(2,"p")(3,"label",25),l._uU(4,"Descrtipion of Etape "),l.qZA(),l._UZ(5,"input",26),l.qZA(),l.TgZ(6,"p")(7,"label",27),l._uU(8,"Question "),l.qZA(),l._UZ(9,"input",28),l.qZA(),l.TgZ(10,"p")(11,"label",29),l._uU(12,"Solution "),l.qZA(),l._UZ(13,"input",30),l.qZA(),l.TgZ(14,"p")(15,"label",31),l._uU(16,"Point for solution "),l.qZA(),l._UZ(17,"input",32),l.qZA(),l.TgZ(18,"p")(19,"label",33),l._uU(20,"Reponses "),l.qZA(),l._UZ(21,"input",34),l.qZA(),l.TgZ(22,"div",35),l.YNc(23,M1,5,2,"form",36),l.TgZ(24,"button"),l._uU(25,"Add choix"),l.qZA(),l._UZ(26,"label",37)(27,"input",38),l.TgZ(28,"button"),l._uU(29,"Delete choix"),l.qZA()(),l.TgZ(30,"p")(31,"label",39),l._uU(32,"Clue "),l.qZA(),l._UZ(33,"input",40),l.qZA(),l.TgZ(34,"p")(35,"label",41),l._uU(36,"Point for Clue "),l.qZA(),l._UZ(37,"input",42),l.qZA(),l.TgZ(38,"p")(39,"label",43),l._uU(40,"Indication "),l.qZA(),l._UZ(41,"input",44),l.qZA(),l.TgZ(42,"p")(43,"label",45),l._uU(44,"Image "),l.qZA(),l._UZ(45,"input",46),l.qZA(),l.TgZ(46,"p")(47,"label",47),l._uU(48,"Image "),l.qZA(),l._UZ(49,"input",48),l.qZA()(),l.TgZ(50,"button"),l._uU(51,"Add etape"),l.qZA(),l._UZ(52,"label",37)(53,"input",38),l.TgZ(54,"button"),l._uU(55,"Delete etape "),l.qZA()()),2&n){const t=l.oxw().index,r=l.oxw();l.xp6(1),l.Q6J("formGroup",r.openEditEtape(t+1)),l.xp6(22),l.Q6J("ngForOf",r.ChoixPossiblesForm.controls)}}function O1(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div")(1,"button",19),l.NdJ("click",function(){const c=l.CHM(t).index;return l.oxw().openEditEtape(c+1)}),l._uU(2),l.qZA(),l.TgZ(3,"div",24),l.YNc(4,P1,56,2,"div",22),l.qZA()()}if(2&n){const t=e.index,r=l.oxw();l.xp6(2),l.hij("Etape ",t+1,""),l.xp6(2),l.Q6J("ngIf",r.etapesEditing()[t])}}function N1(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"form",49)(1,"h3")(2,"div")(3,"p"),l._uU(4),l.qZA()()(),l._UZ(5,"input",52),l.TgZ(6,"p")(7,"label",53),l._uU(8,"Descrtipion of Etape "),l.qZA(),l._UZ(9,"input",52),l.qZA(),l.TgZ(10,"p")(11,"label",54),l._uU(12,"Question "),l.qZA(),l._UZ(13,"input",55),l.qZA(),l.TgZ(14,"p")(15,"label",56),l._uU(16,"Solution "),l.qZA(),l._UZ(17,"input",57),l.qZA(),l.TgZ(18,"p")(19,"label",58),l._uU(20,"Point for solution "),l.qZA(),l._UZ(21,"input",59),l.qZA(),l.TgZ(22,"p")(23,"label",33),l._uU(24,"Reponses "),l.qZA(),l._UZ(25,"input",34),l.qZA(),l.TgZ(26,"app-choix-possible",60),l.NdJ("sendingBack",function(o){return l.CHM(t),l.oxw(2).setChoixPossible(o)}),l.qZA(),l.TgZ(27,"p")(28,"label",61),l._uU(29,"Clue "),l.qZA(),l._UZ(30,"input",62),l.qZA(),l.TgZ(31,"p")(32,"label",63),l._uU(33,"Point for Clue "),l.qZA(),l._UZ(34,"input",64),l.qZA(),l.TgZ(35,"p")(36,"label",65),l._uU(37,"Indication "),l.qZA(),l._UZ(38,"input",66),l.qZA(),l.TgZ(39,"p")(40,"label",67),l._uU(41,"Image "),l.qZA(),l._UZ(42,"input",68),l.qZA(),l.TgZ(43,"p")(44,"label",69),l._uU(45,"Image "),l.qZA(),l._UZ(46,"input",70),l.qZA()()}if(2&n){const t=e.index,r=l.oxw(2);l.Q6J("formGroupName",t),l.xp6(4),l.hij("Your Etape ",t+1,""),l.xp6(22),l.Q6J("numChoixPossible",r.numChoixPossible)}}function R1(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div")(1,"form",8)(2,"p")(3,"label",9),l._uU(4,"Titre "),l.qZA(),l._UZ(5,"input",10),l.qZA(),l.TgZ(6,"p")(7,"label",11),l._uU(8,"Description "),l.qZA(),l._UZ(9,"input",12),l.qZA(),l.TgZ(10,"p")(11,"label",13),l._uU(12,"Arret "),l.qZA(),l._UZ(13,"input",14),l.qZA(),l.TgZ(14,"p")(15,"label",15),l._uU(16,"Points "),l.qZA(),l._UZ(17,"input",16),l.qZA(),l.TgZ(18,"p")(19,"label",17),l._uU(20,"Type of Defi "),l.qZA(),l._UZ(21,"input",18),l._uU(22," Challange or Enigme "),l.qZA(),l.TgZ(23,"div",24),l.YNc(24,N1,47,3,"form",36),l.qZA(),l.TgZ(25,"button",19),l.NdJ("click",function(){return l.CHM(t),l.oxw().onSubmitCreate()}),l._uU(26," Create Defi "),l.qZA()()()}if(2&n){const t=l.oxw();l.xp6(1),l.Q6J("formGroup",t.DefiCreating),l.xp6(23),l.Q6J("ngForOf",t.etapesFormArrayCreating.controls)}}let k1=(()=>{class n{constructor(t,r,o,c){this.visiteServ=t,this.modal=r,this.formBuilder=o,this.defiServ=c,this.DefiForm=this.formBuilder.group({titre:"",description:"",arret:"",points:"",typeDefi:"",etapes:new ra([])}),this.EtapeForm=this.formBuilder.group({description:"",question:"",solution:"",pointForSolution:"",choixPossibles:"",indice:"",pointForIndice:"",image:"",video:"",indication:""}),this.ChoixPossiblesForm=new ra([]),this.DefiCreating=this.formBuilder.group({titre:"",description:"",arret:"",points:"",typeDefi:"",etapes:new ra([])}),this.EtapeCreating=this.formBuilder.group({descriptionC:"",question:"",solution:"",pointForSolution:"",choixPossibles:new ra([]),indice:"",pointForIndice:"",image:"",video:"",indication:""}),this.EtapesCreatingForm=new ra([]),this.editingEtape=!1,this.numChoixPossible=0,this.numOfEtapesToCreate=0,this.tempArray=[]}ngOnInit(){console.log("numChoixPossible",this.numChoixPossible),console.log("tempArr"),this.defiServ.creatingDefi=0!=this.numOfEtapesToCreate&&this.numOfEtapesToCreate>0,this.defiServ.currentDefi=this.defi,(this.defiServ.editingDefi||this.defiServ.creatingDefi)&&this.initEdit()}initEdit(){if(this.DefiForm=this.formBuilder.group({titre:this.defi.titre,description:this.defi.description,arret:this.defi.arret.nomArret,points:this.defi.points,typeDefi:"",etapes:new ra([])}),this.DefiCreating=this.formBuilder.group({titre:"",description:"",arret:"",points:"",typeDefi:"",etapes:new ra([])}),this.defiServ.creatingDefi){let t=this.etapesFormArrayCreating.controls.length;for(;t<this.numOfEtapesToCreate;t++)this.etapesFormArrayCreating.push(this.createEtape());console.log("Creating etapes for creating")}else{for(let t=1;t<=this.defi.etapes.length;t++)this.etapesFormArray.push(this.openEditEtape(t));console.log("Creating etapes for editing")}}treatementDefis(t){return t.replace(/\\n|\\r\\n|\\n\\r|\\r/g,"\n")}openModalParticulier(t,r){"allVisitesDeDefi"===t&&(this.visiteWithDefi=!0,this.defiServ.registre=!0,this.visiteServ.tempDefi=r),this.modal.close(r.idDefi),this.modal.open(t),this.visiteServ.tempDefi=r}closeModal(t){"allVisitesDeDefi"===t&&(this.visiteWithDefi=!1),this.modal.close(t)}openEtape(){console.log("openEtap in defi ->",this.defi.idDefi+"-first"),console.log(this.modal),this.modal.open(this.defi.idDefi+"-first"),this.closeModal(this.defi.idDefi)}openEditEtape(t){var r;this.defiServ.switchingEditEtape(t),this.editingEtape=!this.editingEtape;const o=null===(r=this.defi)||void 0===r?void 0:r.etapes[t-1];return this.choixPossible=o.question.choixPossibles,this.EtapeForm=this.formBuilder.group({description:o.description,question:o.question.questionText,solution:o.question.solution,pointForSolution:o.question.point,choixPossibles:o.question.choixPossibles,indice:o.question.indice.indiceText,pointForIndice:o.question.indice.point,image:o.indication.srcImage,video:o.indication.srcVideo,indication:o.indication.indicationText}),this.EtapeForm}createEtape(){return this.editingEtape=!this.editingEtape,this.EtapeCreating=this.formBuilder.group({descriptionC:"",question:"",solution:"",pointForSolution:"",choixPossibles:"",indice:"",pointForIndice:"",image:"",video:"",indication:""}),this.EtapeCreating}onSubmitEdit(){let t=this.DefiForm.value;t.idDefi=this.defi.idDefi,t.dateCreation=this.defi.dateCreation,t.visites=this.defi.visites,t=this.installEtapes(t),this.defiServ.updateDefi(t),this.closeModalEdit(this.defi.idDefi+"-edit")}onSubmitCreate(){let t=this.DefiForm.value;t.dateCreation=gr.now(),t.visites=[],t=this.installEtapes(t),this.defiServ.addDefi(t),this.closeModalCreating()}installEtapes(t){let r=yc.challenge;"enigme"===t.typeDefi.toLowerCase()&&(r=yc.enigme),t.typeDefi=r;let o=[];return t.etapes.forEach(c=>{o.push({description:c.descriptionC,question:{indice:{indiceText:c.indice,point:c.pointForIndice},questionText:c.question,solution:c.solution,point:c.pointForSolution,choixPossibles:this.choixPossible},indication:{indicationText:c.indication,srcVideo:c.srcVideo,srcImage:c.srcImage}})}),t.arret={nomArret:t.arret},(t=t).etapes=o,this.etapesFormArray.clear(),this.EtapeForm.reset(),t}closeModalEdit(t){this.defiServ.editingDefi=!1,this.modal.close(t)}closeModalCreating(){this.defiServ.creatingDefi=!1,this.numOfEtapesToCreate=0,this.modal.close("DefiCreation")}isEditing(){return this.defiServ.editingDefi}etapesEditing(){return this.defiServ.etapesEditing}get etapesFormArray(){return this.EtapesForm=this.DefiForm.get("etapes"),this.EtapesForm}get etapesFormArrayCreating(){return this.EtapesCreatingForm=this.DefiCreating.get("etapes"),this.EtapesCreatingForm}isCreating(){return this.defiServ.creatingDefi}changeCreating(){this.defiServ.creatingDefi=!this.defiServ.creatingDefi}trackByIndex(t,r){return t}setChoixPossible(t){this.choixPossible=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Im),l.Y36(td),l.Y36(md),l.Y36(Eb))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-defi"]],viewQuery:function(t,r){if(1&t&&l.Gf(S1,5),2&t){let o;l.iGM(o=l.CRH())&&(r.el=o.first)}},inputs:{defi:"defi"},decls:50,vars:10,consts:[[3,"id","defiAffichage"],[2,"width","500px","white-space","pre-line"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-default",3,"click"],[1,"btn","btn-default",3,"click"],["data-dismiss","modal",1,"btn","btn-default",3,"click"],[4,"ngFor","ngForOf"],[3,"id"],[3,"formGroup"],["for","titre"],["type","text","id","titre","name","titre","formControlName","titre"],["for","description"],["type","text","id","description","name","description","formControlName","description"],["for","arret"],["type","text","id","arret","name","arret","formControlName","arret"],["for","points"],["type","number","id","points","name","points","formControlName","points"],["for","typeDefi"],["type","text","id","typeDefi","name","typeDefi","formControlName","typeDefi"],[3,"click"],["for","numOfEtapeToCreate"],["type","number","id","numOfEtapeToCreate",3,"ngModel","ngModelChange"],[4,"ngIf"],[3,"etape","defiOfEtape"],["formArrayName","etapes"],["for","descriptionE"],["type","text","id","descriptionE","name","descriptionE","formControlName","description"],["for","question"],["type","text","id","questionE","name","questionE","formControlName","question"],["for","solutionE"],["type","text","id","solutionE","name","solutionE","formControlName","solution"],["for","pointForSolutionE"],["type","text","id","pointForSolutionE","name","pointForSolutionE","formControlName","pointForSolution"],["for","reponsesE"],["type","text","id","reponsesE","name","reponsesE","formControlName","choixPossibles"],["formArrayName","ChoixPossiblesForm"],[3,"formGroupName",4,"ngFor","ngForOf"],["for","toDeleteEtape"],["type","text","id","toDeleteEtape","name","toDeleteEtape"],["for","indiceDefiE"],["type","text","id","indiceDefiE","name","indiceDefi","formControlName","indice"],["for","pointForIndiceE"],["type","text","id","pointForIndiceE","name","pointForIndiceE","formControlName","pointForIndice"],["for","indicationE"],["type","text","id","indicationE","name","indicationE","formControlName","indication"],["for","imageE"],["type","text","id","imageE","name","imageE","formControlName","image"],["for","videoE"],["type","text","id","videoE","name","videoE","formControlName","video"],[3,"formGroupName"],["for","choixE"],["type","text","id","choixE","name","choixE","formControlName","choixPossibles"],["type","text","id","descriptionC","name","descriptionC","formControlName","descriptionC"],["for","descriptionC"],["for","questionC"],["type","text","id","questionC","name","questionC","formControlName","question"],["for","solutionC"],["type","text","id","solutionC","name","solutionC","formControlName","solution"],["for","pointForSolutionC"],["type","text","id","pointForSolutionC","name","pointForSolutionC","formControlName","pointForSolution"],[3,"numChoixPossible","sendingBack"],["for","indiceC"],["type","text","id","indiceC","name","indiceC","formControlName","indice"],["for","pointForIndiceC"],["type","text","id","pointForIndiceC","name","pointForIndiceC","formControlName","pointForIndice"],["for","indicationC"],["type","text","id","indicationC","name","indicationC","formControlName","indication"],["for","imageC"],["type","text","id","imageC","name","imageC","formControlName","image"],["for","videoC"],["type","text","id","videoC","name","videoC","formControlName","video"]],template:function(t,r){1&t&&(l.TgZ(0,"jw-modal",0)(1,"div",1),l._uU(2),l.qZA(),l.TgZ(3,"div",2)(4,"button",3),l.NdJ("click",function(){return r.openEtape()}),l._uU(5,"Commencez ce defi sans enregistration"),l.qZA(),l.TgZ(6,"button",4),l.NdJ("click",function(){return r.visiteServ.isUserOnPlace(r.defi)?r.openModalParticulier("Visite",r.defi):r.visiteServ.notification("You are not near the defi")}),l._uU(7,"Je veux enregistrer ma visite"),l.qZA(),l.TgZ(8,"button",4),l.NdJ("click",function(){return r.openModalParticulier("allVisitesDeDefi",r.defi)}),l._uU(9,"Voir les visites de ce Defi"),l.qZA(),l.TgZ(10,"button",5),l.NdJ("click",function(){return r.closeModal(r.defi.idDefi)}),l._uU(11,"Close"),l.qZA()()(),l.YNc(12,x1,2,2,"div",6),l.TgZ(13,"jw-modal",7)(14,"form",8)(15,"p")(16,"label",9),l._uU(17,"Titre "),l.qZA(),l._UZ(18,"input",10),l.qZA(),l.TgZ(19,"p")(20,"label",11),l._uU(21,"Description "),l.qZA(),l._UZ(22,"input",12),l.qZA(),l.TgZ(23,"p")(24,"label",13),l._uU(25,"Arret "),l.qZA(),l._UZ(26,"input",14),l.qZA(),l.TgZ(27,"p")(28,"label",15),l._uU(29,"Points "),l.qZA(),l._UZ(30,"input",16),l.qZA(),l.TgZ(31,"p")(32,"label",17),l._uU(33,"Type of Defi "),l.qZA(),l._UZ(34,"input",18),l._uU(35," Challange or Enigme "),l.qZA(),l.YNc(36,O1,5,2,"div",6),l.TgZ(37,"button",19),l.NdJ("click",function(){return r.onSubmitEdit()}),l._uU(38," Save info "),l.qZA()(),l.TgZ(39,"button",19),l.NdJ("click",function(){return r.closeModalEdit(r.defi.idDefi+"-edit")}),l._uU(40,"Close (Your modification wont be saved) "),l.qZA()(),l.TgZ(41,"jw-modal",7)(42,"h1"),l._uU(43,"Creation of Defi"),l.qZA(),l.TgZ(44,"label",20),l._uU(45,"How many etapes would u like to create?"),l.qZA(),l.TgZ(46,"input",21),l.NdJ("ngModelChange",function(c){return r.numOfEtapesToCreate=c})("ngModelChange",function(){return r.ngOnInit()}),l.qZA(),l.YNc(47,R1,27,2,"div",22),l.TgZ(48,"button",19),l.NdJ("click",function(){return r.closeModalCreating()}),l._uU(49," Close (w/o save) "),l.qZA()()),2&t&&(l.Q6J("id",r.defi.idDefi)("defiAffichage",r.defi.description),l.xp6(2),l.hij("",r.defi.description," "),l.xp6(10),l.Q6J("ngForOf",r.defi.etapes),l.xp6(1),l.Q6J("id",r.defi.idDefi+"-edit"),l.xp6(1),l.Q6J("formGroup",r.DefiForm),l.xp6(22),l.Q6J("ngForOf",r.defi.etapes),l.xp6(5),l.Q6J("id","DefiCreation"),l.xp6(5),l.Q6J("ngModel",r.numOfEtapesToCreate),l.xp6(1),l.Q6J("ngIf",r.isCreating()))},directives:[Am,ct,D1,ec,va,Bu,or,Eo,B,tc,y,Hn,Vu,E,_l,A1],styles:[""]}),n})(),mx=(()=>{class n{constructor(t,r,o,c,p,_){this.formBuilder=t,this.modalService=r,this.post=o,this.visiteServ=c,this.defiServ=p,this.auth=_,this.posEvent=new l.vpe,this.visiteForm=this.formBuilder.group({indice:"",comment:"",typeMode:""})}ngOnInit(){this.post.Refreshrequired.subscribe(t=>{this.visiteServ.currentVisite?this.createVisite(this.defi):this.visite=this.visiteServ.currentVisite}),this.bodyText="Thanks for your visite",this.allVisites=this.visiteServ.getVisites(),this.outPutEventPosition()}openModal(t){this.modalService.open(t)}closeModal(t){console.log("AAAAAAAAAAAAAAAAAAAAAAAAAAAA ,",this.defi),this.defiServ.openEtape(this.defiServ.currentDefi.idDefi),this.modalService.close(t)}onSubmit(){console.warn("Your order has been submitted",this.visiteForm.value);const t=this.visiteForm.value;this.setCommentVisite(t.comment),this.setIndiceVisite(t.indice),this.visite.mode=this.getMode(t.mode),this.post.postingVisitePromise(this.visite).then(r=>{console.log(r?"ok,we posted visite in db":"error ,post viste doesnt have status 200")}),this.visiteForm.reset(),this.closeModal("Visite")}createVisite(t){var r=this;return(0,$n.Z)(function*(){try{const p=r.allVisites[r.allVisites.length-1].idVisite.substring(1);var o=Number(p)+1,c=0===r.allVisites.length?"V1":String(o);const _=gr.now();r.visite={chami:r.chami,indice:"",commentaire:"",defi:t,idVisite:c,dateDebut:_,pointsTotal:0,score:0,temps:"0",mode:vc.distanciel,status:!1},r.setCurrentVisite(r.visite)}catch(p){console.log("Havent been created because visites are not created")}})()}setCurrentVisite(t){this.visite=t,this.visiteServ.currentVisite=t}setCommentVisite(t){}setIndiceVisite(t){}outPutEventPosition(){this.posEvent.emit({lat:this.visiteServ.userLat,long:this.visiteServ.userLong})}getMode(t){return"dist"===t.toLowerCase()?vc.distanciel:vc.presentiel}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(md),l.Y36(td),l.Y36(sp),l.Y36(Im),l.Y36(Eb),l.Y36(Dm))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-visites"]],inputs:{chami:"chami",allVisites:"allVisites",defi:"defi"},outputs:{posEvent:"posEvent"},decls:23,vars:2,consts:[[3,"id"],[3,"formGroup"],["for","indice"],["type","text","id","indice","name","indice","formControlName","indice"],["for","comment"],["type","text","id","comment","name","comment","formControlName","comment"],["for","typeMode"],["type","text","id","typeMode","name","typeMode","formControlName","typeMode"],[1,"btn","btn-default",3,"click"],["data-dismiss","modal",1,"btn","btn-default",3,"click"]],template:function(t,r){1&t&&(l.TgZ(0,"jw-modal",0)(1,"h1"),l._uU(2,"Registration of your visiting"),l.qZA(),l.TgZ(3,"h3"),l._uU(4,"ATTENTION : IL "),l.qZA(),l.TgZ(5,"form",1)(6,"p")(7,"label",2),l._uU(8,"Indice "),l.qZA(),l._UZ(9,"input",3),l.qZA(),l.TgZ(10,"p")(11,"label",4),l._uU(12,"Comment "),l.qZA(),l._UZ(13,"input",5),l.qZA(),l.TgZ(14,"p")(15,"label",6),l._uU(16,"Type "),l.qZA(),l._UZ(17,"input",7),l._uU(18," in distance or in presence?type dist or present "),l.qZA()(),l.TgZ(19,"button",8),l.NdJ("click",function(){return r.onSubmit()}),l._uU(20," Accepte Visite "),l.qZA(),l.TgZ(21,"button",9),l.NdJ("click",function(){return r.closeModal("Visite")}),l._uU(22,"Close"),l.qZA()()),2&t&&(l.Q6J("id","Visite"),l.xp6(5),l.Q6J("formGroup",r.visiteForm))},directives:[Am,ec,va,Bu,or,Eo,B],styles:[""]}),n})();function L1(n,e){if(1&n&&(l.TgZ(0,"tr")(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.TgZ(7,"td"),l._uU(8),l.qZA()()),2&n){const t=e.$implicit,r=l.oxw(2);l.xp6(2),l.Oqu(t.login),l.xp6(2),l.Oqu(t.age),l.xp6(2),l.Oqu(r.authServ.usersDefi(t.login).length),l.xp6(2),l.Oqu(t.pointTotal)}}function F1(n,e){if(1&n&&(l.TgZ(0,"div")(1,"h4"),l._uU(2,"Table Chamis"),l.qZA(),l.TgZ(3,"div",2)(4,"table",3)(5,"tr")(6,"th"),l._uU(7,"Auteur"),l.qZA(),l.TgZ(8,"th"),l._uU(9,"Age"),l.qZA(),l.TgZ(10,"th"),l._uU(11,"D\xe9fis cr\xe9\xe9s"),l.qZA(),l.TgZ(12,"th"),l._uU(13,"Points Total"),l.qZA()(),l.YNc(14,L1,9,4,"tr",4),l.qZA()()()),2&n){const t=l.oxw();l.xp6(14),l.Q6J("ngForOf",t.tableChamis)}}function V1(n,e){if(1&n&&(l.TgZ(0,"table",3)(1,"tr")(2,"th"),l._uU(3,"Your id of visite"),l.qZA(),l.TgZ(4,"th"),l._uU(5,"Defi"),l.qZA(),l.TgZ(6,"th"),l._uU(7,"Date"),l.qZA(),l.TgZ(8,"th"),l._uU(9,"Mode"),l.qZA(),l.TgZ(10,"th"),l._uU(11,"Score"),l.qZA(),l.TgZ(12,"th"),l._uU(13,"Status"),l.qZA(),l.TgZ(14,"th"),l._uU(15,"Temp"),l.qZA(),l.TgZ(16,"th"),l._uU(17,"Visiteur"),l.qZA()(),l.TgZ(18,"tr")(19,"td"),l._uU(20),l.qZA(),l.TgZ(21,"td"),l._uU(22),l.qZA(),l.TgZ(23,"td"),l._uU(24),l.qZA(),l.TgZ(25,"td"),l._uU(26),l.qZA(),l.TgZ(27,"td"),l._uU(28),l.qZA(),l.TgZ(29,"td"),l._uU(30),l.qZA(),l.TgZ(31,"td"),l._uU(32),l.qZA(),l._UZ(33,"br"),l.qZA(),l._uU(34),l.qZA()),2&n){const t=e.$implicit;l.xp6(20),l.Oqu(t.idVisite),l.xp6(2),l.Oqu(t.defi),l.xp6(2),l.Oqu(t.dateDebut),l.xp6(2),l.Oqu(t.mode),l.xp6(2),l.Oqu(t.score),l.xp6(2),l.Oqu(t.status),l.xp6(2),l.Oqu(t.temps),l.xp6(2),l.hij(" Commentaire: ",t.commentaire," ")}}function U1(n,e){if(1&n&&(l.TgZ(0,"div")(1,"h4"),l._uU(2,"Table Visite"),l.qZA(),l.TgZ(3,"div",2),l.YNc(4,V1,35,8,"table",5),l.qZA()()),2&n){const t=l.oxw();l.xp6(4),l.Q6J("ngForOf",t.visites)}}function B1(n,e){if(1&n&&(l.TgZ(0,"table",3)(1,"tr")(2,"th"),l._uU(3,"Your id of visite"),l.qZA(),l.TgZ(4,"th"),l._uU(5,"Defi"),l.qZA(),l.TgZ(6,"th"),l._uU(7,"Date"),l.qZA(),l.TgZ(8,"th"),l._uU(9,"Mode"),l.qZA(),l.TgZ(10,"th"),l._uU(11,"Score"),l.qZA(),l.TgZ(12,"th"),l._uU(13,"Status"),l.qZA(),l.TgZ(14,"th"),l._uU(15,"Temp"),l.qZA()(),l.TgZ(16,"tr")(17,"td"),l._uU(18),l.qZA(),l.TgZ(19,"td"),l._uU(20),l.qZA(),l.TgZ(21,"td"),l._uU(22),l.qZA(),l.TgZ(23,"td"),l._uU(24),l.qZA(),l.TgZ(25,"td"),l._uU(26),l.qZA(),l.TgZ(27,"td"),l._uU(28),l.qZA(),l.TgZ(29,"td"),l._uU(30),l.qZA(),l._UZ(31,"br"),l.qZA(),l._uU(32),l.qZA()),2&n){const t=e.$implicit;l.xp6(18),l.Oqu(t.idVisite),l.xp6(2),l.Oqu(t.defi),l.xp6(2),l.Oqu(t.dateDebut),l.xp6(2),l.Oqu(t.mode),l.xp6(2),l.Oqu(t.score),l.xp6(2),l.Oqu(t.status),l.xp6(2),l.Oqu(t.temps),l.xp6(2),l.hij(" Commentaire: ",t.commentaire," ")}}function j1(n,e){if(1&n&&(l.TgZ(0,"div")(1,"h4"),l._uU(2,"Table de Mes Visite"),l.qZA(),l.TgZ(3,"div",2),l.YNc(4,B1,33,8,"table",5),l.qZA()()),2&n){const t=l.oxw();l.xp6(4),l.Q6J("ngForOf",t.mesVisites)}}function z1(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"tr")(1,"td")(2,"button",6),l.NdJ("click",function(){const c=l.CHM(t).$implicit;return l.oxw(2).openModal(c.idDefi)}),l._uU(3),l.qZA(),l.TgZ(4,"app-defi",7),l._UZ(5,"app-visites",7),l.qZA()(),l.TgZ(6,"td"),l._uU(7),l.qZA(),l.TgZ(8,"td"),l._uU(9),l.qZA(),l.TgZ(10,"td"),l._uU(11),l.qZA()()}if(2&n){const t=e.$implicit,r=l.oxw(2);l.xp6(3),l.hij(" ",t.idDefi," "),l.xp6(1),l.Q6J("defi",t),l.xp6(1),l.Q6J("defi",t),l.xp6(2),l.Oqu(t.titre),l.xp6(2),l.Oqu(t.dateCreation),l.xp6(2),l.Oqu(r.checkStr(t)?t.auteur:t.auteur.login)}}function H1(n,e){if(1&n&&(l.TgZ(0,"div")(1,"h4"),l._uU(2,"Table de defi"),l.qZA(),l.TgZ(3,"table")(4,"tr")(5,"th"),l._uU(6,"D\xe9fi"),l.qZA(),l.TgZ(7,"th"),l._uU(8,"Titre"),l.qZA(),l.TgZ(9,"th"),l._uU(10,"Date de cr\xe9ation"),l.qZA(),l.TgZ(11,"th"),l._uU(12,"Auteur"),l.qZA()(),l.YNc(13,z1,12,6,"tr",4),l.qZA()()),2&n){const t=l.oxw();l.xp6(13),l.Q6J("ngForOf",t.tableDefis)}}function Z1(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"tr")(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.TgZ(7,"td"),l._uU(8),l.qZA(),l._UZ(9,"app-defi",7),l.TgZ(10,"button",6),l.NdJ("click",function(){const c=l.CHM(t).$implicit;return l.oxw(2).openModalEdit(c.idDefi+"-edit")}),l._uU(11,"Want to modify?"),l.qZA(),l.TgZ(12,"button",8),l.NdJ("click",function(){const c=l.CHM(t).$implicit;return l.oxw(2).defiServ.deleteDefi(c)}),l._uU(13,"Delete Defi"),l.qZA()()}if(2&n){const t=e.$implicit;l.xp6(2),l.Oqu(t.idDefi),l.xp6(2),l.Oqu(t.titre),l.xp6(2),l.Oqu(t.dateCreation),l.xp6(2),l.Oqu(t.visites.length),l.xp6(1),l.Q6J("defi",t)}}function $1(n,e){if(1&n&&(l.TgZ(0,"div")(1,"h4"),l._uU(2,"Table of your Defis"),l.qZA(),l.TgZ(3,"table")(4,"tr")(5,"th"),l._uU(6,"Defi"),l.qZA(),l.TgZ(7,"th"),l._uU(8,"Titre"),l.qZA(),l.TgZ(9,"th"),l._uU(10,"Date de creation"),l.qZA(),l.TgZ(11,"th"),l._uU(12,"Number of visites"),l.qZA()(),l.YNc(13,Z1,14,5,"tr",4),l.qZA()()),2&n){const t=l.oxw();l.xp6(13),l.Q6J("ngForOf",t.authServ.usersDefi(t.authServ.loginUser))}}let _x=(()=>{class n{constructor(t,r,o,c){this.authServ=t,this.modal=r,this.visiteServ=o,this.defiServ=c,this.display=!1,this.decider="",this.allNames=[],this.posEventTab=new l.vpe}ngOnInit(){this.visiteWithDefi=!1}onClickDefis(){this.display=!this.display}openModal(t){this.modal.open(t)}openModalEdit(t){this.defiServ.editingDefi=!0,this.modal.open(t)}openModalParticulier(t,r){"allVisitesDeDefi"===t&&(this.visiteWithDefi=!0,this.visiteServ.tempDefi=r),this.modal.open(t),this.modal.close(r.idDefi),this.visiteServ.tempDefi=r}closeModal(t){"allVisitesDeDefi"===t&&(this.visiteWithDefi=!1),this.modal.close(t)}treatementDefis(t){return t.replace(/\\n|\\r\\n|\\n\\r|\\r/g,"\n")}passToParentPosition(t){this.posEventTab.emit(t)}checkStr(t){return"string"==typeof t.auteur}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Dm),l.Y36(td),l.Y36(Im),l.Y36(Eb))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-table-vue"]],inputs:{tableChamis:"tableChamis",tableDefis:"tableDefis",decider:"decider",visites:"visites",mesDefis:"mesDefis",mesVisites:"mesVisites"},outputs:{posEventTab:"posEventTab"},decls:6,vars:6,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],["class","table",4,"ngFor","ngForOf"],["type","button","data-toggle","modal","data-target","#myModal",1,"btn","btn-info","btn-lg",3,"click"],[3,"defi"],[3,"click"]],template:function(t,r){1&t&&(l.TgZ(0,"container-element",0),l.YNc(1,F1,15,1,"div",1),l.YNc(2,U1,5,1,"div",1),l.YNc(3,j1,5,1,"div",1),l.YNc(4,H1,14,1,"div",1),l.YNc(5,$1,14,1,"div",1),l.qZA()),2&t&&(l.Q6J("ngSwitch",r.decider),l.xp6(1),l.Q6J("ngSwitchCase","Chamis"),l.xp6(1),l.Q6J("ngSwitchCase","Visites"),l.xp6(1),l.Q6J("ngSwitchCase","MesVisites"),l.xp6(1),l.Q6J("ngSwitchCase","Defis"),l.xp6(1),l.Q6J("ngSwitchCase","MesDefis"))},directives:[Yn,gn,ct,k1,mx],styles:["table[_ngcontent-%COMP%]{border:medium solid #6495ed;border-collapse:collapse;width:50%}th[_ngcontent-%COMP%]{font-family:monospace;border:thin solid #6495ed;width:50%;padding:5px;background-color:#d0e3fa;background-image:blue}td[_ngcontent-%COMP%]{font-family:sans-serif;border:thin solid #6495ed;width:50%;padding:5px;text-align:center;background-color:#fff}caption[_ngcontent-%COMP%]{font-family:sans-serif}"]}),n})();function G1(n,e){if(1&n&&(l.TgZ(0,"div"),l._UZ(1,"img",7),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("src",t.photoUrl,l.LSH)}}function q1(n,e){1&n&&l.GkF(0)}function W1(n,e){if(1&n&&l._UZ(0,"app-regstration-frame",8),2&n){const t=l.oxw();l.Q6J("login",t.nameUser)("indetificator","registreForm")}}function K1(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div")(1,"button",9),l.NdJ("click",function(){return l.CHM(t),l.oxw().openModal("mesVisites")}),l._uU(2," Mes Visites "),l.qZA(),l.TgZ(3,"button",9),l.NdJ("click",function(){return l.CHM(t),l.oxw().openModal("mesDefis")}),l._uU(4," Mes Defi "),l.qZA(),l.TgZ(5,"button",9),l.NdJ("click",function(){return l.CHM(t),l.oxw().openModal("DefiCreation")}),l._uU(6," Creer un Defi "),l.qZA()()}}let Y1=(()=>{class n{constructor(t,r,o,c){this.auth=t,this.modalService=r,this.authServ=o,this.visiteServ=c,this.userNotUndefined=!1,this.userLogIn=!1,this.nameState="Login",this.mesVisites=[],this.mesDefis=[]}ngOnInit(){this.logout()}login(){var t=this;return(0,$n.Z)(function*(){return yield t.auth.signInWithPopup(new nx.Z.auth.GoogleAuthProvider).then(()=>{var r;t.currentUser=nx.Z.auth().currentUser,null===(r=t.currentUser)||void 0===r||r.providerData.forEach(function(){var o=(0,$n.Z)(function*(c){t.photoUrl=null==c?void 0:c.photoURL,console.log(t.photoUrl),t.nameUser=null==c?void 0:c.displayName,t.authServ.loginUser=t.nameUser,t.nameState=t.nameUser+" .Woud you like to logout?",t.userLogIn=!0,t.mesDefis=t.authServ.usersDefi(t.nameUser),t.mesVisites=t.visiteServ.userVisites(t.nameUser),t.ngAfterViewInit()});return function(c){return o.apply(this,arguments)}}())}).catch(r=>{console.log("Got error ,No user has been found :",r)})})()}logout(){this.auth.signOut(),this.nameUser=void 0,this.photoUrl=void 0,this.userLogIn=!1,this.userNotUndefined=!1,this.nameState="Loggin"}controllerAuth(){"string"==typeof this.nameUser&&this.authServ.checkExistingUser(this.nameUser)&&(this.userNotUndefined=!0)}ngAfterViewInit(){Promise.resolve().then(()=>{"string"!=typeof this.nameUser||this.authServ.checkExistingUser(this.nameUser)?console.log("user exists or name of user is not string"):(console.log("user doesnt Exist"),this.userNotUndefined=!0)})}openModal(t){this.modalService.open(t)}closeModal(t){this.modalService.close(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(xI),l.Y36(td),l.Y36(Dm),l.Y36(Im))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-authentification"]],decls:17,vars:11,consts:[[3,"click"],[4,"ngIf"],[4,"ngIf","ngIfThen"],["NoUser",""],[3,"id"],[3,"mesDefis","decider"],[3,"mesVisites","decider"],[3,"src"],[3,"login","indetificator"],[1,"btn","btn-default",3,"click"]],template:function(t,r){if(1&t&&(l.TgZ(0,"p"),l._uU(1,"authentification works!"),l.qZA(),l.TgZ(2,"button",0),l.NdJ("click",function(){return null==r.nameUser?r.login():r.logout()}),l._uU(3),l.qZA(),l.YNc(4,G1,2,1,"div",1),l.YNc(5,q1,1,0,"ng-container",2),l.YNc(6,W1,1,2,"ng-template",null,3,l.W1O),l.YNc(8,K1,7,0,"div",1),l.TgZ(9,"jw-modal",4),l._UZ(10,"app-table-vue",5),l.TgZ(11,"button",0),l.NdJ("click",function(){return r.closeModal("mesDefis")}),l._uU(12," Close "),l.qZA()(),l.TgZ(13,"jw-modal",4),l._UZ(14,"app-table-vue",6),l.TgZ(15,"button",0),l.NdJ("click",function(){return r.closeModal("mesVisites")}),l._uU(16," Close "),l.qZA()()),2&t){const o=l.MAs(7);l.xp6(3),l.hij(" ",r.nameState,"\n"),l.xp6(1),l.Q6J("ngIf",null!=r.photoUrl),l.xp6(1),l.Q6J("ngIf",r.userNotUndefined)("ngIfThen",o),l.xp6(3),l.Q6J("ngIf",r.userLogIn),l.xp6(1),l.Q6J("id","mesDefis"),l.xp6(1),l.Q6J("mesDefis",r.authServ.usersDefi(r.nameUser))("decider","MesDefis"),l.xp6(3),l.Q6J("id","mesVisites"),l.xp6(1),l.Q6J("mesVisites",r.mesVisites)("decider","MesVisites")}},directives:[Hn,_1,Am,_x],styles:[""]}),n})();function J1(n,e){if(1&n&&l._UZ(0,"div",12),2&n){const t=l.oxw();l.Q6J("leafletLayer",t.layerCircle)}}function Q1(n,e){if(1&n&&(l.TgZ(0,"tr")(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.TgZ(7,"td"),l._uU(8),l.qZA(),l.TgZ(9,"td"),l._uU(10),l.qZA(),l.TgZ(11,"td"),l._uU(12),l.qZA(),l.TgZ(13,"td"),l._uU(14),l.qZA(),l._UZ(15,"br"),l.qZA()),2&n){const t=e.$implicit;l.xp6(2),l.Oqu(t.idVisite),l.xp6(2),l.Oqu(t.defi.idDefi),l.xp6(2),l.Oqu(t.dateDebut),l.xp6(2),l.Oqu(t.mode),l.xp6(2),l.Oqu(t.score),l.xp6(2),l.Oqu(t.status),l.xp6(2),l.Oqu(t.temps)}}let X1=(()=>{class n{constructor(t,r,o,c,p){this.auth=t,this.authentif=r,this.visites=o,this.modal=c,this.post=p,this.title="PROJETDEMERDE",this.options={layers:[(0,cr.tileLayer)("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:18,attribution:"..."})],zoom:15,center:(0,cr.latLng)(45.188529,5.724524)},this.optionsGeo={enableHighAccuracy:!0,timeout:1e4,maximumAge:0},this.defiIcon=cr.icon({iconUrl:"https://cdn-icons-png.flaticon.com/512/1388/1388262.png",iconSize:[32,32]}),this.currentPos=cr.icon({iconUrl:"https://cdn1.iconfinder.com/data/icons/travello-map-navigation/64/Nearby-512.png",iconSize:[32,32]}),this.otherLayers=[],this.displayCircle=!1,this.layerCircle=(0,cr.circle)([45.188529,5.724524],{radius:500}),this.position=[],this.visitesButton=!1,this.choixPossibleTemp={choix:"fastfood"},this.ChoixPossibleTemp=[this.choixPossibleTemp],this.etapT={description:"etapT",idEtape:"16",indication:{indicationText:"dirige toi vers le roi",srcImage:"httpqjfiqzjfquzon",srcVideo:"hthththth"},question:{choixPossibles:this.ChoixPossibleTemp,questionText:"dans quel type de restaurant travail bob l'eponge",solution:"fastfood",point:5,indice:{point:4,indiceText:"wow"}}},this.etapT2={description:"etapT2",idEtape:"17",indication:{indicationText:"",srcImage:"httpqjfiqzjfquzon",srcVideo:"hthththth"},question:{choixPossibles:this.ChoixPossibleTemp,questionText:"qui est le meilleur ami de bob",solution:"patrick",point:5,indice:{point:4,indiceText:"\xe9toile rose"}}},this.etapesTemp=[this.etapT,this.etapT2],this.tempAllDefi={idDefi:"D1",titre:"Defis noob",typeDefi:yc.enigme,description:"bob l'eponge",dateCreation:gr.now(),points:0,auteur:{login:"Nurbek Ss",age:23,description:"checking",ville:"GRENOBLE",prenom:"Nurbek ",nom:"Serzhanov",pointTotal:0,visites:[]},arret:{codeArret:"23",nomArret:"Victor Hugo",ville:"Grenoble",openstreetmap:"https://www.openstreetmap.org/#map=19/45.189851/5.725127",googlemap:"https://www.google.com/maps/@45.189851,5.725127,19z",longitude:5.725127,latitude:45.189851,defis:["D1"]},visites:[],etapes:this.etapesTemp}}ngOnInit(){var t=this;return(0,$n.Z)(function*(){t.getAll(),t.post.Refreshrequired.subscribe(r=>{t.getAll()}),t.currentLocation()})()}initDefisOnMap(t){try{t.forEach(r=>{const o=cr.marker([r.arret.latitude,r.arret.longitude],{icon:this.defiIcon}).on("mouseover",c=>{c.target.bindPopup(r.idDefi).openPopup()}).on("mouseover",c=>c.target.closePopup());this.otherLayers.push(o)})}catch(r){console.log("passing initDefiOnMap")}}currentLocation(){var t=this;return(0,$n.Z)(function*(){navigator.geolocation?navigator.geolocation.getCurrentPosition(t.setMarkerOnCurrLocation.bind(t),t.errorFunction,t.optionsGeo):console.log("Your browser doesnt support geolocation feature\n")})()}setMarkerOnCurrLocation(t){var r=this;return(0,$n.Z)(function*(){const o=cr.marker([t.coords.latitude,t.coords.longitude],{icon:r.currentPos});r.otherLayers.push(o)})()}errorFunction(t){console.warn("you have got error: ",t)}getAll(){this.getUsers(),this.getDefis(),this.getVisites()}openModal(t){this.modal.open(t)}closeModal(t){this.modal.close(t)}setPosition(t){this.otherLayers[0]=cr.marker([t.lat,t.long],{icon:this.currentPos})}getUsers(){this.authentif.getResponseUsers2().subscribe(t=>{this.allChamis=t.sort((o,c)=>c.pointTotal-o.pointTotal),this.authentif.allUsers=this.allChamis})}getDefis(){this.authentif.getResponseDefi2().subscribe(t=>{const r=t;this.allDefis=r,this.authentif.allDefis=r,this.visites.tempDefi=r[r.length-1],this.initDefisOnMap(r)})}getVisites(){this.visites.getResponseVisites2().subscribe(t=>{this.allVisites=t,this.allVisites.sort((r,o)=>o.score-r.score)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(xI),l.Y36(Dm),l.Y36(Im),l.Y36(td),l.Y36(sp))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:29,vars:13,consts:[[1,"btn","btn-default",3,"click"],[3,"decider","tableChamis","posEventTab"],[3,"decider","tableDefis"],[3,"id"],[3,"visites","decider"],[3,"click"],["type","checkbox",3,"ngModel","ngModelChange"],["leaflet","",2,"height","500px",3,"leafletOptions","leafletLayers"],[3,"leafletLayer",4,"ngIf"],[4,"ngFor","ngForOf"],["data-dismiss","modal",1,"btn","btn-default",3,"click"],[3,"posEvent"],[3,"leafletLayer"]],template:function(t,r){1&t&&(l.TgZ(0,"h1"),l._uU(1,"Projet int\xe9grateur L3 Miage 2022"),l.qZA(),l.TgZ(2,"h2"),l._uU(3,"Bienvenu chez les chamis"),l.qZA(),l.TgZ(4,"pre"),l._uU(5,"  "),l._UZ(6,"app-authentification"),l._uU(7,"\n"),l.qZA(),l.TgZ(8,"button",0),l.NdJ("click",function(){return r.openModal("AllVisites")}),l._uU(9," Show all visites\n"),l.qZA(),l.TgZ(10,"app-table-vue",1),l.NdJ("posEventTab",function(c){return r.setPosition(c)}),l.qZA(),l._UZ(11,"app-table-vue",2),l.TgZ(12,"jw-modal",3),l._UZ(13,"app-table-vue",4),l.TgZ(14,"button",5),l.NdJ("click",function(){return r.closeModal("AllVisites")}),l._uU(15," Close "),l.qZA()(),l.TgZ(16,"label"),l._uU(17," Afficher le cercle "),l.TgZ(18,"input",6),l.NdJ("ngModelChange",function(c){return r.displayCircle=c}),l.qZA()(),l.TgZ(19,"div",7),l.YNc(20,J1,1,1,"div",8),l.qZA(),l.TgZ(21,"footer"),l._uU(22,"\nSome footer\n"),l.qZA(),l.TgZ(23,"jw-modal",3)(24,"table"),l.YNc(25,Q1,16,7,"tr",9),l.qZA(),l.TgZ(26,"button",10),l.NdJ("click",function(){return r.closeModal("allVisitesDeDefi")}),l._uU(27,"Close"),l.qZA()(),l.TgZ(28,"app-visites",11),l.NdJ("posEvent",function(c){return r.setPosition(c)}),l.qZA()),2&t&&(l.xp6(10),l.Q6J("decider","Chamis")("tableChamis",r.allChamis),l.xp6(1),l.Q6J("decider","Defis")("tableDefis",r.allDefis),l.xp6(1),l.Q6J("id","AllVisites"),l.xp6(1),l.Q6J("visites",r.allVisites)("decider","Visites"),l.xp6(5),l.Q6J("ngModel",r.displayCircle),l.xp6(1),l.Q6J("leafletOptions",r.options)("leafletLayers",r.otherLayers),l.xp6(1),l.Q6J("ngIf",r.displayCircle),l.xp6(3),l.Q6J("id","allVisitesDeDefi"),l.xp6(2),l.Q6J("ngForOf",r.visites.visiteOfDefi(r.visites.tempDefi)))},directives:[Y1,_x,Am,Te,Eo,_l,Sh,jv,Hn,Ab,ct,mx],styles:[""]}),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var eO=k(3399);class LI{constructor(e){return e}}class vx{constructor(){return(0,ps.vb)("auth")}}const FI=new l.OlP("angularfire2.auth-instances");function nO(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new LI(r)}}const rO={provide:vx,deps:[[new l.FiY,FI]]},iO={provide:LI,useFactory:function tO(n,e){const t=(0,ps.JM)("auth",n,e);return t&&new LI(t)},deps:[[new l.FiY,FI],Cm]};let sO=(()=>{class n{constructor(){(0,dh.KN)("angularfire",ps.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[iO,rO]}),n})();function oO(n,...e){return{ngModule:sO,providers:[{provide:FI,useFactory:nO(n),multi:!0,deps:[l.R0b,l.zs3,ps.HU,dI,[new l.FiY,vb],...e]}]}}const aO=(0,ps.u3)(eO.n,!0);class VI{constructor(e){return e}}const wx="firestore",UI=new l.OlP("angularfire2.firestore-instances");function cO(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new VI(r)}}const dO={provide:class uO{constructor(){return(0,ps.vb)(wx)}},deps:[[new l.FiY,UI]]},hO={provide:VI,useFactory:function lO(n,e){const t=(0,ps.JM)(wx,n,e);return t&&new VI(t)},deps:[[new l.FiY,UI],Cm]};let fO=(()=>{class n{constructor(){(0,dh.KN)("angularfire",ps.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[hO,dO]}),n})();function pO(n,...e){return{ngModule:fO,providers:[{provide:UI,useFactory:cO(n),multi:!0,deps:[l.R0b,l.zs3,ps.HU,dI,[new l.FiY,vx],[new l.FiY,vb],...e]}]}}const gO=(0,ps.u3)(PM,!0),BI_firebase={projectId:"premierprojet-9c7d8",appId:"1:394949715793:web:d660e6b31029bad8421570",databaseURL:"https://premierprojet-9c7d8-default-rtdb.europe-west1.firebasedatabase.app",storageBucket:"premierprojet-9c7d8.appspot.com",locationId:"europe-west",apiKey:"AIzaSyDW-DEvtZJhNXgSJvogxHinLCVtpfzk50U",authDomain:"premierprojet-9c7d8.firebaseapp.com",messagingSenderId:"394949715793",measurementId:"G-Z32LQZBHMH"},BI_firebaseConfig={apiKey:"AIzaSyDWsoddNHtY-Rwirp-jyHB9-0tzhvT6coE",authDomain:"projetintegrateur-2ed35.firebaseapp.com",projectId:"projetintegrateur-2ed35",storageBucket:"projetintegrateur-2ed35.appspot.com",messagingSenderId:"62423672571",appId:"1:62423672571:web:86c95b9c2f6f317145b25e"};let mO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[X1]}),n.\u0275inj=l.cJS({providers:[],imports:[[Ds,x_,Ah,g1,Mb,cs,sc.hO.initializeApp(BI_firebaseConfig),tP(()=>nP(BI_firebase)),oO(()=>aO()),pO(()=>gO())]]}),n})();pa().bootstrapModule(mO).catch(n=>console.error(n))},4762:(Ct,Le,k)=>{"use strict";function le(re,ge){var ve={};for(var me in re)Object.prototype.hasOwnProperty.call(re,me)&&ge.indexOf(me)<0&&(ve[me]=re[me]);if(null!=re&&"function"==typeof Object.getOwnPropertySymbols){var Fe=0;for(me=Object.getOwnPropertySymbols(re);Fe<me.length;Fe++)ge.indexOf(me[Fe])<0&&Object.prototype.propertyIsEnumerable.call(re,me[Fe])&&(ve[me[Fe]]=re[me[Fe]])}return ve}function Se(re,ge,ve,me){return new(ve||(ve=Promise))(function(ee,Nt){function lt(it){try{ot(me.next(it))}catch(Lt){Nt(Lt)}}function jt(it){try{ot(me.throw(it))}catch(Lt){Nt(Lt)}}function ot(it){it.done?ee(it.value):function Fe(ee){return ee instanceof ve?ee:new ve(function(Nt){Nt(ee)})}(it.value).then(lt,jt)}ot((me=me.apply(re,ge||[])).next())})}function _e(re){return this instanceof _e?(this.v=re,this):new _e(re)}function Ie(re,ge,ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Fe,me=ve.apply(re,ge||[]),ee=[];return Fe={},Nt("next"),Nt("throw"),Nt("return"),Fe[Symbol.asyncIterator]=function(){return this},Fe;function Nt(wt){me[wt]&&(Fe[wt]=function(hn){return new Promise(function(nn,on){ee.push([wt,hn,nn,on])>1||lt(wt,hn)})})}function lt(wt,hn){try{!function jt(wt){wt.value instanceof _e?Promise.resolve(wt.value.v).then(ot,it):Lt(ee[0][2],wt)}(me[wt](hn))}catch(nn){Lt(ee[0][3],nn)}}function ot(wt){lt("next",wt)}function it(wt){lt("throw",wt)}function Lt(wt,hn){wt(hn),ee.shift(),ee.length&&lt(ee[0][0],ee[0][1])}}function Ge(re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ve,ge=re[Symbol.asyncIterator];return ge?ge.call(re):(re=function ae(re){var ge="function"==typeof Symbol&&Symbol.iterator,ve=ge&&re[ge],me=0;if(ve)return ve.call(re);if(re&&"number"==typeof re.length)return{next:function(){return re&&me>=re.length&&(re=void 0),{value:re&&re[me++],done:!re}}};throw new TypeError(ge?"Object is not iterable.":"Symbol.iterator is not defined.")}(re),ve={},me("next"),me("throw"),me("return"),ve[Symbol.asyncIterator]=function(){return this},ve);function me(ee){ve[ee]=re[ee]&&function(Nt){return new Promise(function(lt,jt){!function Fe(ee,Nt,lt,jt){Promise.resolve(jt).then(function(ot){ee({value:ot,done:lt})},Nt)}(lt,jt,(Nt=re[ee](Nt)).done,Nt.value)})}}}k.d(Le,{FC:()=>Ie,KL:()=>Ge,_T:()=>le,mG:()=>Se,qq:()=>_e})},9724:(Ct,Le,k)=>{"use strict";k.d(Le,{$8M:()=>Ya,$Z:()=>og,AFp:()=>xE,AaK:()=>Se,CHM:()=>Ri,CRH:()=>nh,CZH:()=>Xy,CqO:()=>df,EJc:()=>RE,EpF:()=>d0,F$t:()=>cg,F4k:()=>K_,FYo:()=>Ay,FiY:()=>Tt,G48:()=>fv,Gf:()=>dE,GfV:()=>Pf,GkF:()=>W_,Gpc:()=>W,Hsn:()=>J_,JOm:()=>Da,Jf7:()=>oc,LFG:()=>A,LSH:()=>vp,Lbi:()=>xT,MAs:()=>Xp,NdJ:()=>lg,OlP:()=>ar,Oqu:()=>yg,PXZ:()=>kT,Q6J:()=>ag,QGY:()=>$u,Qsj:()=>Lc,R0b:()=>Oo,RDi:()=>es,Rgc:()=>Zg,SBq:()=>xo,Sil:()=>OT,Suo:()=>Wg,TTD:()=>ks,TgZ:()=>lf,VLi:()=>Gc,W1O:()=>rh,X6Q:()=>VT,XFs:()=>ht,Xpm:()=>Vt,Y36:()=>Ac,YKP:()=>Py,YNc:()=>Qw,Yjl:()=>vr,Yz7:()=>nn,ZZ4:()=>qf,_Bn:()=>Hi,_UZ:()=>ug,_Vd:()=>Ul,_c5:()=>WE,_uU:()=>D0,aQg:()=>Kf,c2e:()=>PT,cJS:()=>fn,cg1:()=>Pc,dDg:()=>ov,deG:()=>id,dqk:()=>Jt,eFA:()=>lv,ekj:()=>kd,g9A:()=>PE,h0i:()=>Vc,hGG:()=>KE,hij:()=>vg,iGM:()=>Po,ifc:()=>qt,ip1:()=>SE,kL8:()=>_y,lG2:()=>an,n5z:()=>Fn,oAB:()=>ue,oxw:()=>hf,q4F:()=>Sy,qLn:()=>Ep,qOj:()=>ef,qZA:()=>cf,sBO:()=>$f,sIi:()=>nf,s_b:()=>Lf,soG:()=>tv,tBr:()=>St,tb:()=>OE,tp0:()=>xt,uIk:()=>ji,vHH:()=>je,vpe:()=>vu,wAp:()=>Mt,xp6:()=>rw,z2F:()=>dv,zSh:()=>b_,zs3:()=>fu});var l=k(8023),H=k(4813),Q=k(818),le=k(1860),fe=k(815);function pe(i){for(let s in i)if(i[s]===pe)return s;throw Error("Could not find renamed property on target object.")}function Pe(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function Se(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(Se).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function Ee(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const q=pe({__forward_ref__:pe});function W(i){return i.__forward_ref__=W,i.toString=function(){return Se(this())},i}function ae(i){return Ve(i)?i():i}function Ve(i){return"function"==typeof i&&i.hasOwnProperty(q)&&i.__forward_ref__===W}class je extends Error{constructor(s,a){super(function Ze(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,a)),this.code=s}}function _e(i){return"string"==typeof i?i:null==i?"":String(i)}function Ie(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():_e(i)}function Ne(i,s){const a=s?` in ${s}`:"";throw new je(-201,`No provider for ${Ie(i)} found${a}`)}function ot(i,s){null==i&&function it(i,s,a,d){throw new Error(`ASSERTION ERROR: ${i}`+(null==d?"":` [Expected=> ${a} ${d} ${s} <=Actual]`))}(s,i,null,"!=")}function nn(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function fn(i){return{providers:i.providers||[],imports:i.imports||[]}}function jn(i){return mr(i,qi)||mr(i,Vr)}function mr(i,s){return i.hasOwnProperty(s)?i[s]:null}function Os(i){return i&&(i.hasOwnProperty(Fr)||i.hasOwnProperty(ms))?i[Fr]:null}const qi=pe({\u0275prov:pe}),Fr=pe({\u0275inj:pe}),Vr=pe({ngInjectableDef:pe}),ms=pe({ngInjectorDef:pe});var ht=(()=>((ht=ht||{})[ht.Default=0]="Default",ht[ht.Host=1]="Host",ht[ht.Self=2]="Self",ht[ht.SkipSelf=4]="SkipSelf",ht[ht.Optional=8]="Optional",ht))();let Ur;function qn(i){const s=Ur;return Ur=i,s}function hr(i,s,a){const d=jn(i);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:a&ht.Optional?null:void 0!==s?s:void Ne(Se(i),"Injector")}function Wn(i){return{toString:i}.toString()}var Kn=(()=>((Kn=Kn||{})[Kn.OnPush=0]="OnPush",Kn[Kn.Default=1]="Default",Kn))(),qt=(()=>{return(i=qt||(qt={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",qt;var i})();const mt="undefined"!=typeof globalThis&&globalThis,_t="undefined"!=typeof window&&window,xi="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Jt=mt||"undefined"!=typeof global&&global||_t||xi,tr={},Dt=[],yr=pe({\u0275cmp:pe}),Ft=pe({\u0275dir:pe}),Ye=pe({\u0275pipe:pe}),Ae=pe({\u0275mod:pe}),rt=pe({\u0275fac:pe}),vt=pe({__NG_ELEMENT_ID__:pe});let Pt=0;function Vt(i){return Wn(()=>{const a={},d={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Kn.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||Dt,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||qt.Emulated,id:"c",styles:i.styles||Dt,_:null,setInput:null,schemas:i.schemas||null,tView:null},h=i.directives,g=i.features,w=i.pipes;return d.id+=Pt++,d.inputs=Et(i.inputs,a),d.outputs=Et(i.outputs),g&&g.forEach(b=>b(d)),d.directiveDefs=h?()=>("function"==typeof h?h():h).map(Z):null,d.pipeDefs=w?()=>("function"==typeof w?w():w).map(J):null,d})}function Z(i){return Ht(i)||function nr(i){return i[Ft]||null}(i)}function J(i){return function Zt(i){return i[Ye]||null}(i)}const he={};function ue(i){return Wn(()=>{const s={type:i.type,bootstrap:i.bootstrap||Dt,declarations:i.declarations||Dt,imports:i.imports||Dt,exports:i.exports||Dt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(he[i.id]=i.type),s})}function Et(i,s){if(null==i)return tr;const a={};for(const d in i)if(i.hasOwnProperty(d)){let h=i[d],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),a[h]=d,s&&(s[h]=g)}return a}const an=Vt;function vr(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function Ht(i){return i[yr]||null}function vn(i,s){const a=i[Ae]||null;if(!a&&!0===s)throw new Error(`Type ${Se(i)} does not have '\u0275mod' property.`);return a}function Yn(i){return Array.isArray(i)&&"object"==typeof i[1]}function gn(i){return Array.isArray(i)&&!0===i[1]}function Pi(i){return 0!=(8&i.flags)}function Yi(i){return 2==(2&i.flags)}function Ji(i){return 1==(1&i.flags)}function Jr(i){return null!==i.template}function ao(i){return 0!=(512&i[2])}function hi(i,s){return i.hasOwnProperty(rt)?i[rt]:null}class rl{constructor(s,a,d){this.previousValue=s,this.currentValue=a,this.firstChange=d}isFirstChange(){return this.firstChange}}function ks(){return Bo}function Bo(i){return i.type.prototype.ngOnChanges&&(i.setInput=Ls),Du}function Du(){const i=fi(this),s=null==i?void 0:i.current;if(s){const a=i.previous;if(a===tr)i.previous=s;else for(let d in s)a[d]=s[d];i.current=null,this.ngOnChanges(s)}}function Ls(i,s,a,d){const h=fi(i)||function zt(i,s){return i[ql]=s}(i,{previous:tr,current:null}),g=h.current||(h.current={}),w=h.previous,b=this.declaredInputs[a],I=w[b];g[b]=new rl(I&&I.currentValue,s,w===tr),i[d]=s}ks.ngInherit=!0;const ql="__ngSimpleChanges__";function fi(i){return i[ql]||null}let ja;function es(i){ja=i}function Sn(i){return!!i.listen}const Vs={createRenderer:(i,s)=>function uo(){return void 0!==ja?ja:"undefined"!=typeof document?document:void 0}()};function En(i){for(;Array.isArray(i);)i=i[0];return i}function bs(i,s){return En(s[i])}function xr(i,s){return En(s[i.index])}function zo(i,s){return i.data[s]}function Rr(i,s){const a=s[i];return Yn(a)?a:a[0]}function ts(i){return 4==(4&i[2])}function ns(i){return 128==(128&i[2])}function Ni(i,s){return null==s?null:i[s]}function jr(i){i[18]=0}function Er(i,s){i[5]+=s;let a=i,d=i[3];for(;null!==d&&(1===s&&1===a[5]||-1===s&&0===a[5]);)d[5]+=s,a=d,d=d[3]}const bt={lFrame:Ko(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Bs(){return bt.bindingsEnabled}function xe(){return bt.lFrame.lView}function Gt(){return bt.lFrame.tView}function Ri(i){return bt.lFrame.contextLView=i,i[8]}function mn(){let i=Ha();for(;null!==i&&64===i.type;)i=i.parent;return i}function Ha(){return bt.lFrame.currentTNode}function ki(i,s){const a=bt.lFrame;a.currentTNode=i,a.isParent=s}function js(){return bt.lFrame.isParent}function fa(){bt.lFrame.isParent=!1}function Cs(){return bt.isInCheckNoChangesMode}function Zo(i){bt.isInCheckNoChangesMode=i}function zs(){return bt.lFrame.bindingIndex++}function co(i,s){const a=bt.lFrame;a.bindingIndex=a.bindingRootIndex=i,Li(s)}function Li(i){bt.lFrame.currentDirectiveIndex=i}function il(){return bt.lFrame.currentQueryIndex}function ga(i){bt.lFrame.currentQueryIndex=i}function qo(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function Wo(i,s,a){if(a&ht.SkipSelf){let h=s,g=i;for(;!(h=h.parent,null!==h||a&ht.Host||(h=qo(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;s=h,i=g}const d=bt.lFrame=_i();return d.currentTNode=s,d.lView=i,!0}function Hs(i){const s=_i(),a=i[1];bt.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function _i(){const i=bt.lFrame,s=null===i?null:i.child;return null===s?Ko(i):s}function Ko(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function xu(){const i=bt.lFrame;return bt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Mu=xu;function ho(){const i=xu();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function kr(){return bt.lFrame.selectedIndex}function Zs(i){bt.lFrame.selectedIndex=i}function Un(){const i=bt.lFrame;return zo(i.tView,i.selectedIndex)}function Jo(i,s){for(let a=s.directiveStart,d=s.directiveEnd;a<d;a++){const g=i.data[a].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:b,ngAfterViewInit:I,ngAfterViewChecked:P,ngOnDestroy:O}=g;w&&(i.contentHooks||(i.contentHooks=[])).push(-a,w),b&&((i.contentHooks||(i.contentHooks=[])).push(a,b),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,b)),I&&(i.viewHooks||(i.viewHooks=[])).push(-a,I),P&&((i.viewHooks||(i.viewHooks=[])).push(a,P),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,P)),null!=O&&(i.destroyHooks||(i.destroyHooks=[])).push(a,O)}}function Ru(i,s,a){go(i,s,3,a)}function $s(i,s,a,d){(3&i[2])===a&&go(i,s,a,d)}function sr(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function go(i,s,a,d){const g=null!=d?d:-1,w=s.length-1;let b=0;for(let I=void 0!==d?65535&i[18]:0;I<w;I++)if("number"==typeof s[I+1]){if(b=s[I],null!=d&&b>=d)break}else s[I]<0&&(i[18]+=65536),(b<g||-1==g)&&(ku(i,a,s,I),i[18]=(4294901760&i[18])+I+2),I++}function ku(i,s,a,d){const h=a[d]<0,g=a[d+1],b=i[h?-a[d]:a[d]];if(h){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{g.call(b)}finally{}}}else try{g.call(b)}finally{}}class Ga{constructor(s,a,d){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=d}}function _o(i,s,a){const d=Sn(i);let h=0;for(;h<a.length;){const g=a[h];if("number"==typeof g){if(0!==g)break;h++;const w=a[h++],b=a[h++],I=a[h++];d?i.setAttribute(s,b,I,w):s.setAttributeNS(w,b,I)}else{const w=g,b=a[++h];qa(w)?d&&i.setProperty(s,w,b):d?i.setAttribute(s,w,b):s.setAttribute(w,b),h++}}return h}function al(i){return 3===i||4===i||6===i}function qa(i){return 64===i.charCodeAt(0)}function is(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let d=0;d<s.length;d++){const h=s[d];"number"==typeof h?a=h:0===a||Wa(i,a,h,null,-1===a||2===a?s[++d]:null)}}return i}function Wa(i,s,a,d,h){let g=0,w=i.length;if(-1===s)w=-1;else for(;g<i.length;){const b=i[g++];if("number"==typeof b){if(b===s){w=-1;break}if(b>s){w=g-1;break}}}for(;g<i.length;){const b=i[g];if("number"==typeof b)break;if(b===a){if(null===d)return void(null!==h&&(i[g+1]=h));if(d===i[g+1])return void(i[g+2]=h)}g++,null!==d&&g++,null!==h&&g++}-1!==w&&(i.splice(w,0,s),g=w+1),i.splice(g++,0,a),null!==d&&i.splice(g++,0,d),null!==h&&i.splice(g++,0,h)}function Zn(i){return-1!==i}function yi(i){return 32767&i}function Xn(i,s){let a=function Is(i){return i>>16}(i),d=s;for(;a>0;)d=d[15],a--;return d}let Xt=!0;function u(i){const s=Xt;return Xt=i,s}let M=0;function $(i,s){const a=ye(i,s);if(-1!==a)return a;const d=s[1];d.firstCreatePass&&(i.injectorIndex=s.length,ne(d.data,i),ne(s,null),ne(d.blueprint,null));const h=Te(i,s),g=i.injectorIndex;if(Zn(h)){const w=yi(h),b=Xn(h,s),I=b[1].data;for(let P=0;P<8;P++)s[g+P]=b[w+P]|I[w+P]}return s[g+8]=h,g}function ne(i,s){i.push(0,0,0,0,0,0,0,0,s)}function ye(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function Te(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,d=null,h=s;for(;null!==h;){const g=h[1],w=g.type;if(d=2===w?g.declTNode:1===w?h[6]:null,null===d)return-1;if(a++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|a<<16}return-1}function Je(i,s,a){!function F(i,s,a){let d;"string"==typeof a?d=a.charCodeAt(0)||0:a.hasOwnProperty(vt)&&(d=a[vt]),null==d&&(d=a[vt]=M++);const h=255&d;s.data[i+(h>>5)]|=1<<h}(i,s,a)}function rn(i,s,a){if(a&ht.Optional)return i;Ne(s,"NodeInjector")}function or(i,s,a,d){if(a&ht.Optional&&void 0===d&&(d=null),0==(a&(ht.Self|ht.Host))){const h=i[9],g=qn(void 0);try{return h?h.get(s,d,a&ht.Optional):hr(s,d,a&ht.Optional)}finally{qn(g)}}return rn(d,s,a)}function br(i,s,a,d=ht.Default,h){if(null!==i){const g=function ul(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(vt)?i[vt]:void 0;return"number"==typeof s?s>=0?255&s:Rn:s}(a);if("function"==typeof g){if(!Wo(s,i,d))return d&ht.Host?rn(h,a,d):or(s,a,d,h);try{const w=g(d);if(null!=w||d&ht.Optional)return w;Ne(a)}finally{Mu()}}else if("number"==typeof g){let w=null,b=ye(i,s),I=-1,P=d&ht.Host?s[16][6]:null;for((-1===b||d&ht.SkipSelf)&&(I=-1===b?Te(i,s):s[b+8],-1!==I&&_a(d,!1)?(w=s[1],b=yi(I),s=Xn(I,s)):b=-1);-1!==b;){const O=s[1];if(Xo(g,b,O.data)){const z=Gs(b,s,a,w,d,P);if(z!==ss)return z}I=s[b+8],-1!==I&&_a(d,s[1].data[b+8]===P)&&Xo(g,b,s)?(w=O,b=yi(I),s=Xn(I,s)):b=-1}}}return or(s,a,d,h)}const ss={};function Rn(){return new os(mn(),xe())}function Gs(i,s,a,d,h,g){const w=s[1],b=w.data[i+8],O=ma(b,w,a,null==d?Yi(b)&&Xt:d!=w&&0!=(3&b.type),h&ht.Host&&g===b);return null!==O?Ka(s,w,O,b):ss}function ma(i,s,a,d,h){const g=i.providerIndexes,w=s.data,b=1048575&g,I=i.directiveStart,O=g>>20,G=h?b+O:i.directiveEnd;for(let se=d?b:b+O;se<G;se++){const De=w[se];if(se<I&&a===De||se>=I&&De.type===a)return se}if(h){const se=w[I];if(se&&Jr(se)&&se.type===a)return I}return null}function Ka(i,s,a,d){let h=i[a];const g=s.data;if(function zr(i){return i instanceof Ga}(h)){const w=h;w.resolving&&function nt(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new je(-200,`Circular dependency in DI detected for ${i}${a}`)}(Ie(g[a]));const b=u(w.canSeeViewProviders);w.resolving=!0;const I=w.injectImpl?qn(w.injectImpl):null;Wo(i,d,ht.Default);try{h=i[a]=w.factory(void 0,g,i,d),s.firstCreatePass&&a>=d.directiveStart&&function po(i,s,a){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:g}=s.type.prototype;if(d){const w=Bo(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,w),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,w)}h&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,h),g&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,g),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,g))}(a,g[a],s)}finally{null!==I&&qn(I),u(b),w.resolving=!1,Mu()}}return h}function Xo(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function _a(i,s){return!(i&ht.Self||i&ht.Host&&s)}class os{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,d){return br(this._tNode,this._lView,s,d,a)}}function Fn(i){return Wn(()=>{const s=i.prototype.constructor,a=s[rt]||as(s),d=Object.prototype;let h=Object.getPrototypeOf(i.prototype).constructor;for(;h&&h!==d;){const g=h[rt]||as(h);if(g&&g!==a)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function as(i){return Ve(i)?()=>{const s=as(ae(i));return s&&s()}:hi(i)}function Ya(i){return function pt(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const d=a.length;let h=0;for(;h<d;){const g=a[h];if(al(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<d&&"string"==typeof a[h];)h++;else{if(g===s)return a[h+1];h+=2}}}return null}(mn(),i)}const vi="__parameters__";function yo(i,s,a){return Wn(()=>{const d=function Ja(i){return function(...a){if(i){const d=i(...a);for(const h in d)this[h]=d[h]}}}(s);function h(...g){if(this instanceof h)return d.apply(this,g),this;const w=new h(...g);return b.annotation=w,b;function b(I,P,O){const z=I.hasOwnProperty(vi)?I[vi]:Object.defineProperty(I,vi,{value:[]})[vi];for(;z.length<=O;)z.push(null);return(z[O]=z[O]||[]).push(w),I}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=i,h.annotationCls=h,h})}class ar{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=nn({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const id=new ar("AnalyzeForEntryComponents");function wi(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let d=i[a];Array.isArray(d)?(s===i&&(s=i.slice(0,a)),wi(d,s)):s!==i&&s.push(d)}return s}function wo(i,s){i.forEach(a=>Array.isArray(a)?wo(a,s):s(a))}function Eo(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function va(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function Ui(i,s){const a=[];for(let d=0;d<i;d++)a.push(s);return a}function Ei(i,s,a){let d=bo(i,s);return d>=0?i[1|d]=a:(d=~d,function Ql(i,s,a,d){let h=i.length;if(h==s)i.push(a,d);else if(1===h)i.push(d,i[0]),i[0]=a;else{for(h--,i.push(i[h-1],i[h]);h>s;)i[h]=i[h-2],h--;i[s]=a,i[s+1]=d}}(i,d,s,a)),d}function cl(i,s){const a=bo(i,s);if(a>=0)return i[1|a]}function bo(i,s){return function eu(i,s,a){let d=0,h=i.length>>a;for(;h!==d;){const g=d+(h-d>>1),w=i[g<<a];if(s===w)return g<<a;w>s?h=g:d=g+1}return~(h<<a)}(i,s,1)}const Co={},iu="__NG_DI_FLAG__",Ss="ngTempTokenPath",ta=/\n/gm,hl="__source",hd=pe({provide:String,useValue:pe});let fl;function pl(i){const s=fl;return fl=i,s}function fd(i,s=ht.Default){if(void 0===fl)throw new je(203,"");return null===fl?hr(i,void 0,s):fl.get(i,s&ht.Optional?null:void 0,s)}function A(i,s=ht.Default){return(function zn(){return Ur}()||fd)(ae(i),s)}const N=A;function j(i){const s=[];for(let a=0;a<i.length;a++){const d=ae(i[a]);if(Array.isArray(d)){if(0===d.length)throw new je(900,"");let h,g=ht.Default;for(let w=0;w<d.length;w++){const b=d[w],I=ce(b);"number"==typeof I?-1===I?h=b.token:g|=I:h=b}s.push(A(h,g))}else s.push(A(d))}return s}function te(i,s){return i[iu]=s,i.prototype[iu]=s,i}function ce(i){return i[iu]}const St=te(yo("Inject",i=>({token:i})),-1),Tt=te(yo("Optional"),8),xt=te(yo("SkipSelf"),4);class _l{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Ea(i){return i instanceof _l?i.changingThisBreaksApplicationSecurity:i}const m=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,D=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Zr=(()=>((Zr=Zr||{})[Zr.NONE=0]="NONE",Zr[Zr.HTML=1]="HTML",Zr[Zr.STYLE=2]="STYLE",Zr[Zr.SCRIPT=3]="SCRIPT",Zr[Zr.URL=4]="URL",Zr[Zr.RESOURCE_URL=5]="RESOURCE_URL",Zr))();function vp(i){const s=function Ah(){const i=xe();return i&&i[12]}();return s?s.sanitize(Zr.URL,i)||"":function yl(i,s){const a=function fp(i){return i instanceof _l&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}(i,"URL")?Ea(i):function R(i){return(i=String(i)).match(m)||i.match(D)?i:"unsafe:"+i}(_e(i))}const Ib="__ngContext__";function cr(i,s){i[Ib]=s}function Sh(i){const s=function Lr(i){return i[Ib]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function ba(i){return i.ngOriginalError}function wp(i,...s){i.error(...s)}class Ep{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),d=function Ca(i){return i&&i.ngErrorLogger||wp}(s);d(this._console,"ERROR",s),a&&d(this._console,"ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&ba(s);for(;a&&ba(a);)a=ba(a);return a||null}}const Zv=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Jt))();function oc(i){return i.ownerDocument.defaultView}function au(i){return i instanceof Function?i():i}var Da=(()=>((Da=Da||{})[Da.Important=1]="Important",Da[Da.DashCase=2]="DashCase",Da))();function lu(i,s){return undefined(i,s)}function lc(i){const s=i[3];return gn(s)?s[3]:s}function Tp(i){return El(i[13])}function Hm(i){return El(i[4])}function El(i){for(;null!==i&&!gn(i);)i=i[4];return i}function _d(i,s,a,d,h){if(null!=d){let g,w=!1;gn(d)?g=d:Yn(d)&&(w=!0,d=d[0]);const b=En(d);0===i&&null!==a?null==h?dc(s,a,b):cc(s,a,b,h||null,!0):1===i&&null!==a?cc(s,a,b,h||null,!0):2===i?function Jv(i,s,a){const d=Sp(i,s);d&&function Wm(i,s,a,d){Sn(i)?i.removeChild(s,a,d):s.removeChild(a)}(i,d,s,a)}(s,b,w):3===i&&s.destroyNode(b),null!=g&&function Zb(i,s,a,d,h){const g=a[7];g!==En(a)&&_d(s,i,d,g,h);for(let b=10;b<a.length;b++){const I=a[b];yd(I[1],I,i,s,d,g)}}(s,i,g,a,h)}}function Ip(i,s,a){if(Sn(i))return i.createElement(s,a);{const d=null!==a?function Au(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(a):null;return null===d?i.createElement(s):i.createElementNS(d,s)}}function Zm(i,s){const a=i[9],d=a.indexOf(s),h=s[3];1024&s[2]&&(s[2]&=-1025,Er(h,-1)),a.splice(d,1)}function Ap(i,s){if(i.length<=10)return;const a=10+s,d=i[a];if(d){const h=d[17];null!==h&&h!==i&&Zm(h,d),s>0&&(i[a-1][4]=d[4]);const g=va(i,10+s);!function Rb(i,s){yd(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(d[1],d);const w=g[19];null!==w&&w.detachView(g[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function Kv(i,s){if(!(256&s[2])){const a=s[11];Sn(a)&&a.destroyNode&&yd(i,s,a,3,null,null),function Fb(i){let s=i[13];if(!s)return $m(i[1],i);for(;s;){let a=null;if(Yn(s))a=s[13];else{const d=s[10];d&&(a=d)}if(!a){for(;s&&!s[4]&&s!==i;)Yn(s)&&$m(s[1],s),s=s[3];null===s&&(s=i),Yn(s)&&$m(s[1],s),a=s&&s[4]}s=a}}(s)}}function $m(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function jb(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let d=0;d<a.length;d+=2){const h=s[a[d]];if(!(h instanceof Ga)){const g=a[d+1];if(Array.isArray(g))for(let w=0;w<g.length;w+=2){const b=h[g[w]],I=g[w+1];try{I.call(b)}finally{}}else try{g.call(h)}finally{}}}}(i,s),function Bb(i,s){const a=i.cleanup,d=s[7];let h=-1;if(null!==a)for(let g=0;g<a.length-1;g+=2)if("string"==typeof a[g]){const w=a[g+1],b="function"==typeof w?w(s):En(s[w]),I=d[h=a[g+2]],P=a[g+3];"boolean"==typeof P?b.removeEventListener(a[g],I,P):P>=0?d[h=P]():d[h=-P].unsubscribe(),g+=2}else{const w=d[h=a[g+1]];a[g].call(w)}if(null!==d){for(let g=h+1;g<d.length;g++)d[g]();s[7]=null}}(i,s),1===s[1].type&&Sn(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&gn(s[3])){a!==s[3]&&Zm(a,s);const d=s[19];null!==d&&d.detachView(i)}}}function Gm(i,s,a){return function un(i,s,a){let d=s;for(;null!==d&&40&d.type;)d=(s=d).parent;if(null===d)return a[0];if(2&d.flags){const h=i.data[d.directiveStart].encapsulation;if(h===qt.None||h===qt.Emulated)return null}return xr(d,a)}(i,s.parent,a)}function cc(i,s,a,d,h){Sn(i)?i.insertBefore(s,a,d,h):s.insertBefore(a,d,h)}function dc(i,s,a){Sn(i)?i.appendChild(s,a):s.appendChild(a)}function qm(i,s,a,d,h){null!==d?cc(i,s,a,d,h):dc(i,s,a)}function Sp(i,s){return Sn(i)?i.parentNode(s):s.parentNode}function Yv(i,s,a){return Km(i,s,a)}let Km=function Aa(i,s,a){return 40&i.type?xr(i,a):null};function Jm(i,s,a,d){const h=Gm(i,d,s),g=s[11],b=Yv(d.parent||s[6],d,s);if(null!=h)if(Array.isArray(a))for(let I=0;I<a.length;I++)qm(g,h,a[I],b,!1);else qm(g,h,a,b,!1)}function $r(i,s){if(null!==s){const a=s.type;if(3&a)return xr(s,i);if(4&a)return Qm(-1,i[s.index]);if(8&a){const d=s.child;if(null!==d)return $r(i,d);{const h=i[s.index];return gn(h)?Qm(-1,h):En(h)}}if(32&a)return lu(s,i)()||En(i[s.index]);{const d=Sa(i,s);return null!==d?Array.isArray(d)?d[0]:$r(lc(i[16]),d):$r(i,s.next)}}return null}function Sa(i,s){return null!==s?i[16][6].projection[s.projection]:null}function Qm(i,s){const a=10+i+1;if(a<s.length){const d=s[a],h=d[1].firstChild;if(null!==h)return $r(d,h)}return s[7]}function Mp(i,s,a,d,h,g,w){for(;null!=a;){const b=d[a.index],I=a.type;if(w&&0===s&&(b&&cr(En(b),d),a.flags|=4),64!=(64&a.flags))if(8&I)Mp(i,s,a.child,d,h,g,!1),_d(s,i,h,b,g);else if(32&I){const P=lu(a,d);let O;for(;O=P();)_d(s,i,h,O,g);_d(s,i,h,b,g)}else 16&I?Xm(i,s,d,a,h,g):_d(s,i,h,b,g);a=w?a.projectionNext:a.next}}function yd(i,s,a,d,h,g){Mp(a,d,i.firstChild,s,h,g,!1)}function Xm(i,s,a,d,h,g){const w=a[16],I=w[6].projection[d.projection];if(Array.isArray(I))for(let P=0;P<I.length;P++)_d(s,i,h,I[P],g);else Mp(i,s,I,w[3],h,g,!0)}function e_(i,s,a){Sn(i)?i.setAttribute(s,"style",a):s.style.cssText=a}function vd(i,s,a){Sn(i)?""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a):s.className=a}function bl(i,s,a){let d=i.length;for(;;){const h=i.indexOf(s,a);if(-1===h)return h;if(0===h||i.charCodeAt(h-1)<=32){const g=s.length;if(h+g===d||i.charCodeAt(h+g)<=32)return h}a=h+1}}const wd="ng-template";function $b(i,s,a){let d=0;for(;d<i.length;){let h=i[d++];if(a&&"class"===h){if(h=i[d],-1!==bl(h.toLowerCase(),s,0))return!0}else if(1===h){for(;d<i.length&&"string"==typeof(h=i[d++]);)if(h.toLowerCase()===s)return!0;return!1}}return!1}function Cl(i){return 4===i.type&&i.value!==wd}function Gb(i,s,a){return s===(4!==i.type||a?i.value:wd)}function Xv(i,s,a){let d=4;const h=i.attrs||[],g=function ew(i){for(let s=0;s<i.length;s++)if(al(i[s]))return s;return i.length}(h);let w=!1;for(let b=0;b<s.length;b++){const I=s[b];if("number"!=typeof I){if(!w)if(4&d){if(d=2|1&d,""!==I&&!Gb(i,I,a)||""===I&&1===s.length){if(sa(d))return!1;w=!0}}else{const P=8&d?I:s[++b];if(8&d&&null!==i.attrs){if(!$b(i.attrs,P,a)){if(sa(d))return!1;w=!0}continue}const z=qb(8&d?"class":I,h,Cl(i),a);if(-1===z){if(sa(d))return!1;w=!0;continue}if(""!==P){let G;G=z>g?"":h[z+1].toLowerCase();const se=8&d?G:null;if(se&&-1!==bl(se,P,0)||2&d&&P!==G){if(sa(d))return!1;w=!0}}}}else{if(!w&&!sa(d)&&!sa(I))return!1;if(w&&sa(I))continue;w=!1,d=I|1&d}}return sa(d)||w}function sa(i){return 0==(1&i)}function qb(i,s,a,d){if(null===s)return-1;let h=0;if(d||!a){let g=!1;for(;h<s.length;){const w=s[h];if(w===i)return h;if(3===w||6===w)g=!0;else{if(1===w||2===w){let b=s[++h];for(;"string"==typeof b;)b=s[++h];continue}if(4===w)break;if(0===w){h+=4;continue}}h+=g?1:2}return-1}return function Pp(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const d=i[a];if("number"==typeof d)return-1;if(d===s)return a;a++}return-1}(s,i)}function Oh(i,s,a=!1){for(let d=0;d<s.length;d++)if(Xv(i,s[d],a))return!0;return!1}function Wb(i,s){e:for(let a=0;a<s.length;a++){const d=s[a];if(i.length===d.length){for(let h=0;h<i.length;h++)if(i[h]!==d[h])continue e;return!0}}return!1}function Op(i,s){return i?":not("+s.trim()+")":s}function Np(i){let s=i[0],a=1,d=2,h="",g=!1;for(;a<i.length;){let w=i[a];if("string"==typeof w)if(2&d){const b=i[++a];h+="["+w+(b.length>0?'="'+b+'"':"")+"]"}else 8&d?h+="."+w:4&d&&(h+=" "+w);else""!==h&&!sa(w)&&(s+=Op(g,h),h=""),d=w,g=g||!sa(d);a++}return""!==h&&(s+=Op(g,h)),s}const Kt={};function rw(i){iw(Gt(),xe(),kr()+i,Cs())}function iw(i,s,a,d){if(!d)if(3==(3&s[2])){const g=i.preOrderCheckHooks;null!==g&&Ru(s,g,a)}else{const g=i.preOrderHooks;null!==g&&$s(s,g,0,a)}Zs(a)}function Rp(i,s){return i<<17|s<<2}function xa(i){return i>>17&32767}function t_(i){return 2|i}function cu(i){return(131068&i)>>2}function kh(i,s){return-131069&i|s<<2}function Ma(i){return 1|i}function fw(i,s){const a=i.contentQueries;if(null!==a)for(let d=0;d<a.length;d+=2){const h=a[d],g=a[d+1];if(-1!==g){const w=i.data[g];ga(h),w.contentQueries(2,s[g],g)}}}function Hu(i,s,a,d,h,g,w,b,I,P){const O=s.blueprint.slice();return O[0]=h,O[2]=140|d,jr(O),O[3]=O[15]=i,O[8]=a,O[10]=w||i&&i[10],O[11]=b||i&&i[11],O[12]=I||i&&i[12]||null,O[9]=P||i&&i[9]||null,O[6]=g,O[16]=2==s.type?i[16]:O,O}function bd(i,s,a,d,h){let g=i.data[s];if(null===g)g=function fc(i,s,a,d,h){const g=Ha(),w=js(),I=i.data[s]=function iC(i,s,a,d,h,g){return{type:a,index:d,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?g:g&&g.parent,a,s,d,h);return null===i.firstChild&&(i.firstChild=I),null!==g&&(w?null==g.child&&null!==I.parent&&(g.child=I):null===g.next&&(g.next=I)),I}(i,s,a,d,h),function Ts(){return bt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=a,g.value=d,g.attrs=h;const w=function Qr(){const i=bt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();g.injectorIndex=null===w?-1:w.injectorIndex}return ki(g,!0),g}function pc(i,s,a,d){if(0===a)return-1;const h=s.length;for(let g=0;g<a;g++)s.push(d),i.blueprint.push(d),i.data.push(null);return h}function jh(i,s,a){Hs(s);try{const d=i.viewQuery;null!==d&&$p(1,d,a);const h=i.template;null!==h&&gw(i,s,h,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&fw(i,s),i.staticViewQueries&&$p(2,i.viewQuery,a);const g=i.components;null!==g&&function Bh(i,s){for(let a=0;a<s.length;a++)gC(i,s[a])}(s,g)}catch(d){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),d}finally{s[2]&=-5,ho()}}function gc(i,s,a,d){const h=s[2];if(256==(256&h))return;Hs(s);const g=Cs();try{jr(s),function $o(i){return bt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&gw(i,s,a,2,d);const w=3==(3&h);if(!g)if(w){const P=i.preOrderCheckHooks;null!==P&&Ru(s,P,null)}else{const P=i.preOrderHooks;null!==P&&$s(s,P,0,null),sr(s,0)}if(function fC(i){for(let s=Tp(i);null!==s;s=Hm(s)){if(!s[2])continue;const a=s[9];for(let d=0;d<a.length;d++){const h=a[d],g=h[3];0==(1024&h[2])&&Er(g,1),h[2]|=1024}}}(s),function hC(i){for(let s=Tp(i);null!==s;s=Hm(s))for(let a=10;a<s.length;a++){const d=s[a],h=d[1];ns(d)&&gc(h,d,h.template,d[8])}}(s),null!==i.contentQueries&&fw(i,s),!g)if(w){const P=i.contentCheckHooks;null!==P&&Ru(s,P)}else{const P=i.contentHooks;null!==P&&$s(s,P,1),sr(s,1)}!function nC(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let d=0;d<a.length;d++){const h=a[d];if(h<0)Zs(~h);else{const g=h,w=a[++d],b=a[++d];co(w,g),b(2,s[g])}}}finally{Zs(-1)}}(i,s);const b=i.components;null!==b&&function rC(i,s){for(let a=0;a<s.length;a++)pC(i,s[a])}(s,b);const I=i.viewQuery;if(null!==I&&$p(2,I,d),!g)if(w){const P=i.viewCheckHooks;null!==P&&Ru(s,P)}else{const P=i.viewHooks;null!==P&&$s(s,P,2),sr(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),g||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,Er(s[3],-1))}finally{ho()}}function pw(i,s,a,d){const h=s[10],g=!Cs(),w=ts(s);try{g&&!w&&h.begin&&h.begin(),w&&jh(i,s,d),gc(i,s,a,d)}finally{g&&!w&&h.end&&h.end()}}function gw(i,s,a,d,h){const g=kr(),w=2&d;try{Zs(-1),w&&s.length>20&&iw(i,s,20,Cs()),a(d,h)}finally{Zs(g)}}function mw(i,s,a){if(Pi(s)){const h=s.directiveEnd;for(let g=s.directiveStart;g<h;g++){const w=i.data[g];w.contentQueries&&w.contentQueries(1,a[g],g)}}}function zh(i,s,a){!Bs()||(function Cw(i,s,a,d){const h=a.directiveStart,g=a.directiveEnd;i.firstCreatePass||$(a,s),cr(d,s);const w=a.initialInputs;for(let b=h;b<g;b++){const I=i.data[b],P=Jr(I);P&&Kh(s,a,I);const O=Ka(s,i,b,a);cr(O,s),null!==w&&cC(0,b-h,O,I,0,w),P&&(Rr(a.index,s)[8]=O)}}(i,s,a,xr(a,s)),128==(128&a.flags)&&function jp(i,s,a){const d=a.directiveStart,h=a.directiveEnd,w=a.index,b=function pa(){return bt.lFrame.currentDirectiveIndex}();try{Zs(w);for(let I=d;I<h;I++){const P=i.data[I],O=s[I];Li(I),(null!==P.hostBindings||0!==P.hostVars||null!==P.hostAttrs)&&Tw(P,O)}}finally{Zs(-1),Li(b)}}(i,s,a))}function Js(i,s,a=xr){const d=s.localNames;if(null!==d){let h=s.index+1;for(let g=0;g<d.length;g+=2){const w=d[g+1],b=-1===w?a(s,i):i[w];i[h++]=b}}}function p_(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Hh(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function Hh(i,s,a,d,h,g,w,b,I,P){const O=20+d,z=O+h,G=function Up(i,s){const a=[];for(let d=0;d<s;d++)a.push(d<i?null:Kt);return a}(O,z),se="function"==typeof P?P():P;return G[1]={type:i,blueprint:G,template:a,queries:null,viewQuery:b,declTNode:s,data:G.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:z,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:I,consts:se,incompleteFirstPass:!1}}function yw(i,s,a,d){const h=Pw(s);null===a?h.push(d):(h.push(a),i.firstCreatePass&&Ow(i).push(d,h.length-1))}function $h(i,s,a){for(let d in i)if(i.hasOwnProperty(d)){const h=i[d];(a=null===a?{}:a).hasOwnProperty(d)?a[d].push(s,h):a[d]=[s,h]}return a}function g_(i,s,a,d){let h=!1;if(Bs()){const g=function uC(i,s,a){const d=i.directiveRegistry;let h=null;if(d)for(let g=0;g<d.length;g++){const w=d[g];Oh(a,w.selectors,!1)&&(h||(h=[]),Je($(a,s),i,w.type),Jr(w)?(qh(i,a),h.unshift(w)):h.push(w))}return h}(i,s,a),w=null===d?null:{"":-1};if(null!==g){h=!0,Dw(a,i.data.length,g.length);for(let O=0;O<g.length;O++){const z=g[O];z.providersResolver&&z.providersResolver(z)}let b=!1,I=!1,P=pc(i,s,g.length,null);for(let O=0;O<g.length;O++){const z=g[O];a.mergedAttrs=is(a.mergedAttrs,z.hostAttrs),Iw(i,a,s,P,z),Wh(P,z,w),null!==z.contentQueries&&(a.flags|=8),(null!==z.hostBindings||null!==z.hostAttrs||0!==z.hostVars)&&(a.flags|=128);const G=z.type.prototype;!b&&(G.ngOnChanges||G.ngOnInit||G.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),b=!0),!I&&(G.ngOnChanges||G.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),I=!0),P++}!function vw(i,s){const d=s.directiveEnd,h=i.data,g=s.attrs,w=[];let b=null,I=null;for(let P=s.directiveStart;P<d;P++){const O=h[P],z=O.inputs,G=null===g||Cl(s)?null:dC(z,g);w.push(G),b=$h(z,P,b),I=$h(O.outputs,P,I)}null!==b&&(b.hasOwnProperty("class")&&(s.flags|=16),b.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=w,s.inputs=b,s.outputs=I}(i,a)}w&&function lC(i,s,a){if(s){const d=i.localNames=[];for(let h=0;h<s.length;h+=2){const g=a[s[h+1]];if(null==g)throw new je(-301,!1);d.push(s[h],g)}}}(a,d,w)}return a.mergedAttrs=is(a.mergedAttrs,a.attrs),h}function Bp(i,s,a,d,h,g){const w=g.hostBindings;if(w){let b=i.hostBindingOpCodes;null===b&&(b=i.hostBindingOpCodes=[]);const I=~s.index;(function aC(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(b)!=I&&b.push(I),b.push(d,h,w)}}function Tw(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function qh(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function Wh(i,s,a){if(a){if(s.exportAs)for(let d=0;d<s.exportAs.length;d++)a[s.exportAs[d]]=i;Jr(s)&&(a[""]=i)}}function Dw(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function Iw(i,s,a,d,h){i.data[d]=h;const g=h.factory||(h.factory=hi(h.type)),w=new Ga(g,Jr(h),null);i.blueprint[d]=w,a[d]=w,Bp(i,s,0,d,pc(i,a,h.hostVars,Kt),h)}function Kh(i,s,a){const d=xr(s,i),h=p_(a),g=i[10],w=Hp(i,Hu(i,h,null,a.onPush?64:16,d,s,g,g.createRenderer(d,a),null,null));i[s.index]=w}function hu(i,s,a,d,h,g){const w=xr(i,s);!function m_(i,s,a,d,h,g,w){if(null==g)Sn(i)?i.removeAttribute(s,h,a):s.removeAttribute(h);else{const b=null==w?_e(g):w(g,d||"",h);Sn(i)?i.setAttribute(s,h,b,a):a?s.setAttributeNS(a,h,b):s.setAttribute(h,b)}}(s[11],w,g,i.value,a,d,h)}function cC(i,s,a,d,h,g){const w=g[s];if(null!==w){const b=d.setInput;for(let I=0;I<w.length;){const P=w[I++],O=w[I++],z=w[I++];null!==b?d.setInput(a,z,P,O):a[O]=z}}}function dC(i,s){let a=null,d=0;for(;d<s.length;){const h=s[d];if(0!==h)if(5!==h){if("number"==typeof h)break;i.hasOwnProperty(h)&&(null===a&&(a=[]),a.push(h,i[h],s[d+1])),d+=2}else d+=2;else d+=4}return a}function Aw(i,s,a,d){return new Array(i,!0,!1,s,null,0,d,a,null,null)}function pC(i,s){const a=Rr(s,i);if(ns(a)){const d=a[1];80&a[2]?gc(d,a,d.template,a[8]):a[5]>0&&zp(a)}}function zp(i){for(let d=Tp(i);null!==d;d=Hm(d))for(let h=10;h<d.length;h++){const g=d[h];if(1024&g[2]){const w=g[1];gc(w,g,w.template,g[8])}else g[5]>0&&zp(g)}const a=i[1].components;if(null!==a)for(let d=0;d<a.length;d++){const h=Rr(a[d],i);ns(h)&&h[5]>0&&zp(h)}}function gC(i,s){const a=Rr(s,i),d=a[1];(function mC(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(d,a),jh(d,a,a[8])}function Hp(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function __(i){for(;i;){i[2]|=64;const s=lc(i);if(ao(i)&&!s)return i;i=s}return null}function Sw(i,s,a){const d=s[10];d.begin&&d.begin();try{gc(i,s,i.template,a)}catch(h){throw Nw(s,h),h}finally{d.end&&d.end()}}function y_(i){!function Zp(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],d=Sh(a),h=d[1];pw(h,d,h.template,a)}}(i[8])}function $p(i,s,a){ga(0),s(i,a)}const yC=(()=>Promise.resolve(null))();function Pw(i){return i[7]||(i[7]=[])}function Ow(i){return i.cleanup||(i.cleanup=[])}function Nw(i,s){const a=i[9],d=a?a.get(Ep,null):null;d&&d.handleError(s)}function Gp(i,s,a,d,h){for(let g=0;g<a.length;){const w=a[g++],b=a[g++],I=s[w],P=i.data[w];null!==P.setInput?P.setInput(I,h,d,b):I[b]=h}}function Zu(i,s,a){const d=bs(s,i);!function Dp(i,s,a){Sn(i)?i.setValue(s,a):s.textContent=a}(i[11],d,a)}function qp(i,s,a){let d=a?i.styles:null,h=a?i.classes:null,g=0;if(null!==s)for(let w=0;w<s.length;w++){const b=s[w];"number"==typeof b?g=b:1==g?h=Ee(h,b):2==g&&(d=Ee(d,b+": "+s[++w]+";"))}a?i.styles=d:i.stylesWithoutHost=d,a?i.classes=h:i.classesWithoutHost=h}const E_=new ar("INJECTOR",-1);class Rw{get(s,a=Co){if(a===Co){const d=new Error(`NullInjectorError: No provider for ${Se(s)}!`);throw d.name="NullInjectorError",d}return a}}const b_=new ar("Set Injector scope."),Yh={},kw={};let C_;function Lw(){return void 0===C_&&(C_=new Rw),C_}function Qs(i,s=null,a=null,d){const h=Fw(i,s,a,d);return h._resolveInjectorDefTypes(),h}function Fw(i,s=null,a=null,d){return new Vw(i,a,s||Lw(),d)}class Vw{constructor(s,a,d,h=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];a&&wo(a,b=>this.processProvider(b,s,a)),wo([s],b=>this.processInjectorType(b,[],g)),this.records.set(E_,Td(void 0,this));const w=this.records.get(b_);this.scope=null!=w?w.value:null,this.source=h||("object"==typeof s?null:Se(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=Co,d=ht.Default){this.assertNotDestroyed();const h=pl(this),g=qn(void 0);try{if(!(d&ht.SkipSelf)){let b=this.records.get(s);if(void 0===b){const I=function jw(i){return"function"==typeof i||"object"==typeof i&&i instanceof ar}(s)&&jn(s);b=I&&this.injectableDefInScope(I)?Td(Jh(s),Yh):null,this.records.set(s,b)}if(null!=b)return this.hydrate(s,b)}return(d&ht.Self?Lw():this.parent).get(s,a=d&ht.Optional&&a===Co?null:a)}catch(w){if("NullInjectorError"===w.name){if((w[Ss]=w[Ss]||[]).unshift(Se(s)),h)throw w;return function Be(i,s,a,d){const h=i[Ss];throw s[hl]&&h.unshift(s[hl]),i.message=function st(i,s,a,d=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let h=Se(s);if(Array.isArray(s))h=s.map(Se).join(" -> ");else if("object"==typeof s){let g=[];for(let w in s)if(s.hasOwnProperty(w)){let b=s[w];g.push(w+":"+("string"==typeof b?JSON.stringify(b):Se(b)))}h=`{${g.join(", ")}}`}return`${a}${d?"("+d+")":""}[${h}]: ${i.replace(ta,"\n  ")}`}("\n"+i.message,h,a,d),i.ngTokenPath=h,i[Ss]=null,i}(w,s,"R3InjectorError",this.source)}throw w}finally{qn(g),pl(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((d,h)=>s.push(Se(h))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new je(205,!1)}processInjectorType(s,a,d){if(!(s=ae(s)))return!1;let h=Os(s);const g=null==h&&s.ngModule||void 0,w=void 0===g?s:g,b=-1!==d.indexOf(w);if(void 0!==g&&(h=Os(g)),null==h)return!1;if(null!=h.imports&&!b){let O;d.push(w);try{wo(h.imports,z=>{this.processInjectorType(z,a,d)&&(void 0===O&&(O=[]),O.push(z))})}finally{}if(void 0!==O)for(let z=0;z<O.length;z++){const{ngModule:G,providers:se}=O[z];wo(se,De=>this.processProvider(De,G,se||Dt))}}this.injectorDefTypes.add(w);const I=hi(w)||(()=>new w);this.records.set(w,Td(I,Yh));const P=h.providers;if(null!=P&&!b){const O=s;wo(P,z=>this.processProvider(z,O,P))}return void 0!==g&&void 0!==s.providers}processProvider(s,a,d){let h=mc(s=ae(s))?s:ae(s&&s.provide);const g=function Cd(i,s,a){return D_(i)?Td(void 0,i.useValue):Td(Uw(i),Yh)}(s);if(mc(s)||!0!==s.multi)this.records.get(h);else{let w=this.records.get(h);w||(w=Td(void 0,Yh,!0),w.factory=()=>j(w.multi),this.records.set(h,w)),h=s,w.multi.push(s)}this.records.set(h,g)}hydrate(s,a){return a.value===Yh&&(a.value=kw,a.value=a.factory()),"object"==typeof a.value&&a.value&&function _c(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=ae(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function Jh(i){const s=jn(i),a=null!==s?s.factory:hi(i);if(null!==a)return a;if(i instanceof ar)throw new je(204,!1);if(i instanceof Function)return function T_(i){const s=i.length;if(s>0)throw Ui(s,"?"),new je(204,!1);const a=function _r(i){const s=i&&(i[qi]||i[Vr]);if(s){const a=function Ir(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new je(204,!1)}function Uw(i,s,a){let d;if(mc(i)){const h=ae(i);return hi(h)||Jh(h)}if(D_(i))d=()=>ae(i.useValue);else if(function Bw(i){return!(!i||!i.useFactory)}(i))d=()=>i.useFactory(...j(i.deps||[]));else if(function EC(i){return!(!i||!i.useExisting)}(i))d=()=>A(ae(i.useExisting));else{const h=ae(i&&(i.useClass||i.provide));if(!function rA(i){return!!i.deps}(i))return hi(h)||Jh(h);d=()=>new h(...j(i.deps))}return d}function Td(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function D_(i){return null!==i&&"object"==typeof i&&hd in i}function mc(i){return"function"==typeof i}let fu=(()=>{class i{static create(a,d){var h;if(Array.isArray(a))return Qs({name:""},d,a,"");{const g=null!==(h=a.name)&&void 0!==h?h:"";return Qs({name:g},a.parent,a.providers,g)}}}return i.THROW_IF_NOT_FOUND=Co,i.NULL=new Rw,i.\u0275prov=nn({token:i,providedIn:"any",factory:()=>A(E_)}),i.__NG_ELEMENT_ID__=-1,i})();function P_(i,s){Jo(Sh(i)[1],mn())}function ef(i){let s=function Xh(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const d=[i];for(;s;){let h;if(Jr(i))h=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new je(903,"");h=s.\u0275dir}if(h){if(a){d.push(h);const w=i;w.inputs=O_(i.inputs),w.declaredInputs=O_(i.declaredInputs),w.outputs=O_(i.outputs);const b=h.hostBindings;b&&AC(i,b);const I=h.viewQuery,P=h.contentQueries;if(I&&N_(i,I),P&&IC(i,P),Pe(i.inputs,h.inputs),Pe(i.declaredInputs,h.declaredInputs),Pe(i.outputs,h.outputs),Jr(h)&&h.data.animation){const O=i.data;O.animation=(O.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let w=0;w<g.length;w++){const b=g[w];b&&b.ngInherit&&b(i),b===ef&&(a=!1)}}s=Object.getPrototypeOf(s)}!function tf(i){let s=0,a=null;for(let d=i.length-1;d>=0;d--){const h=i[d];h.hostVars=s+=h.hostVars,h.hostAttrs=is(h.hostAttrs,a=is(a,h.hostAttrs))}}(d)}function O_(i){return i===tr?{}:i===Dt?[]:i}function N_(i,s){const a=i.viewQuery;i.viewQuery=a?(d,h)=>{s(d,h),a(d,h)}:s}function IC(i,s){const a=i.contentQueries;i.contentQueries=a?(d,h,g)=>{s(d,h,g),a(d,h,g)}:s}function AC(i,s){const a=i.hostBindings;i.hostBindings=a?(d,h)=>{s(d,h),a(d,h)}:s}let Gr=null;function Ao(){if(!Gr){const i=Jt.Symbol;if(i&&i.iterator)Gr=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const d=s[a];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Gr=d)}}}return Gr}function nf(i){return!!R_(i)&&(Array.isArray(i)||!(i instanceof Map)&&Ao()in i)}function R_(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function ti(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function ji(i,s,a,d){const h=xe();return ti(h,zs(),s)&&(Gt(),hu(Un(),h,i,s,a,d)),ji}function Qw(i,s,a,d,h,g,w,b){const I=xe(),P=Gt(),O=i+20,z=P.firstCreatePass?function V_(i,s,a,d,h,g,w,b,I){const P=s.consts,O=bd(s,i,4,w||null,Ni(P,b));g_(s,a,O,Ni(P,I)),Jo(s,O);const z=O.tViews=Hh(2,O,d,h,g,s.directiveRegistry,s.pipeRegistry,null,s.schemas,P);return null!==s.queries&&(s.queries.template(s,O),z.queries=s.queries.embeddedTView(O)),O}(O,P,I,s,a,d,h,g,w):P.data[O];ki(z,!1);const G=I[11].createComment("");Jm(P,I,G,z),cr(G,I),Hp(I,I[O]=Aw(G,I,G,z)),Ji(z)&&zh(P,I,z),null!=w&&Js(I,z,b)}function Xp(i){return function gi(i,s){return i[s]}(function $a(){return bt.lFrame.contextLView}(),20+i)}function Ac(i,s=ht.Default){const a=xe();return null===a?A(i,s):br(mn(),a,ae(i),s)}function og(){throw new Error("invalid")}function ag(i,s,a){const d=xe();return ti(d,zs(),s)&&function hs(i,s,a,d,h,g,w,b){const I=xr(s,a);let O,P=s.inputs;!b&&null!=P&&(O=P[d])?(Gp(i,a,O,d,h),Yi(s)&&function Ew(i,s){const a=Rr(s,i);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(d=function ww(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(d),h=null!=w?w(h,s.value||"",d):h,Sn(g)?g.setProperty(I,d,h):qa(d)||(I.setProperty?I.setProperty(d,h):I[d]=h))}(Gt(),Un(),d,i,s,d[11],a,!1),ag}function $_(i,s,a,d,h){const w=h?"class":"style";Gp(i,a,s.inputs[w],w,d)}function lf(i,s,a,d){const h=xe(),g=Gt(),w=20+i,b=h[11],I=h[w]=Ip(b,s,function fo(){return bt.lFrame.currentNamespace}()),P=g.firstCreatePass?function uf(i,s,a,d,h,g,w){const b=s.consts,P=bd(s,i,2,h,Ni(b,g));return g_(s,a,P,Ni(b,w)),null!==P.attrs&&qp(P,P.attrs,!1),null!==P.mergedAttrs&&qp(P,P.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,P),P}(w,g,h,0,s,a,d):g.data[w];ki(P,!0);const O=P.mergedAttrs;null!==O&&_o(b,I,O);const z=P.classes;null!==z&&vd(b,I,z);const G=P.styles;return null!==G&&e_(b,I,G),64!=(64&P.flags)&&Jm(g,h,I,P),0===function Su(){return bt.lFrame.elementDepthCount}()&&cr(I,h),function Ho(){bt.lFrame.elementDepthCount++}(),Ji(P)&&(zh(g,h,P),mw(g,P,h)),null!==d&&Js(h,P),lf}function cf(){let i=mn();js()?fa():(i=i.parent,ki(i,!1));const s=i;!function za(){bt.lFrame.elementDepthCount--}();const a=Gt();return a.firstCreatePass&&(Jo(a,i),Pi(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function Yl(i){return 0!=(16&i.flags)}(s)&&$_(a,s,xe(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function ol(i){return 0!=(32&i.flags)}(s)&&$_(a,s,xe(),s.stylesWithoutHost,!1),cf}function ug(i,s,a,d){return lf(i,s,a,d),cf(),ug}function q_(i,s,a){const d=xe(),h=Gt(),g=i+20,w=h.firstCreatePass?function BC(i,s,a,d,h){const g=s.consts,w=Ni(g,d),b=bd(s,i,8,"ng-container",w);return null!==w&&qp(b,w,!0),g_(s,a,b,Ni(g,h)),null!==s.queries&&s.queries.elementStart(s,b),b}(g,h,d,s,a):h.data[g];ki(w,!0);const b=d[g]=d[11].createComment("");return Jm(h,d,b,w),cr(b,d),Ji(w)&&(zh(h,d,w),mw(h,w,d)),null!=a&&Js(d,w),q_}function xl(){let i=mn();const s=Gt();return js()?fa():(i=i.parent,ki(i,!1)),s.firstCreatePass&&(Jo(s,i),Pi(i)&&s.queries.elementEnd(i)),xl}function W_(i,s,a){return q_(i,s,a),xl(),W_}function d0(){return xe()}function $u(i){return!!i&&"function"==typeof i.then}function K_(i){return!!i&&"function"==typeof i.subscribe}const df=K_;function lg(i,s,a,d){const h=xe(),g=Gt(),w=mn();return function fs(i,s,a,d,h,g,w,b){const I=Ji(d),O=i.firstCreatePass&&Ow(i),z=s[8],G=Pw(s);let se=!0;if(3&d.type||b){const Qe=xr(d,s),ut=b?b(Qe):Qe,Me=G.length,At=b?ln=>b(En(ln[d.index])):d.index;if(Sn(a)){let ln=null;if(!b&&I&&(ln=function h0(i,s,a,d){const h=i.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const w=h[g];if(w===a&&h[g+1]===d){const b=s[7],I=h[g+2];return b.length>I?b[I]:null}"string"==typeof w&&(g+=2)}return null}(i,s,h,d.index)),null!==ln)(ln.__ngLastListenerFn__||ln).__ngNextListenerFn__=g,ln.__ngLastListenerFn__=g,se=!1;else{g=Sc(d,s,z,g,!1);const In=a.listen(ut,h,g);G.push(g,In),O&&O.push(h,At,Me,Me+1)}}else g=Sc(d,s,z,g,!0),ut.addEventListener(h,g,w),G.push(g),O&&O.push(h,At,Me,w)}else g=Sc(d,s,z,g,!1);const De=d.outputs;let $e;if(se&&null!==De&&($e=De[h])){const Qe=$e.length;if(Qe)for(let ut=0;ut<Qe;ut+=2){const $i=s[$e[ut]][$e[ut+1]].subscribe(g),bu=G.length;G.push(g,$i),O&&O.push(h,d.index,bu,-(bu+1))}}}(g,h,h[11],w,i,s,!!a,d),lg}function Y_(i,s,a,d){try{return!1!==a(d)}catch(h){return Nw(i,h),!1}}function Sc(i,s,a,d,h){return function g(w){if(w===Function)return d;const b=2&i.flags?Rr(i.index,s):s;0==(32&s[2])&&__(b);let I=Y_(s,0,d,w),P=g.__ngNextListenerFn__;for(;P;)I=Y_(s,0,P,w)&&I,P=P.__ngNextListenerFn__;return h&&!1===I&&(w.preventDefault(),w.returnValue=!1),I}}function hf(i=1){return function Fi(i){return(bt.lFrame.contextLView=function Pu(i,s){for(;i>0;)s=s[15],i--;return s}(i,bt.lFrame.contextLView))[8]}(i)}function f0(i,s){let a=null;const d=function Nh(i){const s=i.attrs;if(null!=s){const a=s.indexOf(5);if(0==(1&a))return s[a+1]}return null}(i);for(let h=0;h<s.length;h++){const g=s[h];if("*"!==g){if(null===d?Oh(i,g,!0):Wb(d,g))return h}else a=h}return a}function cg(i){const s=xe()[16][6];if(!s.projection){const d=s.projection=Ui(i?i.length:1,null),h=d.slice();let g=s.child;for(;null!==g;){const w=i?f0(g,i):0;null!==w&&(h[w]?h[w].projectionNext=g:d[w]=g,h[w]=g),g=g.next}}}function J_(i,s=0,a){const d=xe(),h=Gt(),g=bd(h,20+i,16,null,a||null);null===g.projection&&(g.projection=s),fa(),64!=(64&g.flags)&&function Hb(i,s,a){Xm(s[11],0,s,a,Gm(i,a,s),Yv(a.parent||s[6],a,s))}(h,d,g)}function ny(i,s,a,d,h){const g=i[a+1],w=null===s;let b=d?xa(g):cu(g),I=!1;for(;0!==b&&(!1===I||w);){const O=i[b+1];m0(i[b],s)&&(I=!0,i[b+1]=d?Ma(O):t_(O)),b=d?xa(O):cu(O)}I&&(i[a+1]=d?t_(g):Ma(g))}function m0(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&bo(i,s)>=0}function kd(i,s){return function eo(i,s,a,d){const h=xe(),g=Gt(),w=function ei(i){const s=bt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}(2);g.firstUpdatePass&&function Ld(i,s,a,d){const h=i.data;if(null===h[a+1]){const g=h[kr()],w=function b0(i,s){return s>=i.expandoStartIndex}(i,a);(function T0(i,s){return 0!=(i.flags&(s?16:32))})(g,d)&&null===s&&!w&&(s=!1),s=function pf(i,s,a,d){const h=function Ds(i){const s=bt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let g=d?s.residualClasses:s.residualStyles;if(null===h)0===(d?s.classBindings:s.styleBindings)&&(a=gf(a=iy(null,i,s,a,d),s.attrs,d),g=null);else{const w=s.directiveStylingLast;if(-1===w||i[w]!==h)if(a=iy(h,i,s,a,d),null===g){let I=function jC(i,s,a){const d=a?s.classBindings:s.styleBindings;if(0!==cu(d))return i[xa(d)]}(i,s,d);void 0!==I&&Array.isArray(I)&&(I=iy(null,i,s,I[1],d),I=gf(I,s.attrs,d),function C0(i,s,a,d){i[xa(a?s.classBindings:s.styleBindings)]=d}(i,s,d,I))}else g=function zC(i,s,a){let d;const h=s.directiveEnd;for(let g=1+s.directiveStylingLast;g<h;g++)d=gf(d,i[g].hostAttrs,a);return gf(d,s.attrs,a)}(i,s,d)}return void 0!==g&&(d?s.residualClasses=g:s.residualStyles=g),a}(h,g,s,d),function ty(i,s,a,d,h,g){let w=g?s.classBindings:s.styleBindings,b=xa(w),I=cu(w);i[d]=a;let O,P=!1;if(Array.isArray(a)){const z=a;O=z[1],(null===O||bo(z,O)>0)&&(P=!0)}else O=a;if(h)if(0!==I){const G=xa(i[b+1]);i[d+1]=Rp(G,b),0!==G&&(i[G+1]=kh(i[G+1],d)),i[b+1]=function Kb(i,s){return 131071&i|s<<17}(i[b+1],d)}else i[d+1]=Rp(b,0),0!==b&&(i[b+1]=kh(i[b+1],d)),b=d;else i[d+1]=Rp(I,0),0===b?b=d:i[I+1]=kh(i[I+1],d),I=d;P&&(i[d+1]=t_(i[d+1])),ny(i,O,d,!0),ny(i,O,d,!1),function g0(i,s,a,d,h){const g=h?i.residualClasses:i.residualStyles;null!=g&&"string"==typeof s&&bo(g,s)>=0&&(a[d+1]=Ma(a[d+1]))}(s,O,i,d,g),w=Rp(b,I),g?s.classBindings=w:s.styleBindings=w}(h,g,s,a,w,d)}}(g,i,w,d),s!==Kt&&ti(h,w,s)&&function sy(i,s,a,d,h,g,w,b){if(!(3&s.type))return;const I=i.data,P=I[b+1];mf(function kp(i){return 1==(1&i)}(P)?oy(I,s,a,h,cu(P),w):void 0)||(mf(g)||function sw(i){return 2==(2&i)}(P)&&(g=oy(I,null,a,h,b,w)),function Qv(i,s,a,d,h){const g=Sn(i);if(s)h?g?i.addClass(a,d):a.classList.add(d):g?i.removeClass(a,d):a.classList.remove(d);else{let w=-1===d.indexOf("-")?void 0:Da.DashCase;if(null==h)g?i.removeStyle(a,d,w):a.style.removeProperty(d);else{const b="string"==typeof h&&h.endsWith("!important");b&&(h=h.slice(0,-10),w|=Da.Important),g?i.setStyle(a,d,h,w):a.style.setProperty(d,h,b?"important":"")}}}(d,w,bs(kr(),a),h,g))}(g,g.data[kr()],h,h[11],i,h[w+1]=function Vd(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=Se(Ea(i)))),i}(s,a),d,w)}(i,s,null,!0),kd}function iy(i,s,a,d,h){let g=null;const w=a.directiveEnd;let b=a.directiveStylingLast;for(-1===b?b=a.directiveStart:b++;b<w&&(g=s[b],d=gf(d,g.hostAttrs,h),g!==i);)b++;return null!==i&&(a.directiveStylingLast=b),d}function gf(i,s,a){const d=a?1:2;let h=-1;if(null!==s)for(let g=0;g<s.length;g++){const w=s[g];"number"==typeof w?h=w:h===d&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Ei(i,w,!!a||s[++g]))}return void 0===i?null:i}function oy(i,s,a,d,h,g){const w=null===s;let b;for(;h>0;){const I=i[h],P=Array.isArray(I),O=P?I[1]:I,z=null===O;let G=a[h+1];G===Kt&&(G=z?Dt:void 0);let se=z?cl(G,d):O===d?G:void 0;if(P&&!mf(se)&&(se=cl(I,d)),mf(se)&&(b=se,w))return b;const De=i[h+1];h=w?xa(De):cu(De)}if(null!==s){let I=g?s.residualClasses:s.residualStyles;null!=I&&(b=cl(I,d))}return b}function mf(i){return void 0!==i}function D0(i,s=""){const a=xe(),d=Gt(),h=i+20,g=d.firstCreatePass?bd(d,h,1,s,null):d.data[h],w=a[h]=function Ia(i,s){return Sn(i)?i.createText(s):i.createTextNode(s)}(a[11],s);Jm(d,a,w,g),ki(g,!1)}function yg(i){return vg("",i,""),yg}function vg(i,s,a){const d=xe(),h=function bc(i,s,a,d){return ti(i,zs(),a)?s+_e(a)+d:Kt}(d,i,s,a);return h!==Kt&&Zu(d,kr(),h),vg}const Nl=void 0;var Ag=["en",[["a","p"],["AM","PM"],Nl],[["AM","PM"],Nl,Nl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Nl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Nl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Nl,"{1} 'at' {0}",Nl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function my(i){const a=Math.floor(Math.abs(i)),d=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===d?1:5}];let Bd={};function Pc(i){const s=function xg(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=Sg(s);if(a)return a;const d=s.split("-")[0];if(a=Sg(d),a)return a;if("en"===d)return Ag;throw new Error(`Missing locale data for the locale "${i}".`)}function _y(i){return Pc(i)[Mt.PluralCase]}function Sg(i){return i in Bd||(Bd[i]=Jt.ng&&Jt.ng.common&&Jt.ng.common.locales&&Jt.ng.common.locales[i]),Bd[i]}var Mt=(()=>((Mt=Mt||{})[Mt.LocaleId=0]="LocaleId",Mt[Mt.DayPeriodsFormat=1]="DayPeriodsFormat",Mt[Mt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Mt[Mt.DaysFormat=3]="DaysFormat",Mt[Mt.DaysStandalone=4]="DaysStandalone",Mt[Mt.MonthsFormat=5]="MonthsFormat",Mt[Mt.MonthsStandalone=6]="MonthsStandalone",Mt[Mt.Eras=7]="Eras",Mt[Mt.FirstDayOfWeek=8]="FirstDayOfWeek",Mt[Mt.WeekendRange=9]="WeekendRange",Mt[Mt.DateFormat=10]="DateFormat",Mt[Mt.TimeFormat=11]="TimeFormat",Mt[Mt.DateTimeFormat=12]="DateTimeFormat",Mt[Mt.NumberSymbols=13]="NumberSymbols",Mt[Mt.NumberFormats=14]="NumberFormats",Mt[Mt.CurrencyCode=15]="CurrencyCode",Mt[Mt.CurrencySymbol=16]="CurrencySymbol",Mt[Mt.CurrencyName=17]="CurrencyName",Mt[Mt.Currencies=18]="Currencies",Mt[Mt.Directionality=19]="Directionality",Mt[Mt.PluralCase=20]="PluralCase",Mt[Mt.ExtraData=21]="ExtraData",Mt))();const _u="en-US";let to=_u;function Ng(i,s,a,d,h){if(i=ae(i),Array.isArray(i))for(let g=0;g<i.length;g++)Ng(i[g],s,a,d,h);else{const g=Gt(),w=xe();let b=mc(i)?i:ae(i.provide),I=Uw(i);const P=mn(),O=1048575&P.providerIndexes,z=P.directiveStart,G=P.providerIndexes>>20;if(mc(i)||!i.multi){const se=new Ga(I,h,Ac),De=Rg(b,s,h?O:O+G,z);-1===De?(Je($(P,w),g,b),$d(g,i,s.length),s.push(b),P.directiveStart++,P.directiveEnd++,h&&(P.providerIndexes+=1048576),a.push(se),w.push(se)):(a[De]=se,w[De]=se)}else{const se=Rg(b,s,O+G,z),De=Rg(b,s,O,O+G),$e=se>=0&&a[se],Qe=De>=0&&a[De];if(h&&!Qe||!h&&!$e){Je($(P,w),g,b);const ut=function K0(i,s,a,d,h){const g=new Ga(i,a,Ac);return g.multi=[],g.index=s,g.componentProviders=0,Gd(g,h,d&&!a),g}(h?aT:oT,a.length,h,d,I);!h&&Qe&&(a[De].providerFactory=ut),$d(g,i,s.length,0),s.push(b),P.directiveStart++,P.directiveEnd++,h&&(P.providerIndexes+=1048576),a.push(ut),w.push(ut)}else $d(g,i,se>-1?se:De,Gd(a[h?De:se],I,!h&&d));!h&&d&&Qe&&a[De].componentProviders++}}}function $d(i,s,a,d){const h=mc(s),g=function I_(i){return!!i.useClass}(s);if(h||g){const I=(g?ae(s.useClass):s).prototype.ngOnDestroy;if(I){const P=i.destroyHooks||(i.destroyHooks=[]);if(!h&&s.multi){const O=P.indexOf(a);-1===O?P.push(a,[d,I]):P[O+1].push(d,I)}else P.push(a,I)}}}function Gd(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function Rg(i,s,a,d){for(let h=a;h<d;h++)if(s[h]===i)return h;return-1}function oT(i,s,a,d){return kg(this.multi,[])}function aT(i,s,a,d){const h=this.multi;let g;if(this.providerFactory){const w=this.providerFactory.componentProviders,b=Ka(a,a[1],this.providerFactory.index,d);g=b.slice(0,w),kg(h,g);for(let I=w;I<b.length;I++)g.push(b[I])}else g=[],kg(h,g);return g}function kg(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function Hi(i,s=[]){return a=>{a.providersResolver=(d,h)=>function W0(i,s,a){const d=Gt();if(d.firstCreatePass){const h=Jr(i);Ng(a,d.data,d.blueprint,h,!0),Ng(s,d.data,d.blueprint,h,!1)}}(d,h?h(i):i,s)}}class er{}class Vg{resolveComponentFactory(s){throw function Lg(i){const s=Error(`No component factory found for ${Se(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let Ul=(()=>{class i{}return i.NULL=new Vg,i})();function J0(){return Wd(mn(),xe())}function Wd(i,s){return new xo(xr(i,s))}let xo=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=J0,i})();function uT(i){return i instanceof xo?i.nativeElement:i}class Ay{}let Lc=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function Mf(){const i=xe(),a=Rr(mn().index,i);return function lT(i){return i[11]}(Yn(a)?a:i)}(),i})(),Ug=(()=>{class i{}return i.\u0275prov=nn({token:i,providedIn:"root",factory:()=>null}),i})();class Pf{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Sy=new Pf("13.3.3"),Bg={};function Mo(i,s,a,d,h=!1){for(;null!==a;){const g=s[a.index];if(null!==g&&d.push(En(g)),gn(g))for(let b=10;b<g.length;b++){const I=g[b],P=I[1].firstChild;null!==P&&Mo(I[1],I,P,d)}const w=a.type;if(8&w)Mo(i,s,a.child,d);else if(32&w){const b=lu(a,s);let I;for(;I=b();)d.push(I)}else if(16&w){const b=Sa(s,a);if(Array.isArray(b))d.push(...b);else{const I=lc(s[16]);Mo(I[1],I,b,d,!0)}}a=h?a.projectionNext:a.next}return d}class Of{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return Mo(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(gn(s)){const a=s[8],d=a?a.indexOf(this):-1;d>-1&&(Ap(s,d),va(a,d))}this._attachedToViewContainer=!1}Kv(this._lView[1],this._lView)}onDestroy(s){yw(this._lView[1],this._lView,null,s)}markForCheck(){__(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Sw(this._lView[1],this._lView,this.context)}checkNoChanges(){!function xw(i,s,a){Zo(!0);try{Sw(i,s,a)}finally{Zo(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new je(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Lb(i,s){yd(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new je(902,"");this._appRef=s}}class cT extends Of{constructor(s){super(s),this._view=s}detectChanges(){y_(this._view)}checkNoChanges(){!function Mw(i){Zo(!0);try{y_(i)}finally{Zo(!1)}}(this._view)}get context(){return null}}class Q0 extends Ul{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Ht(s);return new My(a,this.ngModule)}}function xy(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class My extends er{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function tw(i){return i.map(Np).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return xy(this.componentDef.inputs)}get outputs(){return xy(this.componentDef.outputs)}create(s,a,d,h){const g=(h=h||this.ngModule)?function hT(i,s){return{get:(a,d,h)=>{const g=i.get(a,Bg,h);return g!==Bg||d===Bg?g:s.get(a,d,h)}}}(s,h.injector):s,w=g.get(Ay,Vs),b=g.get(Ug,null),I=w.createRenderer(null,this.componentDef),P=this.componentDef.selectors[0][0]||"div",O=d?function _w(i,s,a){if(Sn(i))return i.selectRootElement(s,a===qt.ShadowDom);let d="string"==typeof s?i.querySelector(s):s;return d.textContent="",d}(I,d,this.componentDef.encapsulation):Ip(w.createRenderer(null,this.componentDef),P,function dT(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(P)),z=this.componentDef.onPush?576:528,G=function dt(i,s){return{components:[],scheduler:i||Zv,clean:yC,playerHandler:s||null,flags:0}}(),se=Hh(0,null,null,1,0,null,null,null,null,null),De=Hu(null,se,G,z,null,null,w,I,b,g);let $e,Qe;Hs(De);try{const ut=function Ww(i,s,a,d,h,g){const w=a[1];a[20]=i;const I=bd(w,20,2,"#host",null),P=I.mergedAttrs=s.hostAttrs;null!==P&&(qp(I,P,!0),null!==i&&(_o(h,i,P),null!==I.classes&&vd(h,i,I.classes),null!==I.styles&&e_(h,i,I.styles)));const O=d.createRenderer(i,s),z=Hu(a,p_(s),null,s.onPush?64:16,a[20],I,d,O,g||null,null);return w.firstCreatePass&&(Je($(I,a),w,s.type),qh(w,I),Dw(I,a.length,1)),Hp(a,z),a[20]=z}(O,this.componentDef,De,w,I);if(O)if(d)_o(I,O,["ng-version",Sy.full]);else{const{attrs:Me,classes:At}=function nw(i){const s=[],a=[];let d=1,h=2;for(;d<i.length;){let g=i[d];if("string"==typeof g)2===h?""!==g&&s.push(g,i[++d]):8===h&&a.push(g);else{if(!sa(h))break;h=g}d++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);Me&&_o(I,O,Me),At&&At.length>0&&vd(I,O,At.join(" "))}if(Qe=zo(se,20),void 0!==a){const Me=Qe.projection=[];for(let At=0;At<this.ngContentSelectors.length;At++){const ln=a[At];Me.push(null!=ln?Array.from(ln):null)}}$e=function pu(i,s,a,d,h){const g=a[1],w=function oC(i,s,a){const d=mn();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),Iw(i,d,s,pc(i,s,1,null),a));const h=Ka(s,i,d.directiveStart,d);cr(h,s);const g=xr(d,s);return g&&cr(g,s),h}(g,a,s);if(d.components.push(w),i[8]=w,h&&h.forEach(I=>I(w,s)),s.contentQueries){const I=mn();s.contentQueries(1,w,I.directiveStart)}const b=mn();return!g.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Zs(b.index),Bp(a[1],b,0,b.directiveStart,b.directiveEnd,s),Tw(s,w)),w}(ut,this.componentDef,De,G,[P_]),jh(se,De,null)}finally{ho()}return new Kd(this.componentType,$e,Wd(Qe,De),De,Qe)}}class Kd extends class Y0{}{constructor(s,a,d,h,g){super(),this.location=d,this._rootLView=h,this._tNode=g,this.instance=a,this.hostView=this.changeDetectorRef=new cT(h),this.componentType=s}get injector(){return new os(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}class Vc{}class Py{}const ro=new Map;class Hg extends Vc{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Q0(this);const d=vn(s);this._bootstrapComponents=au(d.bootstrap),this._r3Injector=Fw(s,a,[{provide:Vc,useValue:this},{provide:Ul,useValue:this.componentFactoryResolver}],Se(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=fu.THROW_IF_NOT_FOUND,d=ht.Default){return s===fu||s===Vc||s===E_?this:this._r3Injector.get(s,a,d)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Bl extends Py{constructor(s){super(),this.moduleType=s,null!==vn(s)&&function jg(i){const s=new Set;!function a(d){const h=vn(d,!0),g=h.id;null!==g&&(function Uc(i,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${i} - ${Se(s)} vs ${Se(s.name)}`)}(g,ro.get(g),d),ro.set(g,d));const w=au(h.imports);for(const b of w)s.has(b)||(s.add(b),a(b))}(i)}(s)}create(s){return new Hg(this.moduleType,s)}}function Fy(i){return s=>{setTimeout(i,void 0,s)}}const vu=class Rf extends l.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,d){var h,g,w;let b=s,I=a||(()=>null),P=d;if(s&&"object"==typeof s){const z=s;b=null===(h=z.next)||void 0===h?void 0:h.bind(z),I=null===(g=z.error)||void 0===g?void 0:g.bind(z),P=null===(w=z.complete)||void 0===w?void 0:w.bind(z)}this.__isAsync&&(I=Fy(I),b&&(b=Fy(b)),P&&(P=Fy(P)));const O=super.subscribe({next:b,error:I,complete:P});return s instanceof H.w0&&s.add(O),O}};function Kr(){return this._results[Ao()]()}class eh{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Ao(),d=eh.prototype;d[a]||(d[a]=Kr)}get changes(){return this._changes||(this._changes=new vu)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const d=this;d.dirty=!1;const h=wi(s);(this._changesDetected=!function vo(i,s,a){if(i.length!==s.length)return!1;for(let d=0;d<i.length;d++){let h=i[d],g=s[d];if(a&&(h=a(h),g=a(g)),g!==h)return!1}return!0}(d._results,h,a))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Zg=(()=>{class i{}return i.__NG_ELEMENT_ID__=vT,i})();const yT=Zg,Vy=class extends yT{constructor(s,a,d){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=d}createEmbeddedView(s){const a=this._declarationTContainer.tViews,d=Hu(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(d[19]=g.createEmbeddedView(a)),jh(a,d,s),new Of(d)}};function vT(){return kf(mn(),xe())}function kf(i,s){return 4&i.type?new Vy(s,i,Wd(i,s)):null}let Lf=(()=>{class i{}return i.__NG_ELEMENT_ID__=Ff,i})();function Ff(){return th(mn(),xe())}const zc=Lf,Uy=class extends zc{constructor(s,a,d){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=d}get element(){return Wd(this._hostTNode,this._hostLView)}get injector(){return new os(this._hostTNode,this._hostLView)}get parentInjector(){const s=Te(this._hostTNode,this._hostLView);if(Zn(s)){const a=Xn(s,this._hostLView),d=yi(s);return new os(a[1].data[d+8],a)}return new os(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=By(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,d){const h=s.createEmbeddedView(a||{});return this.insert(h,d),h}createComponent(s,a,d,h,g){const w=s&&!function us(i){return"function"==typeof i}(s);let b;if(w)b=a;else{const z=a||{};b=z.index,d=z.injector,h=z.projectableNodes,g=z.ngModuleRef}const I=w?s:new My(Ht(s)),P=d||this.parentInjector;if(!g&&null==I.ngModule){const G=(w?P:this.parentInjector).get(Vc,null);G&&(g=G)}const O=I.create(P,h,void 0,g);return this.insert(O.hostView,b),O}insert(s,a){const d=s._lView,h=d[1];if(function mi(i){return gn(i[3])}(d)){const O=this.indexOf(s);if(-1!==O)this.detach(O);else{const z=d[3],G=new Uy(z,z[6],z[3]);G.detach(G.indexOf(s))}}const g=this._adjustIndex(a),w=this._lContainer;!function Vb(i,s,a,d){const h=10+d,g=a.length;d>0&&(a[h-1][4]=s),d<g-10?(s[4]=a[h],Eo(a,10+d,s)):(a.push(s),s[4]=null),s[3]=a;const w=s[17];null!==w&&a!==w&&function Ub(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(w,s);const b=s[19];null!==b&&b.insertView(i),s[2]|=128}(h,d,w,g);const b=Qm(g,w),I=d[11],P=Sp(I,w[7]);return null!==P&&function kb(i,s,a,d,h,g){d[0]=h,d[6]=s,yd(i,d,a,1,h,g)}(h,w[6],I,d,P,b),s.attachToViewContainerRef(),Eo($g(w),g,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=By(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),d=Ap(this._lContainer,a);d&&(va($g(this._lContainer),a),Kv(d[1],d))}detach(s){const a=this._adjustIndex(s,-1),d=Ap(this._lContainer,a);return d&&null!=va($g(this._lContainer),a)?new Of(d):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function By(i){return i[8]}function $g(i){return i[8]||(i[8]=[])}function th(i,s){let a;const d=s[i.index];if(gn(d))a=d;else{let h;if(8&i.type)h=En(d);else{const g=s[11];h=g.createComment("");const w=xr(i,s);cc(g,Sp(g,w),h,function zb(i,s){return Sn(i)?i.nextSibling(s):s.nextSibling}(g,w),!1)}s[i.index]=a=Aw(d,s,h,i),Hp(s,a)}return new Uy(a,i,s)}class _n{constructor(s){this.queryList=s,this.matches=null}clone(){return new _n(this.queryList)}setDirty(){this.queryList.setDirty()}}class Gg{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const d=null!==s.contentQueries?s.contentQueries[0]:a.length,h=[];for(let g=0;g<d;g++){const w=a.getByIndex(g);h.push(this.queries[w.indexInDeclarationView].clone())}return new Gg(h)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==Vf(s,a).matches&&this.queries[a].setDirty()}}class zy{constructor(s,a,d=null){this.predicate=s,this.flags=a,this.read=d}}class wu{constructor(s=[]){this.queries=s}elementStart(s,a){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let d=0;d<this.length;d++){const h=null!==a?a.length:0,g=this.getByIndex(d).embeddedTView(s,h);g&&(g.indexInDeclarationView=d,null!==a?a.push(g):a=[g])}return null!==a?new wu(a):null}template(s,a){for(let d=0;d<this.queries.length;d++)this.queries[d].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Dr{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new Dr(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let d=s.parent;for(;null!==d&&8&d.type&&d.index!==a;)d=d.parent;return a===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const g=d[h];this.matchTNodeWithReadOption(s,a,qg(a,g)),this.matchTNodeWithReadOption(s,a,ma(a,s,g,!1,!1))}else d===Zg?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,ma(a,s,d,!1,!1))}matchTNodeWithReadOption(s,a,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===xo||h===Lf||h===Zg&&4&a.type)this.addMatch(a.index,-2);else{const g=ma(a,s,h,!1,!1);null!==g&&this.addMatch(a.index,g)}else this.addMatch(a.index,d)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function qg(i,s){const a=i.localNames;if(null!==a)for(let d=0;d<a.length;d+=2)if(a[d]===s)return a[d+1];return null}function dr(i,s,a,d){return-1===a?function Zi(i,s){return 11&i.type?Wd(i,s):4&i.type?kf(i,s):null}(s,i):-2===a?function cE(i,s,a){return a===xo?Wd(s,i):a===Zg?kf(s,i):a===Lf?th(s,i):void 0}(i,s,d):Ka(i,i[1],a,s)}function Hc(i,s,a,d){const h=s[19].queries[d];if(null===h.matches){const g=i.data,w=a.matches,b=[];for(let I=0;I<w.length;I+=2){const P=w[I];b.push(P<0?null:dr(s,g[P],w[I+1],a.metadata.read))}h.matches=b}return h.matches}function Hy(i,s,a,d){const h=i.queries.getByIndex(a),g=h.matches;if(null!==g){const w=Hc(i,s,h,a);for(let b=0;b<g.length;b+=2){const I=g[b];if(I>0)d.push(w[b/2]);else{const P=g[b+1],O=s[-I];for(let z=10;z<O.length;z++){const G=O[z];G[17]===G[3]&&Hy(G[1],G,P,d)}if(null!==O[9]){const z=O[9];for(let G=0;G<z.length;G++){const se=z[G];Hy(se[1],se,P,d)}}}}}return d}function Po(i){const s=xe(),a=Gt(),d=il();ga(d+1);const h=Vf(a,d);if(i.dirty&&ts(s)===(2==(2&h.metadata.flags))){if(null===h.matches)i.reset([]);else{const g=h.crossesNgTemplate?Hy(a,s,d,[]):Hc(a,s,h,d);i.reset(g,uT),i.notifyOnChanges()}return!0}return!1}function dE(i,s,a){const d=Gt();d.firstCreatePass&&(kn(d,new zy(i,s,a),-1),2==(2&s)&&(d.staticViewQueries=!0)),hE(d,xe(),s)}function Wg(i,s,a,d){const h=Gt();if(h.firstCreatePass){const g=mn();kn(h,new zy(s,a,d),g.index),function bT(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(h,i),2==(2&a)&&(h.staticContentQueries=!0)}hE(h,xe(),a)}function nh(){return function ET(i,s){return i[19].queries[s].queryList}(xe(),il())}function hE(i,s,a){const d=new eh(4==(4&a));yw(i,s,d,d.destroy),null===s[19]&&(s[19]=new Gg),s[19].queries.push(new _n(d))}function kn(i,s,a){null===i.queries&&(i.queries=new wu),i.queries.track(new Dr(s,a))}function Vf(i,s){return i.queries.getByIndex(s)}function rh(i,s){return kf(i,s)}function em(...i){}const SE=new ar("Application Initializer");let Xy=(()=>{class i{constructor(a){this.appInits=a,this.resolve=em,this.reject=em,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if($u(g))a.push(g);else if(df(g)){const w=new Promise((b,I)=>{g.subscribe({complete:b,error:I})});a.push(w)}}Promise.all(a).then(()=>{d()}).catch(h=>{this.reject(h)}),0===a.length&&d(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(A(SE,8))},i.\u0275prov=nn({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const xE=new ar("AppId",{providedIn:"root",factory:function ME(){return`${ev()}${ev()}${ev()}`}});function ev(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const PE=new ar("Platform Initializer"),xT=new ar("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),OE=new ar("appBootstrapListener");let PT=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=nn({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const tv=new ar("LocaleId",{providedIn:"root",factory:()=>N(tv,ht.Optional|ht.SkipSelf)||function NE(){return"undefined"!=typeof $localize&&$localize.locale||_u}()}),RE=new ar("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Ra{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let OT=(()=>{class i{compileModuleSync(a){return new Bl(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const d=this.compileModuleSync(a),g=au(vn(a).declarations).reduce((w,b)=>{const I=Ht(b);return I&&w.push(new My(I)),w},[]);return new Ra(d,g)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=nn({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const NT=(()=>Promise.resolve(0))();function Yu(i){"undefined"==typeof Zone?NT.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Oo{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new vu(!1),this.onMicrotaskEmpty=new vu(!1),this.onStable=new vu(!1),this.onError=new vu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&a,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function kE(){let i=Jt.requestAnimationFrame,s=Jt.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const d=s[Zone.__symbol__("OriginalDelegate")];d&&(s=d)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function iv(i){const s=()=>{!function rv(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Jt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Hf(i),i.isCheckStableRunning=!0,Yr(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Hf(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,d,h,g,w,b)=>{try{return Ju(i),a.invokeTask(h,g,w,b)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||i.shouldCoalesceRunChangeDetection)&&s(),sv(i)}},onInvoke:(a,d,h,g,w,b,I)=>{try{return Ju(i),a.invoke(h,g,w,b,I)}finally{i.shouldCoalesceRunChangeDetection&&s(),sv(i)}},onHasTask:(a,d,h,g)=>{a.hasTask(h,g),d===h&&("microTask"==g.change?(i._hasPendingMicrotasks=g.microTask,Hf(i),Yr(i)):"macroTask"==g.change&&(i.hasPendingMacrotasks=g.macroTask))},onHandleError:(a,d,h,g)=>(a.handleError(h,g),i.runOutsideAngular(()=>i.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Oo.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Oo.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,d){return this._inner.run(s,a,d)}runTask(s,a,d,h){const g=this._inner,w=g.scheduleEventTask("NgZoneEvent: "+h,s,LE,em,em);try{return g.runTask(w,a,d)}finally{g.cancelTask(w)}}runGuarded(s,a,d){return this._inner.runGuarded(s,a,d)}runOutsideAngular(s){return this._outer.run(s)}}const LE={};function Yr(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Hf(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Ju(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function sv(i){i._nesting--,Yr(i)}class RT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new vu,this.onMicrotaskEmpty=new vu,this.onStable=new vu,this.onError=new vu}run(s,a,d){return s.apply(a,d)}runGuarded(s,a,d){return s.apply(a,d)}runOutsideAngular(s){return s()}runTask(s,a,d,h){return s.apply(a,d)}}let ov=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Oo.assertNotInAngularZone(),Yu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Yu(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(a)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,d,h){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==g),a(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:a,timeoutId:g,updateCb:h})}whenStable(a,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,d,h){return[]}}return i.\u0275fac=function(a){return new(a||i)(A(Oo))},i.\u0275prov=nn({token:i,factory:i.\u0275fac}),i})(),tm=(()=>{class i{constructor(){this._applications=new Map,zl.addToWindow(this)}registerApplication(a,d){this._applications.set(a,d)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,d=!0){return zl.findTestabilityInTree(this,a,d)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=nn({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();class $c{addToWindow(s){}findTestabilityInTree(s,a,d){return null}}function Gc(i){zl=i}let Ps,zl=new $c;const uv=new ar("AllowMultipleToken");class kT{constructor(s,a){this.name=s,this.token=a}}function lv(i,s,a=[]){const d=`Platform: ${s}`,h=new ar(d);return(g=[])=>{let w=Hl();if(!w||w.injector.get(uv,!1))if(i)i(a.concat(g).concat({provide:h,useValue:!0}));else{const b=a.concat(g).concat({provide:h,useValue:!0},{provide:b_,useValue:"platform"});!function UE(i){if(Ps&&!Ps.destroyed&&!Ps.injector.get(uv,!1))throw new je(400,"");Ps=i.get(LT);const s=i.get(PE,null);s&&s.forEach(a=>a())}(fu.create({providers:b,name:d}))}return function cv(i){const s=Hl();if(!s)throw new je(401,"");return s}()}}function Hl(){return Ps&&!Ps.destroyed?Ps:null}let LT=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,d){const b=function BE(i,s){let a;return a="noop"===i?new RT:("zone.js"===i?void 0:i)||new Oo({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),I=[{provide:Oo,useValue:b}];return b.run(()=>{const P=fu.create({providers:I,parent:this.injector,name:a.moduleType.name}),O=a.create(P),z=O.injector.get(Ep,null);if(!z)throw new je(402,"");return b.runOutsideAngular(()=>{const G=b.onError.subscribe({next:se=>{z.handleError(se)}});O.onDestroy(()=>{qc(this._modules,O),G.unsubscribe()})}),function FT(i,s,a){try{const d=a();return $u(d)?d.catch(h=>{throw s.runOutsideAngular(()=>i.handleError(h)),h}):d}catch(d){throw s.runOutsideAngular(()=>i.handleError(d)),d}}(z,b,()=>{const G=O.injector.get(Xy);return G.runInitializers(),G.donePromise.then(()=>(function L0(i){ot(i,"Expected localeId to be defined"),"string"==typeof i&&(to=i.toLowerCase().replace(/_/g,"-"))}(O.injector.get(tv,_u)||_u),this._moduleDoBootstrap(O),O))})})}bootstrapModule(a,d=[]){const h=jE({},d);return function FE(i,s,a){const d=new Bl(a);return Promise.resolve(d)}(0,0,a).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(a){const d=a.injector.get(dv);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new je(403,"");a.instance.ngDoBootstrap(d)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new je(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(A(fu))},i.\u0275prov=nn({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function jE(i,s){return Array.isArray(s)?s.reduce(jE,i):Object.assign(Object.assign({},i),s)}let dv=(()=>{class i{constructor(a,d,h,g){this._zone=a,this._injector=d,this._exceptionHandler=h,this._initStatus=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new Q.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),b=new Q.y(I=>{let P;this._zone.runOutsideAngular(()=>{P=this._zone.onStable.subscribe(()=>{Oo.assertNotInAngularZone(),Yu(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const O=this._zone.onUnstable.subscribe(()=>{Oo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{P.unsubscribe(),O.unsubscribe()}});this.isStable=(0,le.T)(w,b.pipe((0,fe.B)()))}bootstrap(a,d){if(!this._initStatus.done)throw new je(405,"");let h;h=a instanceof er?a:this._injector.get(Ul).resolveComponentFactory(a),this.componentTypes.push(h.componentType);const g=function av(i){return i.isBoundToModule}(h)?void 0:this._injector.get(Vc),b=h.create(fu.NULL,[],d||h.selector,g),I=b.location.nativeElement,P=b.injector.get(ov,null),O=P&&b.injector.get(tm);return P&&O&&O.registerApplication(I,P),b.onDestroy(()=>{this.detachView(b.hostView),qc(this.components,b),O&&O.unregisterApplication(I)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new je(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const d=a;this._views.push(d),d.attachToAppRef(this)}detachView(a){const d=a;qc(this._views,d),d.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(OE,[]).concat(this._bootstrapListeners).forEach(h=>h(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(A(Oo),A(fu),A(Ep),A(Xy))},i.\u0275prov=nn({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function qc(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}let hv=!0,zE=!1;function VT(){return zE=!0,hv}function fv(){if(zE)throw new Error("Cannot enable prod mode after platform setup.");hv=!1}let $f=(()=>{class i{}return i.__NG_ELEMENT_ID__=rm,i})();function rm(i){return function im(i,s,a){if(Yi(i)&&!a){const d=Rr(i.index,s);return new Of(d,d)}return 47&i.type?new Of(s[16],s):null}(mn(),xe(),16==(16&i))}class jT{constructor(){}supports(s){return nf(s)}create(s){return new HT(s)}}const zT=(i,s)=>s;class HT{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||zT}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,d=this._removalsHead,h=0,g=null;for(;a||d;){const w=!d||a&&a.currentIndex<_v(d,h,g)?a:d,b=_v(w,h,g),I=w.currentIndex;if(w===d)h--,d=d._nextRemoved;else if(a=a._next,null==w.previousIndex)h++;else{g||(g=[]);const P=b-h,O=I-h;if(P!=O){for(let G=0;G<P;G++){const se=G<g.length?g[G]:g[G]=0,De=se+G;O<=De&&De<P&&(g[G]=se+1)}g[w.previousIndex]=O-P}}b!==I&&s(w,b,I)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!nf(s))throw new je(900,"");return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let h,g,w,a=this._itHead,d=!1;if(Array.isArray(s)){this.length=s.length;for(let b=0;b<this.length;b++)g=s[b],w=this._trackByFn(b,g),null!==a&&Object.is(a.trackById,w)?(d&&(a=this._verifyReinsertion(a,g,w,b)),Object.is(a.item,g)||this._addIdentityChange(a,g)):(a=this._mismatch(a,g,w,b),d=!0),a=a._next}else h=0,function Yw(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Ao()]();let d;for(;!(d=a.next()).done;)s(d.value)}}(s,b=>{w=this._trackByFn(h,b),null!==a&&Object.is(a.trackById,w)?(d&&(a=this._verifyReinsertion(a,b,w,h)),Object.is(a.item,b)||this._addIdentityChange(a,b)):(a=this._mismatch(a,b,w,h),d=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,d,h){let g;return null===s?g=this._itTail:(g=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,g,h)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,g,h)):s=this._addAfter(new GE(a,d),g,h),s}_verifyReinsertion(s,a,d,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?s=this._reinsertAfter(g,s._prev,h):s.currentIndex!=h&&(s.currentIndex=h,this._addToMoves(s,h)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const h=s._prevRemoved,g=s._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(s,a,d),this._addToMoves(s,d),s}_moveAfter(s,a,d){return this._unlink(s),this._insertAfter(s,a,d),this._addToMoves(s,d),s}_addAfter(s,a,d){return this._insertAfter(s,a,d),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,d){const h=null===a?this._itHead:a._next;return s._next=h,s._prev=a,null===h?this._itTail=s:h._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new uh),this._linkedRecords.put(s),s.currentIndex=d,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,d=s._next;return null===a?this._itHead=d:a._next=d,null===d?this._itTail=a:d._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new uh),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class GE{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Qc{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===a||a<=d.currentIndex)&&Object.is(d.trackById,s))return d;return null}remove(s){const a=s._prevDup,d=s._nextDup;return null===a?this._head=d:a._nextDup=d,null===d?this._tail=a:d._prevDup=a,null===this._head}}class uh{constructor(){this.map=new Map}put(s){const a=s.trackById;let d=this.map.get(a);d||(d=new Qc,this.map.set(a,d)),d.add(s)}get(s,a){const h=this.map.get(s);return h?h.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function _v(i,s,a){const d=i.previousIndex;if(null===d)return d;let h=0;return a&&d<a.length&&(h=a[d]),d+s+h}class yv{constructor(){}supports(s){return s instanceof Map||R_(s)}create(){return new ZT}}class ZT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||R_(s)))throw new je(900,"")}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(d,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,d),this._appendAfter=a,a=a._next;else{const g=this._getOrCreateRecordForKey(h,d);a=this._insertBeforeOrAppend(a,g)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let d=a;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const d=s._prev;return a._next=s,a._prev=d,s._prev=a,d&&(d._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const h=this._records.get(s);this._maybeAddToChanges(h,a);const g=h._prev,w=h._next;return g&&(g._next=w),w&&(w._prev=g),h._next=null,h._prev=null,h}const d=new qE(s);return this._records.set(s,d),d.currentValue=a,this._addToAdditions(d),d}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(d=>a(s[d],d))}}class qE{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function um(){return new qf([new jT])}let qf=(()=>{class i{constructor(a){this.factories=a}static create(a,d){if(null!=d){const h=d.factories.slice();a=a.concat(h)}return new i(a)}static extend(a){return{provide:i,useFactory:d=>i.create(a,d||um()),deps:[[i,new xt,new Tt]]}}find(a){const d=this.factories.find(h=>h.supports(a));if(null!=d)return d;throw new je(901,"")}}return i.\u0275prov=nn({token:i,providedIn:"root",factory:um}),i})();function Wf(){return new Kf([new yv])}let Kf=(()=>{class i{constructor(a){this.factories=a}static create(a,d){if(d){const h=d.factories.slice();a=a.concat(h)}return new i(a)}static extend(a){return{provide:i,useFactory:d=>i.create(a,d||Wf()),deps:[[i,new xt,new Tt]]}}find(a){const d=this.factories.find(g=>g.supports(a));if(d)return d;throw new je(901,"")}}return i.\u0275prov=nn({token:i,providedIn:"root",factory:Wf}),i})();const WE=lv(null,"core",[]);let KE=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(A(dv))},i.\u0275mod=ue({type:i}),i.\u0275inj=fn({}),i})()},3394:(Ct,Le,k)=>{"use strict";k.d(Le,{Z:()=>je});var l=k(3854),H=k(3910),Q=k(8026),le=k(5422);class fe{constructor(_e,Ie){this._delegate=_e,this.firebase=Ie,(0,Q._addComponent)(_e,new H.wA("app-compat",()=>this,"PUBLIC")),this.container=_e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_e){this._delegate.automaticDataCollectionEnabled=_e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(_e=>{this._delegate.checkDestroyed(),_e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Q.deleteApp)(this._delegate)))}_getService(_e,Ie=Q._DEFAULT_ENTRY_NAME){var nt;this._delegate.checkDestroyed();const Ge=this._delegate.container.getProvider(_e);return!Ge.isInitialized()&&"EXPLICIT"===(null===(nt=Ge.getComponent())||void 0===nt?void 0:nt.instantiationMode)&&Ge.initialize(),Ge.getImmediate({identifier:Ie})}_removeServiceInstance(_e,Ie=Q._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(_e).clearInstance(Ie)}_addComponent(_e){(0,Q._addComponent)(this._delegate,_e)}_addOrOverwriteComponent(_e){(0,Q._addOrOverwriteComponent)(this._delegate,_e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Pe=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),q=function Ee(){const Ze=function Se(Ze){const _e={},Ie={__esModule:!0,initializeApp:function Re(ie,We={}){const re=Q.initializeApp(ie,We);if((0,l.r3)(_e,re.name))return _e[re.name];const ge=new Ze(re,Ie);return _e[re.name]=ge,ge},app:Ge,registerVersion:Q.registerVersion,setLogLevel:Q.setLogLevel,onLog:Q.onLog,apps:null,SDK_VERSION:Q.SDK_VERSION,INTERNAL:{registerComponent:function Ce(ie){const We=ie.name,re=We.replace("-compat","");if(Q._registerComponent(ie)&&"PUBLIC"===ie.type){const ge=(ve=Ge())=>{if("function"!=typeof ve[re])throw Pe.create("invalid-app-argument",{appName:We});return ve[re]()};void 0!==ie.serviceProps&&(0,l.ZB)(ge,ie.serviceProps),Ie[re]=ge,Ze.prototype[re]=function(...ve){return this._getService.bind(this,We).apply(this,ie.multipleInstances?ve:[])}}return"PUBLIC"===ie.type?Ie[re]:null},removeApp:function nt(ie){delete _e[ie]},useAsService:function et(ie,We){return"serverAuth"===We?null:We},modularAPIs:Q}};function Ge(ie){if(!(0,l.r3)(_e,ie=ie||Q._DEFAULT_ENTRY_NAME))throw Pe.create("no-app",{appName:ie});return _e[ie]}return Ie.default=Ie,Object.defineProperty(Ie,"apps",{get:function Ne(){return Object.keys(_e).map(ie=>_e[ie])}}),Ge.App=Ze,Ie}(fe);return Ze.INTERNAL=Object.assign(Object.assign({},Ze.INTERNAL),{createFirebaseNamespace:Ee,extendNamespace:function _e(Ie){(0,l.ZB)(Ze,Ie)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),Ze}(),W=new le.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){W.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ze=self.firebase.SDK_VERSION;Ze&&Ze.indexOf("LITE")>=0&&W.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const je=q;!function ke(Ze){(0,Q.registerVersion)("@firebase/app-compat","0.1.22",Ze)}()},8026:(Ct,Le,k)=>{"use strict";k.r(Le),k.d(Le,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>Os,_DEFAULT_ENTRY_NAME:()=>jt,_addComponent:()=>wt,_addOrOverwriteComponent:()=>hn,_apps:()=>it,_clearComponents:()=>jn,_components:()=>Lt,_getProvider:()=>on,_registerComponent:()=>nn,_removeServiceInstance:()=>fn,deleteApp:()=>ms,getApp:()=>Fr,getApps:()=>Vr,initializeApp:()=>qi,onLog:()=>zn,registerVersion:()=>Ur,setLogLevel:()=>qn});var l=k(8239),H=k(3910),Q=k(5422),le=k(3854);class fe{constructor(Ae){this.container=Ae}getPlatformInfoString(){return this.container.getProviders().map(rt=>{if(function pe(Ye){const Ae=Ye.getComponent();return"VERSION"===(null==Ae?void 0:Ae.type)}(rt)){const vt=rt.getImmediate();return`${vt.library}/${vt.version}`}return null}).filter(rt=>rt).join(" ")}}const Pe="@firebase/app",Ee=new Q.Yd("@firebase/app"),jt="[DEFAULT]",ot={[Pe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},it=new Map,Lt=new Map;function wt(Ye,Ae){try{Ye.container.addComponent(Ae)}catch(rt){Ee.debug(`Component ${Ae.name} failed to register with FirebaseApp ${Ye.name}`,rt)}}function hn(Ye,Ae){Ye.container.addOrOverwriteComponent(Ae)}function nn(Ye){const Ae=Ye.name;if(Lt.has(Ae))return Ee.debug(`There were multiple attempts to register component ${Ae}.`),!1;Lt.set(Ae,Ye);for(const rt of it.values())wt(rt,Ye);return!0}function on(Ye,Ae){const rt=Ye.container.getProvider("heartbeat").getImmediate({optional:!0});return rt&&rt.triggerHeartbeat(),Ye.container.getProvider(Ae)}function fn(Ye,Ae,rt=jt){on(Ye,Ae).clearInstance(rt)}function jn(){Lt.clear()}const _r=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Ir{constructor(Ae,rt,vt){this._isDeleted=!1,this._options=Object.assign({},Ae),this._config=Object.assign({},rt),this._name=rt.name,this._automaticDataCollectionEnabled=rt.automaticDataCollectionEnabled,this._container=vt,this.container.addComponent(new H.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ae){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ae}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ae){this._isDeleted=Ae}checkDestroyed(){if(this.isDeleted)throw _r.create("app-deleted",{appName:this._name})}}const Os="9.6.11";function qi(Ye,Ae={}){"object"!=typeof Ae&&(Ae={name:Ae});const rt=Object.assign({name:jt,automaticDataCollectionEnabled:!1},Ae),vt=rt.name;if("string"!=typeof vt||!vt)throw _r.create("bad-app-name",{appName:String(vt)});const Pt=it.get(vt);if(Pt){if((0,le.vZ)(Ye,Pt.options)&&(0,le.vZ)(rt,Pt.config))return Pt;throw _r.create("duplicate-app",{appName:vt})}const Vt=new H.H0(vt);for(const Z of Lt.values())Vt.addComponent(Z);const K=new Ir(Ye,rt,Vt);return it.set(vt,K),K}function Fr(Ye=jt){const Ae=it.get(Ye);if(!Ae)throw _r.create("no-app",{appName:Ye});return Ae}function Vr(){return Array.from(it.values())}function ms(Ye){return ht.apply(this,arguments)}function ht(){return(ht=(0,l.Z)(function*(Ye){const Ae=Ye.name;it.has(Ae)&&(it.delete(Ae),yield Promise.all(Ye.container.getProviders().map(rt=>rt.delete())),Ye.isDeleted=!0)})).apply(this,arguments)}function Ur(Ye,Ae,rt){var vt;let Pt=null!==(vt=ot[Ye])&&void 0!==vt?vt:Ye;rt&&(Pt+=`-${rt}`);const Vt=Pt.match(/\s|\//),K=Ae.match(/\s|\//);if(Vt||K){const Z=[`Unable to register library "${Pt}" with version "${Ae}":`];return Vt&&Z.push(`library name "${Pt}" contains illegal characters (whitespace or "/")`),Vt&&K&&Z.push("and"),K&&Z.push(`version name "${Ae}" contains illegal characters (whitespace or "/")`),void Ee.warn(Z.join(" "))}nn(new H.wA(`${Pt}-version`,()=>({library:Pt,version:Ae}),"VERSION"))}function zn(Ye,Ae){if(null!==Ye&&"function"!=typeof Ye)throw _r.create("invalid-log-argument");(0,Q.Am)(Ye,Ae)}function qn(Ye){(0,Q.Ub)(Ye)}const Wn="firebase-heartbeat-store";let Kn=null;function ui(){return Kn||(Kn=(0,le.X3)("firebase-heartbeat-database",1,(Ye,Ae)=>{0===Ae&&Ye.createObjectStore(Wn)}).catch(Ye=>{throw _r.create("storage-open",{originalErrorMessage:Ye.message})})),Kn}function qt(){return(qt=(0,l.Z)(function*(Ye){try{return(yield ui()).transaction(Wn).objectStore(Wn).get(xi(Ye))}catch(Ae){throw _r.create("storage-get",{originalErrorMessage:Ae.message})}})).apply(this,arguments)}function mt(Ye,Ae){return _t.apply(this,arguments)}function _t(){return(_t=(0,l.Z)(function*(Ye,Ae){try{const vt=(yield ui()).transaction(Wn,"readwrite");return yield vt.objectStore(Wn).put(Ae,xi(Ye)),vt.complete}catch(rt){throw _r.create("storage-set",{originalErrorMessage:rt.message})}})).apply(this,arguments)}function xi(Ye){return`${Ye.name}!${Ye.options.appId}`}class ys{constructor(Ae){this.container=Ae,this._heartbeatsCache=null;const rt=this.container.getProvider("app").getImmediate();this._storage=new Dt(rt),this._heartbeatsCachePromise=this._storage.read().then(vt=>(this._heartbeatsCache=vt,vt))}triggerHeartbeat(){var Ae=this;return(0,l.Z)(function*(){const vt=Ae.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Pt=yn();if(null===Ae._heartbeatsCache&&(Ae._heartbeatsCache=yield Ae._heartbeatsCachePromise),Ae._heartbeatsCache.lastSentHeartbeatDate!==Pt&&!Ae._heartbeatsCache.heartbeats.some(Vt=>Vt.date===Pt))return Ae._heartbeatsCache.heartbeats.push({date:Pt,agent:vt}),Ae._heartbeatsCache.heartbeats=Ae._heartbeatsCache.heartbeats.filter(Vt=>{const K=new Date(Vt.date).valueOf();return Date.now()-K<=2592e6}),Ae._storage.overwrite(Ae._heartbeatsCache)})()}getHeartbeatsHeader(){var Ae=this;return(0,l.Z)(function*(){if(null===Ae._heartbeatsCache&&(yield Ae._heartbeatsCachePromise),null===Ae._heartbeatsCache||0===Ae._heartbeatsCache.heartbeats.length)return"";const rt=yn(),{heartbeatsToSend:vt,unsentEntries:Pt}=function tr(Ye,Ae=1024){const rt=[];let vt=Ye.slice();for(const Pt of Ye){const Vt=rt.find(K=>K.agent===Pt.agent);if(Vt){if(Vt.dates.push(Pt.date),yr(rt)>Ae){Vt.dates.pop();break}}else if(rt.push({agent:Pt.agent,dates:[Pt.date]}),yr(rt)>Ae){rt.pop();break}vt=vt.slice(1)}return{heartbeatsToSend:rt,unsentEntries:vt}}(Ae._heartbeatsCache.heartbeats),Vt=(0,le.L)(JSON.stringify({version:2,heartbeats:vt}));return Ae._heartbeatsCache.lastSentHeartbeatDate=rt,Pt.length>0?(Ae._heartbeatsCache.heartbeats=Pt,yield Ae._storage.overwrite(Ae._heartbeatsCache)):(Ae._heartbeatsCache.heartbeats=[],Ae._storage.overwrite(Ae._heartbeatsCache)),Vt})()}}function yn(){return(new Date).toISOString().substring(0,10)}class Dt{constructor(Ae){this.app=Ae,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,le.hl)()&&(0,le.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ae=this;return(0,l.Z)(function*(){return(yield Ae._canUseIndexedDBPromise)&&(yield function io(Ye){return qt.apply(this,arguments)}(Ae.app))||{heartbeats:[]}})()}overwrite(Ae){var rt=this;return(0,l.Z)(function*(){var vt;if(yield rt._canUseIndexedDBPromise){const Vt=yield rt.read();return mt(rt.app,{lastSentHeartbeatDate:null!==(vt=Ae.lastSentHeartbeatDate)&&void 0!==vt?vt:Vt.lastSentHeartbeatDate,heartbeats:Ae.heartbeats})}})()}add(Ae){var rt=this;return(0,l.Z)(function*(){var vt;if(yield rt._canUseIndexedDBPromise){const Vt=yield rt.read();return mt(rt.app,{lastSentHeartbeatDate:null!==(vt=Ae.lastSentHeartbeatDate)&&void 0!==vt?vt:Vt.lastSentHeartbeatDate,heartbeats:[...Vt.heartbeats,...Ae.heartbeats]})}})()}}function yr(Ye){return(0,le.L)(JSON.stringify({version:2,heartbeats:Ye})).length}!function Ft(Ye){nn(new H.wA("platform-logger",Ae=>new fe(Ae),"PRIVATE")),nn(new H.wA("heartbeat",Ae=>new ys(Ae),"PRIVATE")),Ur(Pe,"0.7.21",Ye),Ur(Pe,"0.7.21","esm2017"),Ur("fire-js","")}("")},3910:(Ct,Le,k)=>{"use strict";k.d(Le,{H0:()=>Se,wA:()=>Q});var l=k(8239),H=k(3854);class Q{constructor(q,W,ae){this.name=q,this.instanceFactory=W,this.type=ae,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(q){return this.instantiationMode=q,this}setMultipleInstances(q){return this.multipleInstances=q,this}setServiceProps(q){return this.serviceProps=q,this}setInstanceCreatedCallback(q){return this.onInstanceCreated=q,this}}const le="[DEFAULT]";class fe{constructor(q,W){this.name=q,this.container=W,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(q){const W=this.normalizeInstanceIdentifier(q);if(!this.instancesDeferred.has(W)){const ae=new H.BH;if(this.instancesDeferred.set(W,ae),this.isInitialized(W)||this.shouldAutoInitialize())try{const Ve=this.getOrInitializeService({instanceIdentifier:W});Ve&&ae.resolve(Ve)}catch(Ve){}}return this.instancesDeferred.get(W).promise}getImmediate(q){var W;const ae=this.normalizeInstanceIdentifier(null==q?void 0:q.identifier),Ve=null!==(W=null==q?void 0:q.optional)&&void 0!==W&&W;if(!this.isInitialized(ae)&&!this.shouldAutoInitialize()){if(Ve)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ae})}catch(ke){if(Ve)return null;throw ke}}getComponent(){return this.component}setComponent(q){if(q.name!==this.name)throw Error(`Mismatching Component ${q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=q,this.shouldAutoInitialize()){if(function Pe(Ee){return"EAGER"===Ee.instantiationMode}(q))try{this.getOrInitializeService({instanceIdentifier:le})}catch(W){}for(const[W,ae]of this.instancesDeferred.entries()){const Ve=this.normalizeInstanceIdentifier(W);try{const ke=this.getOrInitializeService({instanceIdentifier:Ve});ae.resolve(ke)}catch(ke){}}}}clearInstance(q=le){this.instancesDeferred.delete(q),this.instancesOptions.delete(q),this.instances.delete(q)}delete(){var q=this;return(0,l.Z)(function*(){const W=Array.from(q.instances.values());yield Promise.all([...W.filter(ae=>"INTERNAL"in ae).map(ae=>ae.INTERNAL.delete()),...W.filter(ae=>"_delete"in ae).map(ae=>ae._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(q=le){return this.instances.has(q)}getOptions(q=le){return this.instancesOptions.get(q)||{}}initialize(q={}){const{options:W={}}=q,ae=this.normalizeInstanceIdentifier(q.instanceIdentifier);if(this.isInitialized(ae))throw Error(`${this.name}(${ae}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ve=this.getOrInitializeService({instanceIdentifier:ae,options:W});for(const[ke,je]of this.instancesDeferred.entries())ae===this.normalizeInstanceIdentifier(ke)&&je.resolve(Ve);return Ve}onInit(q,W){var ae;const Ve=this.normalizeInstanceIdentifier(W),ke=null!==(ae=this.onInitCallbacks.get(Ve))&&void 0!==ae?ae:new Set;ke.add(q),this.onInitCallbacks.set(Ve,ke);const je=this.instances.get(Ve);return je&&q(je,Ve),()=>{ke.delete(q)}}invokeOnInitCallbacks(q,W){const ae=this.onInitCallbacks.get(W);if(ae)for(const Ve of ae)try{Ve(q,W)}catch(ke){}}getOrInitializeService({instanceIdentifier:q,options:W={}}){let ae=this.instances.get(q);if(!ae&&this.component&&(ae=this.component.instanceFactory(this.container,{instanceIdentifier:(Ee=q,Ee===le?void 0:Ee),options:W}),this.instances.set(q,ae),this.instancesOptions.set(q,W),this.invokeOnInitCallbacks(ae,q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,q,ae)}catch(Ve){}var Ee;return ae||null}normalizeInstanceIdentifier(q=le){return this.component?this.component.multipleInstances?q:le:q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Se{constructor(q){this.name=q,this.providers=new Map}addComponent(q){const W=this.getProvider(q.name);if(W.isComponentSet())throw new Error(`Component ${q.name} has already been registered with ${this.name}`);W.setComponent(q)}addOrOverwriteComponent(q){this.getProvider(q.name).isComponentSet()&&this.providers.delete(q.name),this.addComponent(q)}getProvider(q){if(this.providers.has(q))return this.providers.get(q);const W=new fe(q,this);return this.providers.set(q,W),W}getProviders(){return Array.from(this.providers.values())}}},5422:(Ct,Le,k)=>{"use strict";k.d(Le,{Am:()=>Ee,Ub:()=>Se,Yd:()=>Pe,in:()=>H});const l=[];var H=(()=>{return(q=H||(H={}))[q.DEBUG=0]="DEBUG",q[q.VERBOSE=1]="VERBOSE",q[q.INFO=2]="INFO",q[q.WARN=3]="WARN",q[q.ERROR=4]="ERROR",q[q.SILENT=5]="SILENT",H;var q})();const Q={debug:H.DEBUG,verbose:H.VERBOSE,info:H.INFO,warn:H.WARN,error:H.ERROR,silent:H.SILENT},le=H.INFO,fe={[H.DEBUG]:"log",[H.VERBOSE]:"log",[H.INFO]:"info",[H.WARN]:"warn",[H.ERROR]:"error"},pe=(q,W,...ae)=>{if(W<q.logLevel)return;const Ve=(new Date).toISOString(),ke=fe[W];if(!ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${W})`);console[ke](`[${Ve}]  ${q.name}:`,...ae)};class Pe{constructor(W){this.name=W,this._logLevel=le,this._logHandler=pe,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(W){if(!(W in H))throw new TypeError(`Invalid value "${W}" assigned to \`logLevel\``);this._logLevel=W}setLogLevel(W){this._logLevel="string"==typeof W?Q[W]:W}get logHandler(){return this._logHandler}set logHandler(W){if("function"!=typeof W)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=W}get userLogHandler(){return this._userLogHandler}set userLogHandler(W){this._userLogHandler=W}debug(...W){this._userLogHandler&&this._userLogHandler(this,H.DEBUG,...W),this._logHandler(this,H.DEBUG,...W)}log(...W){this._userLogHandler&&this._userLogHandler(this,H.VERBOSE,...W),this._logHandler(this,H.VERBOSE,...W)}info(...W){this._userLogHandler&&this._userLogHandler(this,H.INFO,...W),this._logHandler(this,H.INFO,...W)}warn(...W){this._userLogHandler&&this._userLogHandler(this,H.WARN,...W),this._logHandler(this,H.WARN,...W)}error(...W){this._userLogHandler&&this._userLogHandler(this,H.ERROR,...W),this._logHandler(this,H.ERROR,...W)}}function Se(q){l.forEach(W=>{W.setLogLevel(q)})}function Ee(q,W){for(const ae of l){let Ve=null;W&&W.level&&(Ve=Q[W.level]),ae.userLogHandler=null===q?null:(ke,je,...Ze)=>{const _e=Ze.map(Ie=>{if(null==Ie)return null;if("string"==typeof Ie)return Ie;if("number"==typeof Ie||"boolean"==typeof Ie)return Ie.toString();if(Ie instanceof Error)return Ie.message;try{return JSON.stringify(Ie)}catch(nt){return null}}).filter(Ie=>Ie).join(" ");je>=(null!=Ve?Ve:ke.logLevel)&&q({level:H[je].toLowerCase(),message:_e,args:Ze,type:ke.name})}}}},8239:(Ct,Le,k)=>{"use strict";function l(Q,le,fe,pe,Pe,Se,Ee){try{var q=Q[Se](Ee),W=q.value}catch(ae){return void fe(ae)}q.done?le(W):Promise.resolve(W).then(pe,Pe)}function H(Q){return function(){var le=this,fe=arguments;return new Promise(function(pe,Pe){var Se=Q.apply(le,fe);function Ee(W){l(Se,pe,Pe,Ee,q,"next",W)}function q(W){l(Se,pe,Pe,Ee,q,"throw",W)}Ee(void 0)})}}k.d(Le,{Z:()=>H})}},Ct=>{Ct(Ct.s=1526)}]);